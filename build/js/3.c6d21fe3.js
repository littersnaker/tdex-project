webpackJsonp([3],{136:function(e,t,n){"use strict";(function(e){function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"b",function(){return v}),n.d(t,"a",function(){return y}),n.d(t,"c",function(){return b}),n.d(t,"d",function(){return E}),n.d(t,"e",function(){return w});var i=n(0),s=n.n(i),l=n(14),c=n.n(l),u=n(17),d=n.n(u),p=n(24),h=n(125),f=n.n(h),m=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),g=e,v=function(e){function t(e){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onUnActiveMouseEvent=n.onUnActiveMouseEvent.bind(n),n.onActiveMouseEvent=n.onActiveMouseEvent.bind(n),n.mouseEvents={click:{onClick:n.onActiveMouseEvent},contextMenu:{onContextMenu:n.onActiveMouseEvent}},n.state={active:!1},n}return o(t,e),m(t,[{key:"onActiveMouseEvent",value:function(e){var t=this;this.props.disabled||(this.state.active?this._onUnActiveMouseEvent():(this.setState({active:!0}),this.props.onClick&&this.props.onClick(),this.props.menuRef&&(this.props.menuRef()._show(),this.menuNode||(this.menuNode=d.a.findDOMNode(this.props.menuRef()))),this.timer&&(clearTimeout(this.timer),this.timer=0),this.timer=setTimeout(function(){window.addEventListener("click",t.onUnActiveMouseEvent)},100)))}},{key:"onUnActiveMouseEvent",value:function(e){if(!this.props.disabled&&this.state.active&&this.menuNode){var t=e.target;g(this.menuNode).find(g(t)).length>0||(this._onUnActiveMouseEvent(),e.stopPropagation())}}},{key:"visibleCallback",value:function(e){e||this._onUnActiveMouseEvent()}},{key:"_onUnActiveMouseEvent",value:function(){this.setState({active:!1}),this.props.menuRef&&this.props.menuRef()._hide(),this.timer&&(clearTimeout(this.timer),this.timer=0),window.removeEventListener("click",this.onUnActiveMouseEvent)}},{key:"componentWillUnmount",value:function(){this._onUnActiveMouseEvent(),this.menuNode&&(this.menuNode=null)}},{key:"render",value:function(){var e=this.props,t=e.trigger,n=e.children,a=e.disabled,r=this.mouseEvents[t];if(n.hasOwnProperty("length"))return r.className=f()(a?"disable curs-not":""),s.a.createElement("div",r,n);var o=s.a.Children.only(n);return r.className=f()(a?"disable curs-not":"",o.props.className),s.a.cloneElement(o,r)}}]),t}(p.a),y=function(e){function t(e){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={visible:!!n.props.visible},n}return o(t,e),m(t,[{key:"show",value:function(){this.props.pnRef().visibleCallback(!0)}},{key:"hide",value:function(){this.props.pnRef().visibleCallback(!1)}},{key:"_show",value:function(){this.state.visible||this.setState({visible:!0})}},{key:"_hide",value:function(){this.state.visible&&this.setState({visible:!1})}},{key:"render",value:function(){var e=this.state.visible,t=this.props.children,n=s.a.Children.only(t);return s.a.cloneElement(n,{className:f()(e?"":"hide",this.props.className,n.props.className)})}}]),t}(p.a);y.defaultProps={visible:!1,className:"",pnRef:function(){}},y.propTypes={visible:c.a.bool,className:c.a.string,pnRef:c.a.func};var b=function(e){function t(e){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onMouseDown=n.onMouseDown.bind(n),n.state={visible:!!n.props.visible},n}return o(t,e),m(t,[{key:"show",value:function(){this._show(),this.pnRef.visibleCallback(!0)}},{key:"hide",value:function(){this._hide(),this.pnRef.visibleCallback(!1)}},{key:"_show",value:function(){this.state.visible||this.setState({visible:!0})}},{key:"_hide",value:function(){this.state.visible&&this.setState({visible:!1})}},{key:"renderMenuItem",value:function(e,t,n){if(!e)return null;var a=Object.assign({},e.props);return"function"==typeof e.type&&e.type==E&&(a.visible=this.state.visible),s.a.cloneElement(e,a)}},{key:"onMouseDown",value:function(e){e.stopPropagation()}},{key:"render",value:function(){var e=this.state.visible,t=Object.assign({onClick:this.onMouseDown},this.props,{className:f()(e?"":"hide",this.props.className)});return delete t.visible,delete t.pnRef,s.a.createElement("ul",t,s.a.Children.map(t.children,this.renderMenuItem.bind(this)))}}]),t}(p.a);b.defaultProps={visible:!1,className:"",pnRef:function(){}},b.propTypes={visible:c.a.bool,className:c.a.string,pnRef:c.a.func};var E=function(e){function t(e){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onMouseLeave=n.onMouseLeave.bind(n),n.onMouseEnter=n.onMouseEnter.bind(n),n.state={active:!1},n}return o(t,e),m(t,[{key:"onMouseEnter",value:function(e){e.stopPropagation(),this.state.active||this.setState({active:!0})}},{key:"componentWillReceiveProps",value:function(e){this.props.visible==e.visible||e.visible||this.setState({active:!1})}},{key:"mouseInDiv",value:function(e,t,n){var a=g(n),r=a.offset().top,o=r+a.height(),i=a.offset().left,s=i+a.width();return!(e<i||e>s||t<r||t>o)}},{key:"onMouseLeave",value:function(e){if(e.stopPropagation(),this.state.active&&this.subMenuNode&&-1==["SELECT","OPTION","INPUT"].indexOf(e.target.tagName)){var t=e.pageX,n=e.pageY;this.mouseInDiv(t,n,this.subMenuNode)||this.setState({active:!1})}}},{key:"subMenuRef",value:function(e){this.subMenuNode=e?d.a.findDOMNode(e):null}},{key:"render",value:function(){var e=this.state.active,t=this.props.tags,n=Object.assign({},this.props);delete n.visible;var a,r=this,o=s.a.Children.map(n.children,function(t,n,o){if(t){var i=!1;"function"==typeof t.type&&t.type==w&&(a=t,i=!0);var l={};i&&(l.visible=e,l.ref=r.subMenuRef.bind(r));var c=Object.assign({},t.props,l);return s.a.cloneElement(t,c)}});return a&&Object.assign(n,{onMouseLeave:this.onMouseLeave,onMouseEnter:this.onMouseEnter}),delete n.tags,s.a.createElement(t,n,o)}}]),t}(p.a);E.defaultProps={visible:!1,tags:"li"},E.propTypes={visible:c.a.bool,tags:c.a.string};var w=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),m(t,[{key:"renderMenuItem",value:function(e,t,n){if(!e)return null;var a=Object.assign({},e.props);return"function"==typeof e.type&&e.type==E&&(a.visible=this.props.visible),s.a.cloneElement(e,a)}},{key:"render",value:function(){var e=this.props,t=e.visible,n=e.tags,a=Object.assign({},this.props,{className:f()("sub-menu",t?"":"hide",this.props.className)});return delete a.visible,delete a.tags,s.a.createElement(n,a,s.a.Children.map(a.children,this.renderMenuItem.bind(this)))}}]),t}(p.a);w.defaultProps={visible:!1,tags:"ul",className:""},w.propTypes={visible:c.a.bool,tags:c.a.string,className:c.a.string}}).call(t,n(13))},156:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),s=n.n(i),l=n(24),c=n(5),u=n(16),d=n(15),p=n(10),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),f=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),h(t,[{key:"clickCode",value:function(e,t){t.preventDefault(),t.stopPropagation(),e&&this.props.onSelect&&this.props.onSelect(e.Code,e instanceof p.a)}},{key:"render",value:function(){var e=this.props,t=e.inMenu,n=e.data;if(n){var a=n.price,r=a&&a.hasOwnProperty("chg")?a.chg:0,o=Number(r),i=a&&a.hasOwnProperty("VOL_24h")?a.VOL_24h:0,l=n&&n.Code?n.fromCode.toUpperCase():"",p=n&&n.Name?n.Name:"",h=a&&a.LAST?a.LAST:0,f=a&&a.hasOwnProperty("LAST_CHANGED")?a.LAST_CHANGED:0;f=f==h?0:f;var m=n.toCode,g=Object(c.c)(u.a.CURRENCY[m]);return t?s.a.createElement("li",{className:"drop-menu-item current",onClick:this.clickCode.bind(this,n)},s.a.createElement("span",null,s.a.createElement("i",{className:"iconfont icon-"+l+" fem1 pdr-10"}),s.a.createElement("a",{href:"#"},p)),s.a.createElement("span",{className:h>0?f<0?"red1":f>0?"green4":"":""},h>0?g.sb+d.a.formatAmount(h,n.PriceFixed):"--",s.a.createElement("i",{className:h>0?f<0?"iconfont icon-down red1":f>0?"iconfont icon-up green4":"iconfont":"iconfont"})),s.a.createElement("span",{className:h>0?o<0?"red1":o>0?"green4":"":""},h>0?(o>0?"+"+r:r)+"%":"--"),s.a.createElement("span",null,d.a.addCommas(i))):s.a.createElement("div",{className:"tick-price fl ml-20"},s.a.createElement("span",{className:h>0?f<0?"red1":f>0?"green4":"":""},h>0?g.sb+d.a.formatAmount(h,n.PriceFixed):"--",s.a.createElement("i",{className:h>0?f<0?"iconfont icon-down fem125":f>0?"iconfont icon-up fem125":"iconfont fem125":"iconfont fem125"})),s.a.createElement("span",{className:h>0?o<0?"ml-10 red1":o>0?"ml-10 green4":"ml-20":"ml-10"},h>0?(o>0?"+"+r:r)+"%":"--"))}return t?s.a.createElement("li",{className:"drop-menu-item current"},s.a.createElement("span",{className:"fem1 pdr-10"},"--"),s.a.createElement("span",null,"--"),s.a.createElement("span",null,"--"),s.a.createElement("span",null,"--")):s.a.createElement("div",{className:"tick-price fl ml-20"},s.a.createElement("span",null,"--"),s.a.createElement("span",{className:"ml-10"},"--"))}}]),t}(l.a);t.a=f},164:function(e,t,n){"use strict";(function(e){function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"l",function(){return K}),n.d(t,"k",function(){return Y}),n.d(t,"f",function(){return q}),n.d(t,"j",function(){return X}),n.d(t,"h",function(){return G}),n.d(t,"e",function(){return Q}),n.d(t,"a",function(){return Z}),n.d(t,"c",function(){return $}),n.d(t,"b",function(){return ee}),n.d(t,"d",function(){return te}),n.d(t,"i",function(){return ne}),n.d(t,"g",function(){return ae});var i=n(2),s=n(0),l=n.n(s),c=n(17),u=n.n(c),d=n(24),p=n(29),h=n(228),f=n.n(h),m=n(149),g=n.n(m),v=n(136),y=n(326),b=n(26),E=n(5),w=n(16),C=n(15),P=n(3),S=n(229),k=n(553),T=n(230),D=n(6),A=n(12),x=n(27),O=n(28),N=n.n(O),_=n(231),M=n(186),R=(n.n(M),n(562)),I=n(9),L=n(20),j=n(30),B=n(1),U=n(140),F=n(327),z="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V=function e(t,n,a){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,a)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(a)},W=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),H=e,K=function(e){function t(e){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.domIndex=0,n.nextInd=null,n.domHeight=0,n.startMove=!1,n.domDiv=null,n.preferenceKey="fno";var o=n.initState(n.props);return n.state=Object.assign({},o,{heightMap:[{h:387},{h:310},{h:81},{h:243}],expandKey:""}),n}return o(t,e),W(t,[{key:"initState",value:function(e){if(e.code){var t=p.a.getProduct(e.code);if(t)return{products:t,componentMap:A.a.loadPreference("FtTradeComponent")||[1,2,3,4]}}return{products:[],componentMap:[1,2,3,4]}}},{key:"componentWillReceiveProps",value:function(e){if(e.code!=this.props.code)if(this.props.code)this.onProductUpdate(e.code);else{var t=this.initState(e);this.setState(t)}}},{key:"componentWillMount",value:function(){P.a.addOnce(P.a.EventName.PRODUCT_UPDATE,this.onProductUpdate.bind(this),this)}},{key:"onProductUpdate",value:function(e){(e="string"==typeof e?e:this.props.code)&&this.setState({products:p.a.getProduct(e)})}},{key:"sortComponent",value:function(e,t){if(!t)return!1;var n,a=this.state.componentMap;"Up"==t?(n=a[e],a[e]=a[e-1],a[e-1]=n):"Down"==t&&(n=a[e],a[e]=a[e+1],a[e+1]=n),t&&(this.setState({componentMap:a}),A.a.savePreference("FtTradeComponent",a))}},{key:"dragStart",value:function(e,t){e.preventDefault(),this.domIndex=t,this.domHeight=H(".newOrder-drag"+this.domIndex).height()+10,this.domDiv=H(".newOrder-drag"+this.domIndex)}},{key:"dragEnd",value:function(e,t,n){e.preventDefault();var a=n<-50?"Up":n>50&&"Down";this.sortComponent(this.domIndex,a),this.resetTransate(0)}},{key:"dragMove",value:function(e,t,n){e.preventDefault();var a,r=this.domHeight;0!=this.domIndex&&n<-50?(this.startMove=1,a=this.domIndex-1):3!=this.domIndex&&n>50?(this.startMove=2,a=this.domIndex+1,r=-r):1!=this.startMove&&2!=this.startMove||(a=this.nextInd,r=0),void 0!==a&&(this.nextInd=a,this.domDiv=H(".newOrder-drag"+this.nextInd),1!=this.startMove&&2!=this.startMove||this.resetTransate(r),console.log(t,n,r,"nextInd:"+this.nextInd))}},{key:"resetTransate",value:function(e){if(this.domDiv){var t=0!==e?"translate(0, "+e+"px)":"none";this.domDiv.css({transform:t})}}},{key:"dragEndChange",value:function(e,t){"open"==e?this.popNewPanel(t):"close"==e?this.closeNewOpen(t):"reset"==e?this.setState({expandKey:""}):"refreshScroll"==e&&this.refs.formScrollArea.scrollArea.refresh()}},{key:"popNewPanel",value:function(e){var t,n=this,a=this.state.products[0],r=e[1];"FutCommOrderBook"==r?t=l.a.createElement($,{product:a,isExpert:!0,ind:e[0],open:!0,onChange:function(e,t){n.dragEndChange(e,t)}}):"FutCloseOrderBook"==r?t=l.a.createElement(ee,{product:a,isExpert:!0,ind:e[0],open:!0,onChange:function(e,t){n.dragEndChange(e,t)}}):"FutContractDetail"==r&&(t=l.a.createElement(te,{product:a,isExpert:!0,ind:e[0],open:!0,onChange:function(e,t){n.dragEndChange(e,t)}})),u.a.render(l.a.createElement(R.a,{className:"dragDiv-openBg",bounds:"parent",isPop:!0,hasDraggerHandle:!0,style:{margin:10}},l.a.createElement(U.a,{showError:!0},t)),document.getElementById("drag-order-panel")),H("#klineMask").removeClass("hide")}},{key:"closeNewOpen",value:function(e){u.a.unmountComponentAtNode(document.getElementById("drag-order-panel")),e&&this.setState({expandKey:e[0]}),H("#klineMask").addClass("hide")}},{key:"render",value:function(){var e=this,t=this.props,n=t.style,a=t.className,r=this.state,o=(r.expanded,r.products),i=r.componentMap,s=r.expandKey,c=o[0];return l.a.createElement("div",{className:a,style:n},l.a.createElement("div",{className:"header-title flex-box flex-jc mt-5"},l.a.createElement("h5",{className:"fs11 hide"},"\xa0")),l.a.createElement("div",{style:{height:"calc(100% - 8px)",transition:"height 300ms"}},l.a.createElement(f.a,{className:"t5-sa",contentClassName:"order-content",ref:"formScrollArea"},l.a.createElement("div",{className:"ft-order-market"},i.map(function(t,n){var a=n;return 1==t?l.a.createElement(R.a,{key:n,className:"dragDiv-bg newOrder-drag"+n,hasDraggerHandle:!0,allowY:!0,bounds:"parent",resetXY:!0,onDragStart:function(t,n){e.dragStart(t,a)},onDragEnd:function(t,n,a){return e.dragEnd(t,n,a)},onMove:function(t,n,a){return e.dragMove(t,n,a)}},l.a.createElement(U.a,{showError:!0},l.a.createElement(q,{product:c,isExpert:!0,expandKey:s,onChange:function(t,n){e.dragEndChange(t,n)},ind:n}))):2==t?l.a.createElement(R.a,{key:n,className:"dragDiv-bg newOrder-drag"+n,hasDraggerHandle:!0,allowY:!0,bounds:"parent",resetXY:!0,onDragStart:function(t,n){e.dragStart(t,a)},onDragEnd:function(t,n,a){return e.dragEnd(t,n,a)},onMove:function(t,n,a){return e.dragMove(t,n,a)}},l.a.createElement(U.a,{showError:!0},l.a.createElement($,{product:c,isExpert:!0,expandKey:s,onChange:function(t,n){e.dragEndChange(t,n)},ind:n}))):3==t?l.a.createElement(R.a,{key:n,className:"dragDiv-bg newOrder-drag"+n,hasDraggerHandle:!0,allowY:!0,bounds:"parent",resetXY:!0,onDragStart:function(t,n){e.dragStart(t,a)},onDragEnd:function(t,n,a){return e.dragEnd(t,n,a)},onMove:function(t,n,a){return e.dragMove(t,n,a)}},l.a.createElement(U.a,{showError:!0},l.a.createElement(ee,{product:c,isExpert:!0,expandKey:s,onChange:function(t,n){e.dragEndChange(t,n)},ind:n}))):4==t?l.a.createElement(R.a,{key:n,className:"dragDiv-bg newOrder-drag"+n,hasDraggerHandle:!0,allowY:!0,bounds:"parent",resetXY:!0,onDragStart:function(t,n){e.dragStart(t,a)},onDragEnd:function(t,n,a){return e.dragEnd(t,n,a)},onMove:function(t,n,a){return e.dragMove(t,n,a)}},l.a.createElement(U.a,{showError:!0},l.a.createElement(te,{product:c,isExpert:!0,expandKey:s,onChange:function(t,n){e.dragEndChange(t,n)},ind:n}))):void 0})))))}}]),t}(d.a),Y=function(e){function t(e){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),o=n.initState(n.props);return n.state=Object.assign({},o),n}return o(t,e),W(t,[{key:"initState",value:function(e){var t=this.getFundingData(this.props);return Object.assign({now:this.getNow(),offset:parseInt(L.a.svrTzMin/60)},t)}},{key:"getNow",value:function(){return L.a.ts2Server(L.a.getServerTimeStamp(),"HH:mm:ss")}},{key:"componentWillReceiveProps",value:function(e){if(e.product!=this.props.product)if(this.props.product)this.updateFundingData(e);else{var t=this.initState(e);this.setState(Object.assign({},t))}}},{key:"componentDidMount",value:function(){var e=this;this.timer=setInterval(function(){e.updateFundingData(e.props)},1e3)}},{key:"updateFundingData",value:function(e){var t=this.getFundingData(e);this.setState(Object.assign({now:this.getNow()},t))}},{key:"getFundingData",value:function(e){var t=e.product;if(t){var n=t.price;if(n)return{FUND_RATE:n.FUND_RATE,IND_FUND_RATE:n.IND_FUND_RATE,FUND_TS:n.FUND_TS}}return{FUND_RATE:0,IND_FUND_RATE:0,FUND_TS:0}}},{key:"componentWillUnmount",value:function(){this.timer&&(clearInterval(this.timer),this.timer=0)}},{key:"getRemainTime",value:function(e){if(!e)return 0;var t=L.a.getServerTimeStamp(!0);return t=t||(new Date).getTime(),e-t}},{key:"setMenuRef",value:function(e){this.menuRef=e}},{key:"render",value:function(){var e=this,t=this.props,n=t.product,a=(t.ind,t.order),r=this.state,o=r.now,s=r.offset,c=r.FUND_RATE,u=r.IND_FUND_RATE,d=r.FUND_TS,h=p.a.getCodeList(),f=h.length;return l.a.createElement("div",{className:"order-code ft-bd-53 mt-5 f-clear"},l.a.createElement("div",{className:"pos-r"},l.a.createElement("div",null,l.a.createElement("span",{className:"fs22 pdl-5"},n?n.Code:"--"),l.a.createElement(v.b,{trigger:"click",menuRef:function(){return e.menuRef},disabled:!!a,ref:function(t){return e.dropDownRef=t}},l.a.createElement("i",{className:"iconfont icon-xiala"})),l.a.createElement("span",{className:"utc-time"},o+i.a.lang("common.bracket","UTC+"+s))),l.a.createElement("p",{className:"f-oh"},l.a.createElement("span",{className:"pdl-5"},i.a.lang("trade.fundingRate")),l.a.createElement("span",{className:"wp-50"},l.a.createElement("span",{className:"pdl-5"},C.a.toPercent(c,4)),l.a.createElement("span",null,"/"+C.a.toPercent(u,4))),l.a.createElement("span",{className:"pd05 fr","data-tip":i.a.lang("trade.funding.time")},Object(D.d)(this.getRemainTime(d))))),l.a.createElement("div",{className:"lh-50 pd010 market-menu-box"},l.a.createElement(v.a,{ref:this.setMenuRef.bind(this),pnRef:function(){return e.dropDownRef}},l.a.createElement("div",{className:"market-menu"},l.a.createElement("dl",null,l.a.createElement("dd",null,l.a.createElement("h3",null,n?n.Code:""),l.a.createElement("p",null))),f>1&&l.a.createElement("dl",null,h.map(function(e,t){if(e!=n.Code)return l.a.createElement("dd",{key:t},l.a.createElement("h3",null,e),l.a.createElement("p",null))}))))))}}]),t}(d.a),q=function(e){function t(e){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.checkValidFormData=function(e){return p.a.checkFormData(e)},n.submitOrder=function(e,t,a){var r=n.checkValidFormData(t),o=r.ok,i=r.error;if(o){var s=function(e){p.a.setting.isOneKeyTrade?n.openOrder(t,a):b.a.open(l.a.createElement(ae,{product:n.props.product,data:t,action:"open",x:e.clientX,y:e.clientY,onConfirm:function(e){e?n.openOrder(t,a):a&&a(!1)}}),"order-preview",!0,!1)};if(t.Price>0&&!p.a.checkDelegateAvgPrice(t.Price,n.props.product.price))return void b.a.open(l.a.createElement(re,{msg:"trade.delegate.avgLimit",confirm:"trade.delegate.confirm",cancel:"trade.delegate.cancel",onConfirm:function(e,t){t?s(e):a&&a(!1)}}),"order-warning",!0);s(e)}else i.forEach(function(e,t){j.a.error(e)}),a&&a(!1)},n.preferenceKey="fno",n.state={expanded:A.a.loadPreference(n.preferenceKey,!0)},n}return o(t,e),W(t,[{key:"toggle",value:function(){var e=this,t=!this.state.expanded;this.setState({expanded:t},function(){e.state.expanded&&e.props.onChange("refreshScroll",[e.preferenceKey])}),A.a.savePreference(this.preferenceKey,t)}},{key:"openOrder",value:function(e,t){var n=this;I.a.httpRequest("futures/open",e,function(e){0==e.Status&&(n.props.showFloatToolbar&&n.props.showFloatToolbar(),j.a.success(i.a.lang("trade.open.ok"))),t&&t(0==e.Status)},this)}},{key:"closeNewOpen",value:function(e){e.preventDefault(),this.props.onChange("close",[this.preferenceKey])}},{key:"render",value:function(){var e=this,t=this.props,n=t.product,a=t.open,r=t.tradingType,o=t.className,s=this.state.expanded,c=o||"";return l.a.createElement("div",{className:c},r?null:a?l.a.createElement("div",{className:"dialog-head tc lh-25"},l.a.createElement("h3",{className:"ft-dialog-head fem875 tb"},l.a.createElement("span",null,i.a.lang("trade.settingMenu.depth"))),l.a.createElement("i",{className:"iconfont icon-close transit fs14",onClick:function(t){e.closeNewOpen(t)}})):l.a.createElement("div",{className:"header-title flex-box flex-jc ft-new-deal mt-10"},l.a.createElement("span",{className:"handle"}),l.a.createElement("h5",{className:"fs11"},i.a.lang("trade.new_order")),l.a.createElement("div",null,n&&l.a.createElement(ne,{name:"newOrder",code:n?n.Code:""}),l.a.createElement("i",{className:s?"iconfont fs12 icon-hide":"iconfont fs12 icon-show",onClick:function(){return e.toggle()}}))),s&&l.a.createElement(X,{product:n,isExpert:!0,onSubmit:this.submitOrder,tradingType:r}))}}]),t}(d.a),X=function(e){function t(e){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.leverPreKey="lever",n.volumePreKey="vol",n.leverOptions=[1,2,5,10,15,20],n.volOptions=[.2,.4,.6,.8,1],n.eventVolume=-1,n.onChartMessage=n.onChartMessage.bind(n),n.state=n.initState(n.props),n}return o(t,e),W(t,[{key:"initState",value:function(e){var t=e.tradingType?"sell"!==e.tradingType?0:1:w.a.FUT.Side.BUY,n={quickDisable:!!e.tradingType,isMarketPriceCondition:!1,leverInputMode:0,direction:t,refresh:0,lever:p.a.isSharedLimit()?20:A.a.loadPreference(this.leverPreKey,1),volume:A.a.loadPreference(this.volumePreKey,1)};if(e.order){var a=e.order;Object.assign(n,{quickDisable:!0,isMarketPriceCondition:a.Kind==w.a.FUT.Kind.MKT,direction:a.Side,lever:a.Scale,volume:a.Volume,oldVolume:a.Volume})}return n}},{key:"componentWillReceiveProps",value:function(e){this.props.product!=e.product&&(this.props.product||this.setState(this.initState(e)))}},{key:"quickTrade",value:function(e,t,n){if(A.a.checkAuthAndRedirect()){var a,r=p.a.setting,o=this.props.product,i=o.price;if(1==r.quickMktLmt){var s=Number(r.expireParam);s=s>=0?s:0,a={Price:Number(t==w.a.TRADE.DIRECTION.BID?i.BID_M:i.ASK_M),Timely:s>0?w.a.FUT.Timely.LIFE:w.a.FUT.Timely.GTC,TimelyParam:s,Passive:r.postOnlyExecInst,Visible:-1,Strategy:w.a.FUT.Strategy.Immediate,Better:!B.k}}else a={Price:0,Strategy:w.a.FUT.Strategy.Immediate};a.Side=t,this.submitOrder(e,a,n)}}},{key:"getLeverWidth",value:function(e){for(var t=[.01].concat(this.leverOptions),n=["11","24.8","37.5","50.171","63.2","76.05","89"],a=t[0],r=1,o=t.length;r<o;r++){var i=t[r];if(e>=a&&e<=i)return String(C.a.accAdd(C.a.accMul(C.a.accDiv(C.a.accSubtr(n[r],n[r-1]),C.a.accSubtr(i,a)),C.a.accSubtr(e,a)),n[r-1]));a=i}return n[0]}},{key:"onChangeLeverInputMode",value:function(e){e.preventDefault(),e.stopPropagation(),this.sliderLever=this.state.lever,this.setState({leverInputMode:1})}},{key:"onCancelChangeLever",value:function(e){e.preventDefault(),e.stopPropagation(),this.setState({leverInputMode:0,lever:this.sliderLever})}},{key:"onConfirmChangeLever",value:function(e){e.preventDefault(),e.stopPropagation(),this.state.lever>0&&this.state.lever<=20&&(this.setState({leverInputMode:0}),A.a.savePreference(this.leverPreKey,Number(this.state.lever)))}},{key:"onChangeLever",value:function(e){this.setState({lever:e})}},{key:"onChangeIntLever",value:function(e){p.a.isSharedLimit()&&20!=e?j.a.error(i.a.lang("trade.lever.shared",20)):(this.setState({lever:e}),A.a.savePreference(this.leverPreKey,Number(e)))}},{key:"onOptionChange",value:function(e){var t=0;if(A.a.checkUserAuth()){var n=this.props.product,a=x.a.getCurrencyWallet(w.a.WALLET.TYPE.FUT,n.Currency);if(a){var r=a.canUse,o=n.price.LAST;this.state.conditionData&&this.state.conditionData.quickDisable&&1==this.state.conditionData.delegatePriceType&&this.state.conditionData.delegatePrice&&(o=this.state.conditionData.delegatePrice),t=p.a.formula.depositToVolume(r,n.Scale,this.state.lever,o,n.price.LAST,n.price.MARK)}}return String(C.a.accMul(t,e,0))}},{key:"onChangeVolume",value:function(e){this.setState({volume:e}),A.a.savePreference(this.volumePreKey,Number(e)),window.isMobile||this.eventVolume==e||(this.eventVolume=e,frames[0].window.postMessage({eventType:"setNumber",value:e},"*"),P.a.dispatch(P.a.EventName.CHANGE_VOLUME,e))}},{key:"onEventChangeVolume",value:function(e){this.eventVolume!=e&&(this.setState({volume:e}),this.eventVolume=e)}},{key:"onChangeConditionOrder",value:function(e){var t={};if(e.hasOwnProperty("quickDisable")&&(t.quickDisable=e.quickDisable),e.hasOwnProperty("condition")){var n=this.refs.FutConditionOrderPart.isMarketPriceCondition(e.condition);n!=this.state.isMarketPriceCondition&&(t.isMarketPriceCondition=n)}e.hasOwnProperty("direction")&&this.state.direction!=e.direction&&(t.direction=e.direction),t.conditionData=Object.assign({},this.state.conditionData,e),this.setState(t)}},{key:"getLossProfitForm",value:function(){return this.refs.FutLossProfitPart.val()}},{key:"onSubmit",value:function(e,t,n){if(e.preventDefault(),e.stopPropagation(),A.a.checkAuthAndRedirect()){var a;-1!=["1","3","4"].indexOf(t.condition)?(a={Price:0,Strategy:"1"==t.condition?w.a.FUT.Strategy.Immediate:w.a.FUT.Strategy.Line},-1!=["3","4"].indexOf(t.condition)&&(a.Variable="3"==t.condition?w.a.FUT.Variable.MarkPrice:w.a.FUT.Variable.LastPrice,a.Constant=t.triggerPrice&&!isNaN(t.triggerPrice)?Number(t.triggerPrice):null)):(a={Distance:1!=t.delegatePriceType,Price:1==t.delegatePriceType?t.delegatePrice&&!isNaN(t.delegatePrice)?Number(t.delegatePrice):null:t.delegatePoint&&!isNaN(t.delegatePoint)?Number(t.delegatePoint):null,Timely:t.Timely,TimelyParam:t.TimelyParam,Passive:t.Passive,Visible:t.Visible,Strategy:"2"==t.condition?w.a.FUT.Strategy.Immediate:w.a.FUT.Strategy.Line,Better:!1},-1!=["5","6"].indexOf(t.condition)&&(a.Variable="5"==t.condition?w.a.FUT.Variable.MarkPrice:w.a.FUT.Variable.LastPrice,a.Constant=t.triggerPrice&&!isNaN(t.triggerPrice)?Number(t.triggerPrice):null)),a.Side=Number(t.direction),this.submitOrder(e,a,n)}}},{key:"submitOrder",value:function(e,t,n){var a=this.props.product,r=this.getLossProfitForm();Object.assign(t,r),t.CID=a.ID,t.Scale=Number(this.state.lever),t.Volume=Number(this.state.volume),0==t.Price&&(t.Visible=-1),this.props.onSubmit(e,t,n)}},{key:"onRefresh",value:function(){this.setState({refresh:++this.state.refresh})}},{key:"onChartMessage",value:function(e){if(!e.data.eventType)return!1;var t=e.data.value;switch(e.data.eventType){case"removeNumber":case"addNumber":this.state.volume!=t&&this.onChangeVolume(t)}}},{key:"onChangeShared",value:function(e){p.a.isSharedMax&&e&&this.onChangeLever(20)}},{key:"componentWillMount",value:function(){P.a.addListener(P.a.EventName.SET_SHARED,this.onChangeShared.bind(this),this)}},{key:"componentDidMount",value:function(){g.a.rebuild(),window.addEventListener("message",this.onChartMessage),this.props.order||P.a.addListener(P.a.EventName.CHANGE_VOLUME,this.onEventChangeVolume.bind(this),this)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("message",this.onChartMessage),V(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentWillUnmount",this).call(this)}},{key:"render",value:function(){var e=this,t=this.state,n=t.quickDisable,a=t.isMarketPriceCondition,r=t.leverInputMode,o=t.direction,s=t.refresh,c=t.lever,u=t.oldVolume,d=t.conditionData,h=this.props,f=h.product,m=h.className,g=h.order,v=h.tradingType,y=this.state.volume,b=p.a.isSharedLimit(),E=b?20:.01,w=this.getLeverWidth(c);return l.a.createElement("div",{className:m},l.a.createElement(Y,{product:f,order:g}),l.a.createElement("div",{className:"pos-r"},l.a.createElement(G,{product:f,disable:n,onQuickTrade:this.quickTrade.bind(this)}),l.a.createElement("div",{className:"mt-5 lever-box leverage-bg pos-r"},l.a.createElement("div",{className:"pos-a",style:{width:"calc(100% - 4px)"}},l.a.createElement("div",{className:"lever-bar",style:{left:w+"%"}},l.a.createElement("span",{className:Number(c)>=1?"dir-l":"dir-r"},c?C.a.toFixed(c,2)+"x":""))),l.a.createElement("span",{className:"iconfont icon-warn r-10","data-tip":i.a.lang("trade.tip.min",E)+" "+i.a.lang("trade.tip.max",20)})),!r&&l.a.createElement("div",{className:"mt-10 pos-r tr"},l.a.createElement("span",{className:"slider-title"},i.a.lang("trade.open.lever")+":"),l.a.createElement("div",{className:"sliderbox futures-leverage-slider ver-md mr-30"},l.a.createElement("div",{className:"slider"},l.a.createElement("div",{className:"slider-dio",onClick:this.onChangeLeverInputMode.bind(this)},l.a.createElement("i",{className:"iconfont icon-edit fs14 point"}))),l.a.createElement("div",{className:"spot-box"},this.leverOptions.map(function(t,n){return l.a.createElement("span",{className:t==c?"on":"",onClick:e.onChangeIntLever.bind(e,t),key:n})})),l.a.createElement("div",{className:"flex-box flex-jc fs11 leverage-slider-pr"},this.leverOptions.map(function(e,t){return l.a.createElement("span",{key:t},e+"x")})))),!!r&&l.a.createElement("div",{className:"mt-14 tr f-clear"},l.a.createElement("span",{className:"fl"},i.a.lang("trade.open.lever")+":"),l.a.createElement(S.a,{value:c,options:this.leverOptions,labelFormat:"%sx",step:.01,unit:"x",className:"slider-number-box ver-md",min:E,max:20,auto:!0,onChange:this.onChangeLever.bind(this)}),l.a.createElement("div",{className:"futures-lever-cfmccl ft-km fs0 opt"},l.a.createElement("span",{className:"cancel-c",onClick:this.onCancelChangeLever.bind(this)},l.a.createElement("i",{className:"iconfont icon-cancel"})),l.a.createElement("span",{className:"confirm-c",onClick:this.onConfirmChangeLever.bind(this)},l.a.createElement("i",{className:"iconfont icon-confirm"})))),l.a.createElement(S.a,{placeholder:i.a.lang("trade.open.volume"),value:y,options:this.volOptions,min:u||1,max:p.a.volumeMax,valuePercent:!0,step:1,auto:!0,className:"slider-number-box ver-md tradeCounts",onChange:this.onChangeVolume.bind(this),onOptionChange:this.onOptionChange.bind(this)})),l.a.createElement(Q,{ref:"FutLossProfitPart",product:f,isMarketPrice:!n||a,quickDisable:n,direction:o,conditionData:d,refresh:s,order:g}),l.a.createElement(J,{ref:"FutConditionOrderPart",quickDisable:n,product:f,direction:o,volume:y,order:g,onChangeConditionOrder:this.onChangeConditionOrder.bind(this),onSubmit:this.onSubmit.bind(this),onRefresh:this.onRefresh.bind(this),tradingType:v}))}}]),t}(d.a),G=function(e){function t(e){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.priceTimer=0,n.priceUpdateCount=0;var o=n.initState(n.props);return n.state=Object.assign(Object.assign({},o),n.getDefaultClassName()),n}return o(t,e),W(t,[{key:"initState",value:function(e){var t={size:p.a.loadSetting("sizeTheme"),theme:p.a.loadSetting("colorTheme"),isLimit:Number(p.a.loadSetting("quickMktLmt")),isSubmiting:!1};return Object.assign(t,this.getProductState(e)),t}},{key:"getProductState",value:function(e){var t=e.product;if(t){var n=t.price;return{product:t,ASK_M:n?n.ASK_M:0,BID_M:n?n.BID_M:0,AVOL_M:n?n.AVOL_M:0,BVOL_M:n?n.BVOL_M:0}}return{product:null,ASK_M:"",BID_M:"",AVOL_M:"",BVOL_M:""}}},{key:"getDefaultClassName",value:function(){return{BidClassName:"ft-order-buy",AskClassName:"ft-order-sell"}}},{key:"componentWillMount",value:function(){P.a.addListener(P.a.EventName.PRICE_UPDATE,this.onUpdateProductPriceDelay.bind(this),this),P.a.addListener(P.a.EventName.DEPTH_UPDATE,this.onUpdateDepth.bind(this),this),P.a.addListener(P.a.EventName.SETTING_UPDATE,this.onUpdateSetting.bind(this),this),this.onUpdateProductPriceDelay(p.a.getPrices())}},{key:"componentWillReceiveProps",value:function(e){if(this.props.product!=e.product)if(this.props.product){var t=this.getProductState(e);this.setState(t)}else this.setState(this.initState(e))}},{key:"onUpdateProductPriceDelay",value:function(e){e&&this.props.product&&e[this.props.product.Code]&&this.onUpdateProductPrice()}},{key:"onUpdateProductPrice",value:function(){var e=p.a.getProduct(this.props.product.Code),t=e[0],n=t.price;this.setState(Object.assign({product:t},this.updatePrice(n)))}},{key:"onUpdateDepth",value:function(e){if(e&&this.props.product&&e[this.props.product.Code]){var t=e[this.props.product.Code];if(t.ASK_M!=this.state.ASK_M||t.BID_M!=this.state.BID_M||t.AVOL_M!=this.state.AVOL_M||t.BVOL_M!=this.state.BVOL_M){var e=Object.assign({},this.updatePrice(t));this.setState(e)}}}},{key:"updatePrice",value:function(e){var t=this.state.theme,n={AVOL_M:e.AVOL_M,BVOL_M:e.BVOL_M};return e.ASK_M!=this.state.ASK_M?(n.ASK_M=e.ASK_M,t>=5&&(e.ASK_M<this.state.ASK_M?n.AskClassName="ft-order-buy":n.AskClassName="ft-order-sell")):5==t&&(n.AskClassName="ft-order-middle"),e.BID_M!=this.state.BID_M?(n.BID_M=e.BID_M,t>=5&&(e.BID_M<this.state.BID_M?n.BidClassName="ft-order-buy":n.BidClassName="ft-order-sell")):5==t&&(n.BidClassName="ft-order-middle"),n}},{key:"onUpdateSetting",value:function(e){if(e.colorTheme){var t=e.colorTheme,e={theme:t};Object.assign(e,this.getDefaultClassName()),this.setState(e)}else if(e.hasOwnProperty("sellMDepth")||e.hasOwnProperty("buyMDepth"))this.priceUpdateCount++,this.onUpdateProductPrice();else if(e.hasOwnProperty("quickMktLmt"))this.setState({isLimit:Number(e.quickMktLmt)});else if(e.sizeTheme){var n=e.sizeTheme;this.setState({size:n})}}},{key:"trade",value:function(e,t){var n=this;this.setState({isSubmiting:!0}),this.props.onQuickTrade&&this.props.onQuickTrade(e,t,function(e){n.setState({isSubmiting:!1})})}},{key:"render",value:function(){var e=this,t=this.state,n=t.product,a=t.ASK_M,r=t.BID_M,o=t.AVOL_M,s=t.BVOL_M,c=t.theme,u=t.AskClassName,d=t.BidClassName,p=t.size,h=t.isLimit,f=t.isSubmiting,m=this.props.disable,g=n?C.a.toFixed(C.a.accSubtr(a,r),n.PriceFixed).replace(".",""):"--",v=s?C.a.toKorM(s):"--",y=o?C.a.toKorM(o):"--",b=1==p?-2:2==p?-3:0,E=r?r.slice(0,b):"--",P=r?r.slice(b):"--",S=a?a.slice(0,b):"--",k=a?a.substr(b):"--";return l.a.createElement("div",{className:"flex-box flex-jc mt-5 color-pg"+c},l.a.createElement("div",{className:"ft-btn-wh "+d+" tc"+(m||f?" ft-btn-disable":""),onClick:function(t){m||f||e.trade(t,w.a.TRADE.DIRECTION.ASK)}},l.a.createElement("div",{className:"trape trape-r"}),l.a.createElement("div",{className:"trape-txt trape-txt-r"},h?y:v),l.a.createElement("div",{className:"code-price2"},l.a.createElement("span",null,h?S:E),l.a.createElement("span",null,h?k:P)),l.a.createElement("div",{className:"buy-text-l t0"},i.a.lang("trade.sell")),l.a.createElement("div",{className:"buy-text-l b0"},i.a.lang(h?"trade.order.Strategy10":"trade.order.Strategy00"))),l.a.createElement("div",{className:"ft-btn-wh "+u+" tc"+(m||f?" ft-btn-disable":""),onClick:function(t){m||f||e.trade(t,w.a.TRADE.DIRECTION.BID)}},l.a.createElement("div",{className:"trape trape-l"}),l.a.createElement("div",{className:"trape-txt trape-txt-l"},h?v:y),l.a.createElement("div",{className:"code-price2"},l.a.createElement("span",null,h?E:S),l.a.createElement("span",null,h?P:k)),l.a.createElement("div",{className:"buy-text-r t0"},i.a.lang("trade.buy")),l.a.createElement("div",{className:"buy-text-r b0"},i.a.lang(h?"trade.order.Strategy10":"trade.order.Strategy00"))),l.a.createElement("div",{className:"spread",style:{left:"50%",transform:"translateX(-50%)"}},g))}}]),t}(d.a),Q=function(e){function t(e){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),o=n.props.isMarketPrice;n.preferenceKey="flpp";var s=i.a.getLang();n.updateSelectOptions(o,!1);var l=n.props.hasOwnProperty("editMode")?n.props.editMode:"",c={expandedLossProfit:A.a.loadPreference(n.preferenceKey,!0),editMode:l,lossFlag:"SL"==l,profitFlag:"TP"==l,loss:"",profit:"",lossPrice:"",profitPrice:"",delegateDistance:!1,delegateValue:"",Lang:s};if(n.props.order){var u=n.props.order;if(Object.assign(c,{expandedLossProfit:!0,lossFlag:n.props.hasOwnProperty("editMode")?c.lossFlag:!!u.SL,profitFlag:n.props.hasOwnProperty("editMode")?c.profitFlag:!!u.TP}),"order"==u.orderType&&(c.delegateDistance=u.Distance,c.delegateValue=u.Price),u.SL?(c.loss=u.SL.Distance?1:2,c.lossPrice=Number(u.SL.Param)):(c.loss=1,c.lossPrice=n.defaultLossPriceInputValue(1,u.Side,"order"==u.orderType?u.Price:"")),u.TP?(c.profit=u.TP.Distance?1:2,c.profitPrice=Number(u.TP.Param)):(c.profit=1,c.profitPrice=n.defaultProfitPriceInputValue(1,u.Side,"order"==u.orderType?u.Price:"")),n.props.editMode&&"TP"==n.props.editMode){var d="position"==u.orderType;c.isPosition=d,d&&(c.profitPrice=1==c.profit?String(C.a.accAdd(Number(n.props.product.price.LAST),c.profitPrice)):c.profitPrice,c.profit=2)}}return n.state=c,n}return o(t,e),W(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.isMarketPrice,n=e.direction,a=e.conditionData,r={},o=!1,i=this.state.loss,s=this.state.profit,l=this.state.delegateDistance;a&&a.quickDisable&&(l="2"==a.delegatePriceType,l!=this.state.delegateDistance&&(r.delegateDistance=l,o=!0),r.delegateValue=l?a.delegatePoint:a.delegatePrice,r.delegateValue!=this.state.delegateValue&&(o=!0)),this.updateSelectOptions(t,l);var c=!1,u=!1;(t||l)&&(this.state.lossFlag&&(i=this.selectOptions[0],this.state.loss!=i&&(c=!0,r.loss=i)),this.state.profitFlag&&(s=this.selectOptions[0],this.state.profit!=s&&(u=!0,r.profit=s))),n!=this.props.direction&&(o=!0),(o||c)&&this.state.lossFlag&&this.propsChangeLossPrice(n,i,r),(o||u)&&this.state.profitFlag&&this.propsChangeProfitPrice(n,s,r),Object(D.g)(r)||this.setState(r)}},{key:"propsChangeLossPrice",value:function(e,t,n){w.a.FUT.Side.BUY,n.lossPrice=this.defaultLossPriceInputValue(t,e,n.delegateValue)}},{key:"propsChangeProfitPrice",value:function(e,t,n){e==w.a.FUT.Side.BUY?n.profitPrice=this.defaultProfitPriceInputValue(t,e,n.delegateValue):e==w.a.FUT.Side.SELL&&(n.profitPrice=this.defaultProfitPriceInputValue(t,e,n.delegateValue))}},{key:"val",value:function(){var e={},t=this.state;return t.lossFlag&&(e.SL={Distance:2!=t.loss,Param:Number(t.lossPrice)}),t.profitFlag&&(e.TP={Distance:2!=t.profit,Param:Number(t.profitPrice)}),e}},{key:"toggleLossProfit",value:function(){var e=!this.state.expandedLossProfit;this.setState({expandedLossProfit:e}),A.a.savePreference(this.preferenceKey,e)}},{key:"updateSelectOptions",value:function(e,t){this.selectOptions=e||t?[1]:[1,2]}},{key:"defaultLossPriceInputValue",value:function(e,t,n){var a=p.a.getPriceOnePointValue(this.props.product.UnitPrice),r=a<1?Number(C.a.accMul(a,p.a.rangePricePoint)):a*p.a.rangePricePoint;return t==w.a.TRADE.DIRECTION.BID&&(r*=-1),1==e?r:Number(C.a.accAdd(n||this.props.product.price.LAST,r))}},{key:"defaultProfitPriceInputValue",value:function(e,t,n){var a=p.a.getPriceOnePointValue(this.props.product.UnitPrice),r=a<1?Number(C.a.accMul(a,p.a.rangePricePoint)):a*p.a.rangePricePoint;return t==w.a.TRADE.DIRECTION.ASK&&(r*=-1),1==e?r:Number(C.a.accAdd(n||this.props.product.price.LAST,r))}},{key:"getInputValueRange",value:function(e,t,n,a,r){return p.a.getPLInputValueRange(e,t,n,a||this.props.product.price.LAST,!r)}},{key:"toggleLoss",value:function(e){var t=!this.state.lossFlag,n={lossFlag:t};if(t){var a;a=-1==this.selectOptions.indexOf(this.state.loss)?n.loss=this.selectOptions[0]:this.state.loss,n.lossPrice=this.defaultLossPriceInputValue(a,this.props.direction,this.state.delegateValue)}this.setState(n)}},{key:"toggleProfit",value:function(e){var t=!this.state.profitFlag,n={profitFlag:t};if(t){var a;a=-1==this.selectOptions.indexOf(this.state.profit)?n.profit=this.selectOptions[0]:this.state.profit,n.profitPrice=this.defaultProfitPriceInputValue(a,this.props.direction,this.state.delegateValue)}this.setState(n)}},{key:"onChangeLoss",value:function(e){this.setState({loss:e,lossPrice:this.defaultLossPriceInputValue(e,this.props.direction,this.state.delegateValue)})}},{key:"onChangeProfit",value:function(e){this.setState({profit:e,profitPrice:this.defaultProfitPriceInputValue(e,this.props.direction,this.state.delegateValue)})}},{key:"onChangeLossPrice",value:function(e){this.setState({lossPrice:e})}},{key:"onChangeProfitPrice",value:function(e){this.setState({profitPrice:e})}},{key:"render",value:function(){var e=this,t=this.props,n=t.product,a=t.order,r=t.direction,o=t.quickDisable,s=this.state,c=s.editMode,u=s.lossFlag,d=s.profitFlag,h=s.expandedLossProfit,f=s.loss,m=s.profit,g=s.lossPrice,v=s.profitPrice,b=s.isPosition,E=s.delegateValue,w=this.selectOptions,C=n?n.toCode:"--",P="";h||(u&&f&&(P=1==Number(f)?i.a.lang("trade.open.lossTitle1",g||"--"):i.a.lang("trade.open.lossTitle2",g||"--")),d&&m&&(1==Number(m)?P+=i.a.lang("trade.open.profitTitle1",v||"--"):P+=i.a.lang("trade.open.profitTitle2",v||"--")));var k=[0,p.a.priceMax],T=[0,p.a.priceMax];return u&&(k=this.getInputValueRange("SL",f,r,E,o)),d&&(T=this.getInputValueRange("TP",m,r,E,o)),l.a.createElement("div",null,!a&&l.a.createElement("div",{className:"mt-10 tr"},l.a.createElement("i",{className:h?"iconfont icon-hide fem125 pdr-10":"iconfont icon-show fem125 pdr-10",onClick:this.toggleLossProfit.bind(this)}),l.a.createElement("span",null,P?"":i.a.lang("trade.open.lossProfit")),l.a.createElement("span",null,P)),h&&l.a.createElement("div",{className:"ft-stop-loss"},(!c||"SL"==c)&&l.a.createElement("dl",{className:"form-box mt-5 f-clear"},!c&&l.a.createElement("dt",{className:"tl"},l.a.createElement("label",{className:"custom-checkbox"},l.a.createElement("div",null,l.a.createElement("input",{type:"checkbox",className:"input_check",checked:u,onChange:this.toggleLoss.bind(this)}),l.a.createElement("i",null)),l.a.createElement("span",null,i.a.lang("trade.open.loss")+":"))),"SL"==c&&l.a.createElement("dt",{className:"tl"},l.a.createElement("span",null,i.a.lang("trade.open.loss")+":")),l.a.createElement("dd",{className:"f-clear"},l.a.createElement(y.b,{className:"w-80 sel-cus fl",value:f,disabled:!u,onChange:this.onChangeLoss.bind(this)},w.map(function(t,n){return l.a.createElement(y.a,{className:"en-us"==e.state.Lang?"selectOp-font":null,value:t,key:n},i.a.lang("trade.open.lossProfitOption"+t))})),l.a.createElement(S.a,{className:u?"slider-number-box ml-10":"slider-number-box ml-10 disable",disabled:!u,value:g,unit:1==f?C:"",step:n?Number(n.UnitPrice):0,min:k[0],max:k[1],onChange:this.onChangeLossPrice.bind(this)}))),(!c||"TP"==c)&&l.a.createElement("dl",{className:"form-box mt-5 f-clear"},!c&&l.a.createElement("dt",{className:"tl"},l.a.createElement("label",{className:"custom-checkbox"},l.a.createElement("div",null,l.a.createElement("input",{type:"checkbox",className:"input_check",checked:d,onChange:this.toggleProfit.bind(this)}),l.a.createElement("i",null)),l.a.createElement("span",null,i.a.lang("trade.open.profit")+":"))),"TP"==c&&l.a.createElement("dt",{className:"tl"},l.a.createElement("span",null,i.a.lang("trade.open.profit")+":")),l.a.createElement("dd",{className:"f-clear"},l.a.createElement(y.b,{className:"w-80 sel-cus fl",value:m,disabled:!d,onChange:this.onChangeProfit.bind(this)},w.map(function(t,n){if(!b||b&&1!=t)return l.a.createElement(y.a,{className:"en-us"==e.state.Lang?"selectOp-font":null,value:t,key:n},i.a.lang("trade.open.lossProfitOption"+t))})),l.a.createElement(S.a,{className:d?"slider-number-box ml-10":"slider-number-box ml-10 disable",disabled:!d,value:v,unit:1==m?C:"",step:n?Number(n.UnitPrice):0,min:T[0],max:T[1],onChange:this.onChangeProfitPrice.bind(this)})))))}}]),t}(d.a),J=function(e){function t(e){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),o=n.props.quickDisable;n.onSubmitResult=n.onSubmitResult.bind(n),n.directionMap={},n.directionMap[w.a.TRADE.DIRECTION.BID]="trade.open.buy",n.directionMap[w.a.TRADE.DIRECTION.ASK]="trade.open.sell",n.directions=Object.keys(n.directionMap),n.symbolMap={},n.symbolMap[w.a.TRADE.DIRECTION.BID]="common.symbol.ge",n.symbolMap[w.a.TRADE.DIRECTION.ASK]="common.symbol.le",n.conditionMap=B.k?{1:"trade.open.condition1",2:"trade.open.condition2",3:"trade.open.condition3",4:"trade.open.condition4"}:{1:"trade.open.condition1",2:"trade.open.condition2",3:"trade.open.condition3",4:"trade.open.condition4",5:"trade.open.condition5",6:"trade.open.condition6"},n.conditions=Object.keys(n.conditionMap),n.delegatePriceOptionsMap={1:"trade.open.delegateOption1",2:"trade.open.delegateOption2"},n.delegatePriceOptions=Object.keys(n.delegatePriceOptionsMap),n.preferenceKey="fcop";var i={expandedConditionOrder:A.a.loadPreference(n.preferenceKey,!0),quickDisable:o,direction:n.props.direction,condition:n.conditions[0],delegatePrice:"",delegatePoint:"",triggerPrice:"",delegatePriceType:"1",isModify:!1,isSubmiting:!1};if(n.props.order){var s=n.props.order;if(Object.assign(i,{expandedConditionOrder:!0,direction:s.Side,isModify:!0,isTriggerred:s.State>=w.a.FUT.State.TRIGGERRED}),s.Kind==w.a.FUT.Kind.MKT)s.Strategy==w.a.FUT.Strategy.Immediate?(i.condition="1",i.triggerPrice=""):(s.Variable==w.a.FUT.Variable.MarkPrice?i.condition="3":s.Variable==w.a.FUT.Variable.LastPrice&&(i.condition="4"),i.triggerPrice=s.Constant);else{s.Strategy==w.a.FUT.Strategy.Immediate?(i.condition="2",i.triggerPrice=""):(s.Variable==w.a.FUT.Variable.MarkPrice?i.condition="5":s.Variable==w.a.FUT.Variable.LastPrice&&(i.condition="6"),i.triggerPrice=s.Constant),i.delegatePriceType=s.Distance?"2":"1";var l=n.defaultValue(i.direction,i.condition);i.delegatePrice=s.Distance?l.delegatePrice:s.Price,i.delegatePoint=s.Distance?s.Price:l.delegatePoint}}return n.state=i,n}return o(t,e),W(t,[{key:"componentWillMount",value:function(){P.a.addListener(P.a.EventName.PRICE_SELECT,this.onSelectPrice.bind(this),this)}},{key:"onSelectPrice",value:function(e){this.state.quickDisable&&(-1!=["2"].indexOf(this.state.condition)&&this.onChangeDelegatePrice(e.Price),-1!=["3","4"].indexOf(this.state.condition)&&this.onChangeTriggerPrice(e.Price))}},{key:"val",value:function(){var e=this.refs.delegrateQtyExpireTimePart;return e?Object.assign({},e.val(),this.state):Object.assign({Timely:w.a.FUT.Timely.GTC,TimelyParam:0,Passive:!1,Visible:-1},this.state)}},{key:"toggleConditionOrder",value:function(){var e=!this.state.expandedConditionOrder;this.setState({expandedConditionOrder:e}),A.a.savePreference(this.preferenceKey,e)}},{key:"isMarketPriceCondition",value:function(e){return-1!=["1","3","4"].indexOf(e)}},{key:"toggleQuickDisable",value:function(){if(!this.props.order){var e=!this.state.quickDisable,t={quickDisable:e};if(e){var n=this.defaultValue(this.state.direction,this.state.condition);Object.assign(t,n)}this.setState(t),this.props.onChangeConditionOrder&&(t.condition=this.state.condition,this.props.onChangeConditionOrder(t))}}},{key:"defaultValue",value:function(e,t){var n={},a=this.props.product,r=a.price;if(1!=t&&2!=t){var o;3==t||5==t?o=Number(C.a.toFixed(r.MARK,r.PriceFixed)):(o=r.LAST,Number(o)<=0&&(o=e==w.a.TRADE.DIRECTION.BID?r.BID_M:r.ASK_M)),e==w.a.TRADE.DIRECTION.BID?n.triggerPrice=String(C.a.accAdd(o,C.a.accMul(p.a.rangeTriggerPricePoint,p.a.getPriceOnePointValue(a.UnitPrice)),a.PriceFixed)):n.triggerPrice=String(C.a.accSubtr(o,C.a.accMul(p.a.rangeTriggerPricePoint,p.a.getPriceOnePointValue(a.UnitPrice),a.PriceFixed)))}if(!this.isMarketPriceCondition(t)){var o,i=C.a.accMul(p.a.rangeDelegatePricePoint,p.a.getPriceOnePointValue(a.UnitPrice));e==w.a.FUT.Side.BUY&&(i*=-1),n.delegatePoint=String(i),2==t?(o=e==w.a.TRADE.DIRECTION.BID?r.BID_M:r.ASK_M,n.delegatePrice=String(C.a.accAdd(o,i))):n.delegatePrice=String(C.a.accAdd(n.triggerPrice,i))}return n}},{key:"refreshPrice",value:function(){var e=this.state.quickDisable,t={};if(e){var n=this.defaultValue(this.state.direction,this.state.condition);Object.assign(t,n)}this.setState(t)}},{key:"onChangeDirection",value:function(e){var t={direction:e},n=this.defaultValue(e,this.state.condition);Object.assign(t,n),this.setState(t),this.props.onChangeConditionOrder&&this.props.onChangeConditionOrder({direction:e})}},{key:"onChangeCondition",value:function(e){var t={condition:e};"1"==e?t.triggerPrice="":"2"==e&&(t.delegatePriceType="1");var n=this.defaultValue(this.state.direction,e);Object.assign(t,n),this.setState(t),this.props.onChangeConditionOrder&&this.props.onChangeConditionOrder(t)}},{key:"onChangeDelegatePrice",value:function(e){var t={delegatePrice:e};this.setState(t),this.props.onChangeConditionOrder&&this.props.onChangeConditionOrder(t)}},{key:"onChangeDelegatePoint",value:function(e){var t={delegatePoint:e};this.setState(t),this.props.onChangeConditionOrder&&this.props.onChangeConditionOrder(t)}},{key:"onChangeTriggerPrice",value:function(e){this.setState({triggerPrice:e})}},{key:"onChangeDelegatePriceType",value:function(e){var t={delegatePriceType:e};this.setState(t),this.props.onChangeConditionOrder&&this.props.onChangeConditionOrder(t)}},{key:"onSubmit",value:function(e){this.setState({isSubmiting:!0}),this.props.onSubmit&&this.props.onSubmit(e,this.val(),this.onSubmitResult)}},{key:"onSubmitResult",value:function(e){this.setState({isSubmiting:!1})}},{key:"onRefresh",value:function(){this.refreshPrice(),this.props.onRefresh&&this.props.onRefresh()}},{key:"render",value:function(){var e=this,t=this.props,n=t.product,a=t.volume,r=t.order,o=this.state,s=o.expandedConditionOrder,c=o.direction,u=o.condition,d=o.quickDisable,h=o.delegatePrice,f=o.delegatePoint,m=o.triggerPrice,g=o.delegatePriceType,v=o.isModify,b=o.isTriggerred,E=o.isSubmiting,C=this.isMarketPriceCondition(u),P=2==u,k=-1!=["5","6"].indexOf(u),T=n?p.a.getPriceOnePointValue(n.UnitPrice):0,D=!0;k&&(D=p.a.isShowDQETPart(Number(c),1,m,g,1==g?h:f));return l.a.createElement("div",null,!r&&l.a.createElement("div",{className:" mt-5 tr"},l.a.createElement("span",{onClick:this.toggleConditionOrder.bind(this)},l.a.createElement("i",{className:s?"iconfont icon-hide fs12 pdr-10":"iconfont icon-show fs12 pdr-10"}),l.a.createElement("span",null,i.a.lang(s?"trade.open.hideConditionOrder":"trade.open.showConditionOrder")))),s&&l.a.createElement("div",{className:d?"ft-order-limit":"ft-order-limit limit-disable"},l.a.createElement("dl",{className:"form-box lh-25 f-clear"},l.a.createElement("dt",{className:"tl"},l.a.createElement("label",{className:"custom-checkbox"},l.a.createElement("div",null,l.a.createElement("input",{type:"checkbox",className:"input_check",checked:d,onChange:this.toggleQuickDisable.bind(this)}),l.a.createElement("i",null)),l.a.createElement("span",null,i.a.lang("trade.open.enter")+":")))),l.a.createElement("div",{className:"mt-3 flex-box flex-end"},l.a.createElement(y.b,{className:"w-80 mr-10 sel-cus",disabled:!d||v,value:c,onChange:this.onChangeDirection.bind(this)},this.directions&&this.directions.map(function(t,n){return l.a.createElement(y.a,{value:t,key:n},i.a.lang(e.directionMap[t]))})),l.a.createElement(y.b,{className:"w-80 mr-10 sel-cus mb-sel-pos",disabled:!d||v,value:u,onChange:this.onChangeCondition.bind(this)},this.conditions&&this.conditions.map(function(t,n){return l.a.createElement(y.a,{value:t,key:n},i.a.lang(e.conditionMap[t],i.a.lang(e.symbolMap[Number(c)])))})),P&&l.a.createElement(S.a,{className:d&&!b?"slider-number-box":"slider-number-box disable",disabled:!d||b,value:h,step:n?Number(n.UnitPrice):0,min:T,max:p.a.priceMax,onChange:this.onChangeDelegatePrice.bind(this),placeholder:i.a.lang("trade.open.delegatePrice")}),!P&&l.a.createElement(S.a,{className:d&&!b?"slider-number-box":"slider-number-box disable",disabled:!d||1==u||b,value:m,step:n?Number(n.UnitPrice):0,min:1!=u?T:0,max:p.a.priceMax,onChange:this.onChangeTriggerPrice.bind(this),placeholder:1!=u?i.a.lang("trade.open.triggerPrice"):""})),k&&l.a.createElement("div",{className:"mt-3 flex-box flex-end"},l.a.createElement("div",{className:"w-80 mr-10"},i.a.lang("trade.open.delegatePrice")+":"),l.a.createElement(y.b,{className:"w-80 mr-10 sel-cus",disabled:!d||b,value:g,onChange:this.onChangeDelegatePriceType.bind(this)},this.delegatePriceOptions&&this.delegatePriceOptions.map(function(t,n){return l.a.createElement(y.a,{value:t,key:n},i.a.lang(e.delegatePriceOptionsMap[t]))})),1==g&&l.a.createElement(S.a,{className:d?"slider-number-box":"slider-number-box disable",disabled:!d||b,value:h,step:n?Number(n.UnitPrice):0,min:T,max:p.a.priceMax,onChange:this.onChangeDelegatePrice.bind(this)}),2==g&&l.a.createElement(S.a,{className:d?"slider-number-box":"slider-number-box disable",disabled:!d||b,unit:n?n.toCode:"",value:f,step:n?Number(n.UnitPrice):0,min:-T*p.a.priceMax,max:c==w.a.FUT.Side.SELL?p.a.priceMax:0,onChange:this.onChangeDelegatePoint.bind(this)})),!C&&D&&l.a.createElement(Z,{quickDisable:d,volume:a,ref:"delegrateQtyExpireTimePart",order:r}),l.a.createElement("div",{className:"limit-btn-box flex-box flex-jc mt-10"},l.a.createElement("button",{className:!d||E?"btn wp-100 lh-26 disable":"btn btn-confirm wp-100",onClick:function(t){d&&!E&&e.onSubmit(t)}},i.a.lang("common.submit")))))}}]),t}(d.a),Z=function(e){function t(e){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.expireOptionsMap={1:"GTC",2:"trade.open.expireOption2",3:"trade.open.expireOption3"},n.expireOptions=Object.keys(n.expireOptionsMap),n.expireType2OptionsMap={1:"common.min",2:"common.hour"},n.expireType2Options=Object.keys(n.expireType2OptionsMap);var o=L.a.getServerTimeStamp(!0),i=L.a.svrTzMin,s=i/60,l="0"+Math.abs(s)+"00";n.tzOffsetHour=(n.tzOffsetHour<0?"-":"+")+l.substr(-4),n.minDate=N()(o);var c={hideDisplayQty:!1,displayQty:"0",postOnlyExecInst:!1,expireType:1,expireType2Type:"1",expireType2Time:"10",selectDate:N()(o),utcTime:N()(o+18e5).utcOffset(i).format("HH:mm")+":00"};if(n.props.order){var u=n.props.order;if(Object.assign(c,{hideDisplayQty:-1!=u.Visible,displayQty:-1!=u.Visible?String(u.Visible):"0",postOnlyExecInst:!!u.Passive,expireType:u.Timely==w.a.FUT.Timely.GTC?1:u.Timely==w.a.FUT.Timely.LIFE?2:3,expireType2Type:"1",expireType2Time:u.Timely==w.a.FUT.Timely.LIFE?parseInt(u.TimelyParam/60):"10",isModify:!0,isTriggerred:u.State>=w.a.FUT.State.TRIGGERRED}),u.Timely==w.a.FUT.Timely.DEADLINE){var d=N()(1e3*u.TimelyParam);c.selectDate=d,c.utcTime=d.utcOffset(i).format("HH:mm:ss")}}return n.state=c,n}return o(t,e),W(t,[{key:"minTime",value:function(){var e=L.a.getServerTimeStamp(!0),t=L.a.svrTzMin;return N()(e).utcOffset(t).format("HH:mm")+":00"}},{key:"componentDidMount",value:function(){g.a.rebuild()}},{key:"val",value:function(){var e=this.state;return{Timely:1==e.expireType?w.a.FUT.Timely.GTC:2==e.expireType?w.a.FUT.Timely.LIFE:w.a.FUT.Timely.DEADLINE,TimelyParam:1==e.expireType?0:2==e.expireType?e.expireType2Time&&!isNaN(e.expireType2Time)?Number(e.expireType2Time)*(1==e.expireType2Type?60:3600):null:e.selectDate?N()(e.selectDate.format("YYYY-MM-DD")+" "+e.utcTime+" "+this.tzOffsetHour,"YYYY-MM-DD HH:mm:ss Z").unix():null,Passive:e.postOnlyExecInst,Visible:e.hideDisplayQty?e.displayQty&&!isNaN(e.displayQty)?Number(e.displayQty):null:-1}}},{key:"onChangeHideDisplayQty",value:function(e){e.stopPropagation();var t=e.target.checked;this.setState({hideDisplayQty:t},function(){g.a.rebuild()})}},{key:"onChangePostOnlyExecInst",value:function(e){e.stopPropagation();var t=e.target.checked;this.setState({postOnlyExecInst:t})}},{key:"onChangeExpireType",value:function(e){e.stopPropagation();var t=e.target.value;this.setState({expireType:t})}},{key:"onChangeDisplayQty",value:function(e){this.setState({displayQty:e})}},{key:"onChangeExpireType2Type",value:function(e){this.setState({expireType2Type:e})}},{key:"onChangeExpireType2Time",value:function(e){this.setState({expireType2Time:e})}},{key:"startDateChange",value:function(e){this.setState({selectDate:e})}},{key:"onChangeUtcTime",value:function(e){this.setState({utcTime:e})}},{key:"onChangeDate",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=this.state.selectDate;if(1==e)t=a.add(n,"days");else{if(a.diff(this.minDate)<=0)return;t=a.subtract(n,"days")}this.startDateChange(t)}},{key:"render",value:function(){var e=this,t=this.props,n=t.quickDisable,a=t.volume,r=this.state,o=r.hideDisplayQty,s=r.displayQty,c=r.postOnlyExecInst,u=r.expireType,d=r.selectDate,p=r.expireType2Type,h=r.expireType2Time,f=r.utcTime;r.isModify,r.isTriggerred;return l.a.createElement("div",null,l.a.createElement("div",{className:"flex-box flex-jc lh-24 pdl-20"},l.a.createElement("label",{className:o?"custom-checkbox disable":"custom-checkbox"},l.a.createElement("span",{className:"mr-20"},i.a.lang("trade.open.beidong")),l.a.createElement("div",null,l.a.createElement("input",{type:"checkbox",className:"input_check",disabled:!n||o,onChange:this.onChangePostOnlyExecInst.bind(this),checked:c}),l.a.createElement("i",null))),l.a.createElement("label",{className:c?"custom-checkbox disable":"custom-checkbox"},l.a.createElement("span",{className:"mr-20"},i.a.lang("trade.open.hideDelegate")),l.a.createElement("div",null,l.a.createElement("input",{type:"checkbox",className:"input_check",disabled:!n||c,onChange:this.onChangeHideDisplayQty.bind(this),checked:o}),l.a.createElement("i",null)))),o&&!c&&l.a.createElement("div",{className:"mt-3 flex-box flex-end"},l.a.createElement("div",{className:"pos-r pdr-20 lh-24"},l.a.createElement("span",null,i.a.lang("trade.open.displayQty")),l.a.createElement("i",{className:"iconfont icon-question fs12","data-tip":i.a.lang("trade.open.hideQtyTip")})),l.a.createElement(S.a,{value:s,step:1,className:n?"slider-number-box":"slider-number-box disable",disabled:!n,min:0,max:Number(a)-1,onChange:this.onChangeDisplayQty.bind(this)})),l.a.createElement("div",{className:"flex-box flex-jc lh-24"},this.expireOptions&&this.expireOptions.map(function(t,a){var r=1==t?l.a.createElement("span",{"data-tip":i.a.lang("trade.open.gtc")},e.expireOptionsMap[t]):l.a.createElement("span",{title:i.a.lang(e.expireOptionsMap[t])},i.a.lang(e.expireOptionsMap[t]));return l.a.createElement("label",{className:"custom-label f-tof",key:a,style:a>0?{maxWidth:"130px"}:{}},l.a.createElement("input",{className:"custom-radio",type:"radio",name:"expire-radio",disabled:!n,checked:t==u,value:t,onChange:e.onChangeExpireType.bind(e)}),l.a.createElement("span",{className:"custom-radioInput"}),r)})),2==u&&l.a.createElement("div",{className:"mt-3 flex-box flex-end"},l.a.createElement(S.a,{className:"slider-number-box mr-10",inputClassName:"limit-min",disabled:!n,min:1,max:1e6,step:1,value:h,onChange:this.onChangeExpireType2Time.bind(this)}),l.a.createElement(y.b,{className:"w-100 sel-cus",disabled:!n,value:p,onChange:this.onChangeExpireType2Type.bind(this)},this.expireType2Options&&this.expireType2Options.map(function(t,n){return l.a.createElement(y.a,{value:t,key:n},i.a.lang(e.expireType2OptionsMap[t]))}))),3==u&&l.a.createElement("div",{className:"mt-5 flex-box flex-end pos-r"},l.a.createElement("div",{className:"slider-number-box pos-st"},l.a.createElement("span",{className:"slider-date"},l.a.createElement(_.a,{dateFormat:"YYYY-MM-DD",className:"date-class",utcOffset:0,selected:d,minDate:this.minDate,onChange:this.startDateChange.bind(this)})),l.a.createElement("div",{className:"arrow-box"},l.a.createElement("span",{className:n?"iconfont icon-dropUp arrowup":"iconfont icon-dropUp arrowup disable",onClick:function(){return e.onChangeDate(1)}}),l.a.createElement("span",{className:n?"iconfont icon-dropDown arrowdown":"iconfont icon-dropDown arrowdown disable",onClick:function(){return e.onChangeDate(-1)}}))),l.a.createElement("span",{className:"iconfont icon-date pos-r pd010 lh-25"},l.a.createElement(_.a,{dateFormat:"YYYY-MM-DD",utcOffset:0,selected:d,minDate:this.minDate,onChange:this.startDateChange.bind(this)})),l.a.createElement(k.a,{className:"slider-number-box user-select",disabled:!n,value:f,min:this.minTime,format:"HH:mm",onChange:this.onChangeUtcTime.bind(this)}),l.a.createElement("span",{className:"limit-txt lh-25 tc"})))}}]),t}(d.a),$=function(e){function t(e){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.preferenceKey="fcob",n.state={product:n.props.product,expanded:A.a.loadPreference(n.preferenceKey,!0),depthColumn:p.a.loadSetting("depthColumn"),colorTheme:p.a.loadSetting("colorTheme"),depthCount:p.a.loadSetting("depthCount"),showBg:p.a.loadSetting("showBg"),showVolSum:p.a.loadSetting("showVolSum")},n}return o(t,e),W(t,[{key:"componentWillMount",value:function(){P.a.addListener(P.a.EventName.DEPTH_UPDATE,this.onUpdateProductPrice.bind(this),this),P.a.addListener(P.a.EventName.SETTING_UPDATE,this.onUpdateSetting.bind(this),this),this.onUpdateProductPrice(p.a.getPrices())}},{key:"componentDidUpdate",value:function(e){e.open||e.expandKey!==this.preferenceKey||this.state.expanded||(this.props.onChange("reset",!1),this.toggle("show",!0))}},{key:"toggle",value:function(e,t){if(this.state.expanded===t)return!1;var n=e?t:!this.state.expanded;this.setState({expanded:n}),A.a.savePreference(this.preferenceKey,n)}},{key:"onUpdateProductPrice",value:function(e){if(e&&this.props.product&&e[this.props.product.Code]){var t=p.a.getProduct(this.props.product.Code);this.setState({product:t[0]})}}},{key:"onUpdateSetting",value:function(e){var t={};["colorTheme","depthCount","showBg","showVolSum","depthColumn"].forEach(function(n,a){e.hasOwnProperty(n)&&(t[n]=e[n])}),Object(D.g)(t)||this.setState(t)}},{key:"selectPrice",value:function(e,t,n,a){e.preventDefault(),P.a.dispatch(P.a.EventName.PRICE_SELECT,{Direction:t,Price:n,Volume:a})}},{key:"openNewPanel",value:function(e){e.preventDefault(),this.props.onChange("open",[this.props.ind,"FutCommOrderBook"]),this.toggle("show",!1)}},{key:"closeNewOpen",value:function(e){e.preventDefault(),this.props.onChange("close",[this.preferenceKey])}},{key:"render",value:function(){var e,t,n=this,a=this.props,r=(a.isExpert,a.ind,a.open),o=a.notip,s=a.className,c=this.state,u=c.product,d=c.expanded,h=c.colorTheme,f=c.depthCount,m=c.showBg,g=c.showVolSum,v=c.depthColumn,y={},b=p.a.getMaxVolProg();if(u){y=u.price;var E=[1,2,3,4,5,6,7,8,9,10],P=[1,2,3,4,5,6,7,8,9,10];P[P.length-1];e=u.PriceFixed,t=u.VolFixed,y&&(parseFloat(y.change),y.chg,y.VOL_MAX&&(b=y.VOL_MAX))}var S,k=0,T=0,D=0,A=0,x=d||r;return x&&1==v&&(S=E.map(function(a,r){if(a<=f){A=C.a.accAdd(y["AVOL"+a],A),D=C.a.accAdd(C.a.accMul(y["ASK"+a],y["AVOL"+a]),D);var o=y["AVOL"+a]?C.a.formatAmount(y["AVOL"+a],t):"--",i=Number(y["ASK"+a])?C.a.formatAmount(String(A),t):"--",s=C.a.accMul(C.a.accDiv(y["AVOL"+a],b),297,0);return l.a.createElement("tr",{key:r,onClick:function(e){return n.selectPrice(e,w.a.TRADE.DIRECTION.BID,y["ASK"+a],y["AVOL"+a])},className:"point"},l.a.createElement("td",null,l.a.createElement("span",{className:"red5"},y["ASK"+a]?C.a.formatAmount(y["ASK"+a],e):"--")),l.a.createElement("td",null,l.a.createElement("span",null,o)),l.a.createElement("td",null,l.a.createElement("div",{className:"deep-bg-r db-row",style:{width:s+"px"}}),l.a.createElement("span",null,i)))}}),S.reverse()),l.a.createElement("div",{ref:"orderBook",className:s},r?l.a.createElement("div",{className:"dialog-head tc lh-25"},l.a.createElement("span",{className:"handle"}),l.a.createElement("h3",{className:"ft-dialog-head fem875 tb"},l.a.createElement("span",null,i.a.lang("trade.settingMenu.depth"))),l.a.createElement("i",{className:"iconfont icon-close transit fs14",onClick:function(e){n.closeNewOpen(e)}})):l.a.createElement("div",{className:"mt-10 ft-new-deal flex-box flex-jc",onDoubleClick:function(e){n.openNewPanel(e)}},!o&&l.a.createElement("span",{className:"handle","data-tip":i.a.lang("trade.drag.dragbarTip")}),l.a.createElement("span",null,i.a.lang("trade.open.depth")),l.a.createElement("div",null,u&&l.a.createElement(ne,{name:"depth"}),l.a.createElement("i",{className:d?"iconfont icon-hide fs12":"iconfont icon-show fs12",onClick:function(){return n.toggle()}}))),l.a.createElement("div",{className:"ft-order-deep skin-dif-table mt-5"+(m?" color-pg"+h:"")},x&&2==v&&l.a.createElement("div",{className:"flex-box flex-jc div-table-bd table-double"},l.a.createElement("table",{className:"table-book-deep wp-50",cellPadding:"0",cellSpacing:"0"},l.a.createElement("thead",null,f>0&&l.a.createElement("tr",{className:"tc"},l.a.createElement("th",null,i.a.lang(g?"trade.open.volSum":"futures.hist_title2")),l.a.createElement("th",null,i.a.lang("trade.open.buyPrice")))),l.a.createElement("tbody",null,P&&P.map(function(a,r){if(a<=f){T=C.a.accAdd(y["BVOL"+a],T),k=C.a.accAdd(C.a.accMul(y["BID"+a],y["BVOL"+a]),k);var o=C.a.accMul(C.a.accDiv(y["BVOL"+a],b),150,0),i=g?Number(y["BID"+a])?C.a.formatAmount(String(T),t):"--":y["BVOL"+a]?C.a.formatAmount(y["BVOL"+a],t):"--";return l.a.createElement("tr",{key:r,onClick:function(e){return n.selectPrice(e,w.a.TRADE.DIRECTION.ASK,y["BID"+a],y["BVOL"+a])},className:"point"},l.a.createElement("td",null,l.a.createElement("span",null,i)),l.a.createElement("td",null,l.a.createElement("div",{className:"deep-bg-l",style:{width:o+"px"}}),l.a.createElement("span",{className:"green5"},y["BID"+a]?C.a.formatAmount(y["BID"+a],e):"--")))}}))),l.a.createElement("table",{className:"table-book-deep wp-50 bd-l-none",cellPadding:"0",cellSpacing:"0"},l.a.createElement("thead",null,f>0&&l.a.createElement("tr",{className:"tc"},l.a.createElement("th",null,i.a.lang("trade.open.sellPrice")),l.a.createElement("th",null,i.a.lang(g?"trade.open.volSum":"futures.hist_title2")))),l.a.createElement("tbody",null,E&&E.map(function(a,r){if(a<=f){A=C.a.accAdd(y["AVOL"+a],A),D=C.a.accAdd(C.a.accMul(y["ASK"+a],y["AVOL"+a]),D);var o=C.a.accMul(C.a.accDiv(y["AVOL"+a],b),150,0),i=g?Number(y["ASK"+a])?C.a.formatAmount(String(A),t):"--":y["AVOL"+a]?C.a.formatAmount(y["AVOL"+a],t):"--";return l.a.createElement("tr",{key:r,onClick:function(e){return n.selectPrice(e,w.a.TRADE.DIRECTION.BID,y["ASK"+a],y["AVOL"+a])},className:"point"},l.a.createElement("td",null,l.a.createElement("span",{className:"red5"},y["ASK"+a]?C.a.formatAmount(y["ASK"+a],e):"--"),l.a.createElement("div",{className:"deep-bg-r",style:{width:o+"px"}})),l.a.createElement("td",null,l.a.createElement("span",null,i)))}})))),x&&2==v&&l.a.createElement("div",{className:"mt-5 ft-km flex-box flex-jc"},l.a.createElement("span",{className:"buy"},Number(T)?C.a.toKorM(T)+"/"+String(C.a.accDiv(k,T,e)):"--/--"),l.a.createElement("span",{className:"sell"},Number(A)?String(C.a.accDiv(D,A,e))+"/"+C.a.toKorM(A):"--/--")),x&&1==v&&l.a.createElement("div",{className:m?"color-pg1 div-table-bd table-single":"div-table-bd table-single"},l.a.createElement("table",{className:"table-book-deep",cellPadding:"0",cellSpacing:"0"},l.a.createElement("thead",null,f>0&&l.a.createElement("tr",{className:"tc"},l.a.createElement("th",null,i.a.lang("trade.open.price")),l.a.createElement("th",null,i.a.lang("futures.hist_title2")),l.a.createElement("th",null,i.a.lang("trade.open.volSum")))),l.a.createElement("tbody",null,S)),l.a.createElement(te,{product:u,isExpert:!0,inDepth:!0}),l.a.createElement("table",{className:"table-book-deep mt-5",cellPadding:"0",cellSpacing:"0"},l.a.createElement("tbody",null,P&&P.map(function(a,r){if(a<=f){T=C.a.accAdd(y["BVOL"+a],T),k=C.a.accAdd(C.a.accMul(y["BID"+a],y["BVOL"+a]),k);var o=y["BVOL"+a]?C.a.formatAmount(y["BVOL"+a],t):"--",i=Number(y["BID"+a])?C.a.formatAmount(String(T),t):"--",s=C.a.accMul(C.a.accDiv(y["BVOL"+a],b),297,0);return l.a.createElement("tr",{key:r,onClick:function(e){return n.selectPrice(e,w.a.TRADE.DIRECTION.ASK,y["BID"+a],y["BVOL"+a])},className:"point"},l.a.createElement("td",null,l.a.createElement("span",{className:"green5"},y["BID"+a]?C.a.formatAmount(y["BID"+a],e):"--")),l.a.createElement("td",null,l.a.createElement("span",null,o)),l.a.createElement("td",null,l.a.createElement("div",{className:"deep-bg-l db-row",style:{width:s+"px"}}),l.a.createElement("span",null,i)))}}))))))}}]),t}(d.a),ee=function(e){function t(e){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.preferenceKey="fclob",n.state=n.initState(n.props),n}return o(t,e),W(t,[{key:"componentWillMount",value:function(){P.a.addListener(P.a.EventName.TRADE_UPDATE,this.onUpdateProductTrade.bind(this),this),P.a.addListener(P.a.EventName.SETTING_UPDATE,this.onUpdateSetting.bind(this),this),this.onUpdateProductTrade(p.a.getTradeMap())}},{key:"initState",value:function(e){var t=e.product;return t?{trade:p.a.getTradeInfo(t.Code),tradeCount:p.a.loadSetting("tradeCount"),expanded:A.a.loadPreference(this.preferenceKey,!0)}:{trade:[],tradeCount:0,expanded:!0}}},{key:"componentWillReceiveProps",value:function(e){if(!this.props.product&&this.props.product!=e.product){var t=this.initState(e);this.setState(t)}}},{key:"onUpdateProductTrade",value:function(e){this.props.product&&e[this.props.product.Code]?this.setState({trade:e[this.props.product.Code]}):this.setState({trade:[]})}},{key:"onUpdateSetting",value:function(e){var t={};["tradeCount"].forEach(function(n,a){e.hasOwnProperty(n)&&(t[n]=e[n])}),Object(D.g)(t)||this.setState(t)}},{key:"selectPrice",value:function(e,t,n){e.preventDefault()}},{key:"toggle",value:function(e,t){if(this.state.expanded===t)return!1;var n=e?t:!this.state.expanded;this.setState({expanded:n}),A.a.savePreference(this.preferenceKey,n)}},{key:"componentDidUpdate",value:function(e){e.open||e.expandKey!==this.preferenceKey||this.state.expanded||(this.props.onChange("reset",!1),this.toggle("show",!0))}},{key:"openNewPanel",value:function(e){e.preventDefault(),this.props.onChange("open",[this.props.ind,"FutCloseOrderBook"]),this.toggle("show",!1)}},{key:"closeNewOpen",value:function(e){e.preventDefault(),this.props.onChange("close",[this.preferenceKey])}},{key:"render",value:function(){var e,t,n=this,a=this.props,r=(a.isExpert,a.product),o=a.open,s=a.notip,c=a.className,u=this.state,d=u.trade,p=u.expanded,h=u.tradeCount,f=Number(h);return r&&(e=r.PriceFixed,t=r.PriceFixed),l.a.createElement("div",{ref:"orderDeep",className:c},o?l.a.createElement("div",{className:"dialog-head tc lh-25"},l.a.createElement("span",{className:"handle"}),l.a.createElement("h3",{className:"ft-dialog-head fem875 tb"},l.a.createElement("span",null,i.a.lang("Trade.100"))),l.a.createElement("i",{className:"iconfont icon-close transit fs14",onClick:function(e){n.closeNewOpen(e)}})):l.a.createElement("div",{className:"mt-10 ft-new-deal flex-box flex-jc",onDoubleClick:function(e){n.openNewPanel(e)}},!s&&l.a.createElement("span",{className:"handle","data-tip":i.a.lang("trade.drag.dragbarTip")}),l.a.createElement("span",null,i.a.lang("Trade.100")),l.a.createElement("div",null,r&&l.a.createElement(ne,{name:"trade"}),l.a.createElement("i",{className:p?"iconfont icon-hide fs12":"iconfont icon-show fs12",onClick:function(){return n.toggle()}}))),l.a.createElement("div",{className:"ft-order-deep"},(p||o)&&l.a.createElement("table",{className:"table-new-deal mt-5",cellPadding:"0",cellSpacing:"0"},l.a.createElement("thead",null,l.a.createElement("tr",{className:"tc"},l.a.createElement("th",null,i.a.lang("TradeHistory.105")),l.a.createElement("th",null,i.a.lang("futures.hist_title.u")),l.a.createElement("th",null,i.a.lang("accountSafe.1_102")))),l.a.createElement("tbody",null,d?d.map(function(a,r){var o=Number(a.Side);if(r<f)return l.a.createElement("tr",{key:r,onClick:function(e){return n.selectPrice(e,o,a.LastPrice)}},l.a.createElement("td",{className:o==w.a.FUT.Side.BUY?"buy":"sell"},C.a.formatAmount(a.LastPrice,e)),l.a.createElement("td",null,C.a.formatAmount(a.Volume,t)),l.a.createElement("td",{className:"c-8"},N()(Number(a.Time)).utcOffset(L.a.svrTzMin).format("HH:mm:ss")))}):l.a.createElement("tr",null,l.a.createElement("td",null,"--"),l.a.createElement("td",null,"--"),l.a.createElement("td",null,"--"))))))}}]),t}(d.a),te=function(e){function t(e){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.isDesktop=!1,n.priceTimer=0,n.priceUpdateCount=0,n.preferenceKey="fcdt",n.state=n.initState(n.props),n}return o(t,e),W(t,[{key:"initState",value:function(e){var t=e.product;return t?{expanded:A.a.loadPreference(this.preferenceKey,!0),product:t,isInd:!1,useFunkRate:"",useIndFunkRate:""}:{expanded:!0,product:t,isInd:!1,useFunkRate:"",useIndFunkRate:""}}},{key:"componentWillMount",value:function(){P.a.addListener(P.a.EventName.PRICE_UPDATE,this.onUpdateProductPriceDelay.bind(this),this),P.a.addListener(P.a.EventName.FUT_ORDERRANK_UPDATE,this.onUpdateRank.bind(this),this),P.a.addListener(P.a.EventName.FUT_ORDER_UPDATE,this.onChangeUserFunkRate.bind(this),this),this.onUpdateProductPrice(),this.onChangeUserFunkRate()}},{key:"componentWillReceiveProps",value:function(e){this.props.product!=e.product&&(this.props.product?this.setState({product:e.product}):this.setState(this.initState(e)))}},{key:"onUpdateProductPriceDelay",value:function(e){e&&this.props.product&&e[this.props.product.Code]&&this.onUpdateProductPrice()}},{key:"onUpdateProductPrice",value:function(){if(this.props.product){var e=p.a.getProduct(this.props.product.Code);this.setState({product:e[0]})}}},{key:"onUpdateRank",value:function(){this.forceUpdate()}},{key:"componentDidUpdate",value:function(e){e.open||e.expandKey!==this.preferenceKey||this.state.expanded||(this.props.onChange("reset",!1),this.toggle("show",!0))}},{key:"toggle",value:function(e,t){if(this.state.expanded===t)return!1;var n=e?t:!this.state.expanded;this.setState({expanded:n}),A.a.savePreference(this.preferenceKey,n)}},{key:"openNewPanel",value:function(e){e.preventDefault(),this.props.onChange("open",[this.props.ind,"FutContractDetail"]),this.toggle("show",!1)}},{key:"closeNewOpen",value:function(e){e.preventDefault(),this.props.onChange("close",[this.preferenceKey])}},{key:"notOPen",value:function(){Object(E.g)(i.a.lang("common.not_open"),!0)}},{key:"openWin",value:function(e){"object"==("undefined"===typeof ElectronExt?"undefined":z(ElectronExt))&&ElectronExt.openExternal&&ElectronExt.openExternal(""+Object({NODE_ENV:"production",VER_ENV:"web",PUBLIC_URL:"https://res1.tdex.com",REACT_APP_CDN_URL:"https://res2.tdex.com",REACT_APP_CHAT_WS_URL:"wss://realtime2.tdex.com/chat",REACT_APP_ENGINE_DOMAIN:"demo.tdex.com",REACT_APP_HTTP_API_DOMAIN_URL:"/",REACT_APP_HTTP_API_URL:"{origin}/api/v0.1.0/",REACT_APP_SERVER_URL:"{origin}/server/",REACT_APP_SIMULATE_DOMAIN:"sim.tdex.com",REACT_APP_SOCKIO_URL:"",REACT_APP_UPLOAD_URL:"{origin}/api/v0.1.0/",REACT_APP_WS_NEW_URL:"wss://realtime1.tdex.com/realtime",REACT_APP_WS_URL:""}).REACT_APP_URL_ORIGIN+e)}},{key:"remainHours",value:function(e,t){t=t||(new Date).getTime();var n=e-t;return n=n<0?0:n,Math.ceil(n/36e5)}},{key:"calcFundFee",value:function(e){var t=p.a.positionList;if(t){var n=0;t.forEach(function(t,a){n=t.Side==w.a.FUT.Side.BUY?C.a.accAdd(C.a.accDiv(C.a.accMul(p.a.getCon(t.CID),t.Volume),t.Price),n):C.a.accAdd((e>0?-1:1)*C.a.accDiv(C.a.accMul(p.a.getCon(t.CID),t.Volume),t.Price),n)});return C.a.accMul(n,e,4)}}},{key:"onChangeUserFunkRate",value:function(){var e=this.state.product;if(e){var t=e.price;if(t.FUND_RATE){var n=this.calcFundFee(Number(t.FUND_RATE)),a=this.calcFundFee(Number(t.IND_FUND_RATE)),r={useFunkRate:n,useIndFunkRate:a};this.setState(r)}}}},{key:"onMouseEnter",value:function(e){e.stopPropagation(),this.setState({isInd:!0})}},{key:"onMouseLeave",value:function(e){e.stopPropagation(),this.setState({isInd:!1})}},{key:"render",value:function(){var e=this,t=this.props,n=(t.ind,t.open),a=t.inDepth,r=t.className,o=t.notip,s=this.state,c=s.product,u=s.isInd,d=s.useFunkRate,h=s.useIndFunkRate,f=c?c.price:{},m=c?c.fromCode:"--",g=c?c.toCode:"--",v=c?p.a.getRankInPosition(c.ID):-1,y=[0,1,2,3,4],b=this.state.expanded;return l.a.createElement("div",{className:r},!a&&(n?l.a.createElement("div",{className:"dialog-head tc lh-25"},l.a.createElement("span",{className:"handle"}),l.a.createElement("h3",{className:"ft-dialog-head fem875 tb"},l.a.createElement("span",null,i.a.lang("trade.contractDetail"))),l.a.createElement("i",{className:"iconfont icon-close transit fs14",onClick:function(t){e.closeNewOpen(t)}})):l.a.createElement("div",{className:"mt-10 ft-new-deal flex-box flex-jc",onDoubleClick:function(t){e.openNewPanel(t)}},!o&&l.a.createElement("span",{className:"handle","data-tip":i.a.lang("trade.drag.dragbarTip")}),l.a.createElement("span",null,i.a.lang("trade.contractDetail")),l.a.createElement("span",{className:b?"iconfont icon-hide fs12":"iconfont icon-show fs12",onClick:function(){return e.toggle()}}))),(a||b||n)&&l.a.createElement("div",{className:"ft-order-deep"},l.a.createElement("table",{className:"table-new-deal mt-5",cellPadding:"0"},l.a.createElement("thead",null,l.a.createElement("tr",{className:"tc"},l.a.createElement("th",{colSpan:"2"},l.a.createElement("div",{className:"mt-10 tc"},l.a.createElement("p",{className:"fem-225 lh-22"},f&&f.LAST?C.a.toFixed(f.LAST,c.PriceFixed):"--")),l.a.createElement("div",{className:"mb-10 tc fs12"},l.a.createElement("span",{"data-tip":i.a.lang("trade.open.indexPriceTip")},f&&f.INDEX?f.INDEX:"--"),l.a.createElement("span",{"data-tip":i.a.lang("trade.open.markPriceTip")},this.isDesktop?l.a.createElement("a",{href:"javascript:;",onClick:this.openWin.bind(this,A.a.getHelpCenterUrl(A.a.helpUrl(i.a.getLang(),"markprice")))}," / "+(f&&f.MARK?f.MARK:"--")):B.f?l.a.createElement("a",{href:"javascript:;"}," / "+(f&&f.MARK?f.MARK:"--")):l.a.createElement("a",{href:A.a.getHelpCenterUrl(A.a.helpUrl(i.a.getLang(),"markprice")),target:"_blank"}," / "+(f&&f.MARK?f.MARK:"--"))),l.a.createElement("span",{className:"futures-product-li","data-tip":i.a.lang("trade.open.deleverageIndicatorTip")},this.isDesktop?l.a.createElement("a",{href:"javascrpt:;",onClick:this.openWin.bind(this,A.a.getHelpCenterUrl(A.a.helpUrl(i.a.getLang(),"adl")))},y.map(function(e,t){return l.a.createElement("span",{className:v>=e?"on":"",key:t})})):B.f?l.a.createElement("a",{href:"javascrpt:;"},y.map(function(e,t){return l.a.createElement("span",{className:v>=e?"on":"",key:t})})):l.a.createElement("a",{className:"cursor",href:A.a.getHelpCenterUrl(A.a.helpUrl(i.a.getLang(),"adl")),target:"_blank"},y.map(function(e,t){return l.a.createElement("span",{className:v>=e?"on":"",key:t})}))))))),!a&&l.a.createElement("tbody",{className:"lh-22"},l.a.createElement("tr",null,l.a.createElement("td",null,i.a.lang("trade.price.source")),l.a.createElement("td",null,c?i.a.lang("trade."+c.Code+".source"):"--")),l.a.createElement("tr",null,l.a.createElement("td",null,i.a.lang("trade.price.index")),l.a.createElement("td",null,f&&f.INDEX?f.INDEX:"--")),l.a.createElement("tr",null,l.a.createElement("td",null,i.a.lang("trade.volume.24hours")),l.a.createElement("td",null,c&&f&&f.VOL_24h?C.a.formatAmount(f.VOL_24h,c.VolFixed):"--")),l.a.createElement("tr",null,l.a.createElement("td",null,i.a.lang("trade.instrument.openValue")),l.a.createElement("td",null,(f.MARK&&Number(f.MARK)?C.a.formatAmount(C.a.accDiv(f.OPEN_INTEREST,f.MARK),4):"")+" "+m)),l.a.createElement("tr",{onMouseEnter:this.onMouseEnter.bind(this),onMouseLeave:this.onMouseLeave.bind(this)},u?l.a.createElement(l.a.Fragment,null,l.a.createElement("td",null,i.a.lang("futures.lv_info5_1")),l.a.createElement("td",null,f&&f.IND_FUND_RATE?C.a.toPercent(f.IND_FUND_RATE,4)+" "+i.a.lang("trade.fundingHour",this.remainHours(f.FUND_TS+288e5,L.a.getServerTimeStamp(!0))):"--")):l.a.createElement(l.a.Fragment,null,l.a.createElement("td",null,i.a.lang("trade.instrument.fundingRate")),l.a.createElement("td",null,f&&f.FUND_RATE?C.a.toPercent(f.FUND_RATE,4)+" "+i.a.lang("trade.fundingHour",this.remainHours(f.FUND_TS,L.a.getServerTimeStamp(!0))):"--"))),l.a.createElement("tr",{onMouseEnter:this.onMouseEnter.bind(this),onMouseLeave:this.onMouseLeave.bind(this)},u?l.a.createElement(l.a.Fragment,null,l.a.createElement("td",null,i.a.lang("trade.fundingInd")),l.a.createElement("td",null,l.a.createElement("span",{className:Number(h)>0?"green5":Number(h)<0?"red5":""},(h||"--")+" "),m)):l.a.createElement(l.a.Fragment,null,l.a.createElement("td",null,i.a.lang("trade.funding")),l.a.createElement("td",null,l.a.createElement("span",{className:Number(d)>0?"green5":Number(d)<0?"red5":""},(d||"--")+" "),m))),l.a.createElement("tr",null,l.a.createElement("td",null,i.a.lang("trade.contractValue")),l.a.createElement("td",null,(c?c.Scale:"--")+" "+g)))),!a&&l.a.createElement("div",{className:"futures-info-more f-clear"},this.isDesktop?l.a.createElement("a",{href:"javascript:;",onClick:this.openWin.bind(this,A.a.getHelpCenterUrl(A.a.helpUrl(i.a.getLang(),"contract-specification")))},i.a.lang("trade.moreDetails")):B.f?l.a.createElement("a",{href:"javascript:;",onClick:this.notOPen.bind(this)},i.a.lang("trade.moreDetails")):l.a.createElement("a",{className:"cursor",href:A.a.getHelpCenterUrl(A.a.helpUrl(i.a.getLang(),"contract-specification")),target:"_blank"},i.a.lang("trade.moreDetails")))))}}]),t}(d.a),ne=function(e){function t(e){a(this,t);var n,o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));if("history"!=o.props.name){var s=p.a.setting,l=i.a.getLang();n={isOneKeyTrade:s.isOneKeyTrade,colorTheme:s.colorTheme,colorThemeView:s.colorTheme,sizeTheme:s.sizeTheme,quickMktLmt:s.quickMktLmt,postOnlyExecInst:s.postOnlyExecInst,expireParam:s.expireParam,showBg:s.showBg,showVolSum:s.showVolSum,depthColumn:s.depthColumn,Lang:l},o.maxDepth=10,o.sellDepthOptionsMap={1:"Ask1",2:"Ask1 - Ask2",3:"Ask1 - Ask3",4:"Ask1 - Ask4",5:"Ask1 - Ask5",6:"Ask1 - "},o.sellDepthOptions=Object.keys(o.sellDepthOptionsMap),o.sellDepthOtherOptionsMap={};for(var c=6;c<=o.maxDepth;c++)o.sellDepthOtherOptionsMap[c]="Ask"+c;o.sellDepthOtherOptions=Object.keys(o.sellDepthOtherOptionsMap),s.sellMDepth>=6?(n.sellDepth=6,n.sellDepthOther=s.sellMDepth-5):(n.sellDepth=s.sellMDepth,n.sellDepthOther=0),o.buyDepthOptionsMap={1:"Bid1",2:"Bid1 - Bid2",3:"Bid1 - Bid3",4:"Bid1 - Bid4",5:"Bid1 - Bid5",6:"Bid1 - "},o.buyDepthOptions=Object.keys(o.buyDepthOptionsMap),o.buyDepthOtherOptionsMap={};for(var c=6;c<=o.maxDepth;c++)o.buyDepthOtherOptionsMap[c]="Bid"+c;o.buyDepthOtherOptions=Object.keys(o.buyDepthOtherOptionsMap),s.buyMDepth>=6?(n.buyDepth=6,n.buyDepthOther=s.buyMDepth-5):(n.buyDepth=s.buyMDepth,n.buyDepthOther=0),o.colorsOptionsMap={};for(var c=1;c<=4;c++)o.colorsOptionsMap[c]="trade.price.colorOptiongd";for(var c=5;c<=7;c++)o.colorsOptionsMap[c]="trade.price.colorOptiondt";o.colorsOptions=Object.keys(o.colorsOptionsMap),o.expireParams=[0,5,30],-1==o.expireParams.indexOf(n.expireParam)?(n.expireParamOther=n.expireParam>0?n.expireParam:"",n.expireParam=-1):n.expireParamOther="",o.depthCounts=[0,3,5,10],o.depthCountOptionsMap={1:"trade.depth.countOption1"};for(var c=2;c<=4;c++)o.depthCountOptionsMap[c]="trade.depth.countOption";o.depthCountOptions=Object.keys(o.depthCountOptionsMap),s.hasOwnProperty("depthCount")&&(n.depthOption=o.depthCounts.indexOf(s.depthCount)+1),o.tradeCounts=[5,10,15,20],s.hasOwnProperty("tradeCount")&&(n.tradeCount=s.tradeCount)}else n={Shared:!1,Merged:!1};return n.robotActivityOpen=B.i,o.state=n,o}return o(t,e),W(t,[{key:"componentWillMount",value:function(){A.a.checkUserAuth()&&"history"==this.props.name&&this.loadSetting()}},{key:"loadSetting",value:function(){var e=this,t=this.getProductID();t&&p.a.loadScheme(t,function(t){e.setState(t)})}},{key:"saveHistorySetting",value:function(e,t){var n=this.getProductID(),a=e;n&&I.a.httpRequest("futures/scheme",{CID:n,Options:a},function(e){0==e.Status&&(p.a.saveScheme(n,a),t&&t())},this,"put")}},{key:"getProductID",value:function(){var e,t=p.a.getProduct(this.props.code);if(t&&(e=t[0]),e)return e.ID}},{key:"onChangeShareValue",value:function(e){var t=this;if(e.stopPropagation(),p.a.orderList.length>0||p.a.positionList.length>0)return void j.a.error(i.a.lang("trade.error.schemeShare"));var n={Shared:!this.state.Shared},a=this.getProductID(),r=n.Shared?"trade.setting.shared1":"trade.setting.shared0";b.a.open(l.a.createElement(ae,{product:p.a.getProductByID(a),action:"setting",data:{msg:r},onConfirm:function(e){e&&t.saveHistorySetting(n,function(){t.setState(n),P.a.dispatch(P.a.EventName.SET_SHARED,n.Shared)})}}),"order-preview",!0)}},{key:"onChangeMergedValue",value:function(e){var t=this;e.stopPropagation();var n=!this.state.Merged,a=(e.nativeEvent,{Merged:n}),r=this.getProductID(),o=a.Merged?"trade.setting.mergeOk":"trade.setting.mergeCancel";b.a.open(l.a.createElement(ae,{product:p.a.getProductByID(r),action:"setting",data:{msg:o},onConfirm:function(e){e&&t.saveHistorySetting(a,function(){t.setState(a),P.a.dispatch(P.a.EventName.SET_MERGED,a.Merged)})}}),"order-preview",!0)}},{key:"onChangeOneKeyTrade",value:function(e){e.stopPropagation();var t=!this.state.isOneKeyTrade;this.setState({isOneKeyTrade:t}),p.a.saveSetting("isOneKeyTrade",t)}},{key:"onChangeDepth",value:function(e,t){var n=t.target.value,a={};a[1==e?"sellDepth":"buyDepth"]=n,this.setState(a),p.a.saveSetting(1==e?"sellMDepth":"buyMDepth",Number(n)<6?Number(n):6)}},{key:"onChangeDepthOther",value:function(e,t){(event||window.event).stopPropagation();var n={};n[1==e?"sellDepthOther":"buyDepthOther"]=t,this.setState(n),p.a.saveSetting(1==e?"sellMDepth":"buyMDepth",Number(t)+5)}},{key:"onChangeDepthColumn",value:function(e){e.stopPropagation();var t=e.target.value,n={depthColumn:Number(t)};this.setState(n),p.a.saveSetting("depthColumn",Number(t))}},{key:"onChangeColorTheme",value:function(e){e.stopPropagation();var t=e.target.value;this.setState({colorTheme:t}),p.a.saveSetting("colorTheme",Number(t))}},{key:"onChangeColorThemeView",value:function(e,t){t.stopPropagation(),this.setState({colorThemeView:e})}},{key:"onChangeSizeTheme",value:function(e){e.stopPropagation();var t=e.target.value;this.setState({sizeTheme:t}),p.a.saveSetting("sizeTheme",Number(t))}},{key:"onChangeDepthCount",value:function(e){e.stopPropagation();var t=e.target.value;this.setState({depthOption:t}),p.a.saveSetting("depthCount",this.depthCounts[Number(t)-1])}},{key:"onChangeShowBg",value:function(e){e.stopPropagation();var t=!this.state.showBg;this.setState({showBg:t}),p.a.saveSetting("showBg",t)}},{key:"onChangeShowVolSum",value:function(e){e.stopPropagation();var t=!this.state.showVolSum;this.setState({showVolSum:t}),p.a.saveSetting("showVolSum",t)}},{key:"onChangeQuickMktLmt",value:function(e){e.stopPropagation();var t=e.target.value;this.setState({quickMktLmt:t}),p.a.saveSetting("quickMktLmt",t)}},{key:"onChangeExpireParam",value:function(e){e.stopPropagation();var t=e.target.value;this.setState({expireParam:t}),p.a.saveSetting("expireParam",t)}},{key:"onChangePostOnlyExecInst",value:function(e){e.stopPropagation();var t=!this.state.postOnlyExecInst;this.setState({postOnlyExecInst:t}),p.a.saveSetting("postOnlyExecInst",t)}},{key:"onChangeExpireParamInput",value:function(e){this.setState({expireParam:-1,expireParamOther:e}),p.a.saveSetting("expireParam",e)}},{key:"onChangeTradeCount",value:function(e){e.stopPropagation();var t=e.target.value;this.setState({tradeCount:t}),p.a.saveSetting("tradeCount",Number(t))}},{key:"setMenuRef",value:function(e){this.menuRef=e}},{key:"onMiningRobotConfirm",value:function(e,t){var n=this.getProductID(),a=e?"mining.confirm.open":"mining.confirm.close";b.a.open(l.a.createElement(ae,{product:p.a.getProductByID(n),action:"setting",data:{msg:a},onConfirm:function(e){t&&t(e)}}),"order-preview",!0)}},{key:"render",value:function(){var e=this,t=this.props.name,n=this.state,a=n.isOneKeyTrade,r=n.sellDepth,o=n.sellDepthOther,s=n.buyDepth,c=n.buyDepthOther,u=n.colorTheme,d=n.sizeTheme,p=n.colorThemeView,h=n.depthColumn,f=n.depthOption,m=n.tradeCount,g=n.showBg,b=n.showVolSum,E=n.quickMktLmt,w=n.postOnlyExecInst,C=n.expireParam,P=n.expireParamOther,S=n.Shared,k=n.Merged,D=n.robotActivityOpen;return l.a.createElement("span",{className:"order-menu-box"},l.a.createElement(v.b,{trigger:"click",menuRef:function(){return e.menuRef},ref:function(t){return e.dropDownRef=t}},l.a.createElement("i",{className:"iconfont icon-category pd010 ver-md dis-inb fs12"})),"newOrder"==t&&l.a.createElement(v.c,{className:"order-menu-setting dire-r lh-25",ref:this.setMenuRef.bind(this),pnRef:function(){return e.dropDownRef},style:{maxWidth:"164px"}},!!D&&l.a.createElement(F.a,{type:"futures",code:this.props.code,onConfirm:this.onMiningRobotConfirm.bind(this)}),l.a.createElement(v.d,null,l.a.createElement("label",{className:"custom-checkbox wp-100"},l.a.createElement("div",null,l.a.createElement("input",{type:"checkbox",className:"input_check",checked:a,onChange:this.onChangeOneKeyTrade.bind(this)}),l.a.createElement("i",null)),l.a.createElement("span",null,i.a.lang("trade.settingMenu.oneKeyTrade")))),l.a.createElement(v.d,null,l.a.createElement("span",null,i.a.lang("trade.settingMenu.price")),l.a.createElement("span",{className:"pdl-10 c-down"},l.a.createElement("i",{className:"iconfont icon-dropDown arrowdown fs12"})),l.a.createElement(v.e,{className:"menu-grade2 drop-child",tags:"dl"},l.a.createElement(v.d,{tags:"dd"},l.a.createElement("span",null,i.a.lang("trade.settingMenu.sellDepth")),l.a.createElement("span",{className:"next-icon"},l.a.createElement("i",{className:"iconfont icon-dropDown arrowdown fs12"})),l.a.createElement(v.e,{className:"menu-grade3 ft-order-box",style:{width:"112px"}},this.sellDepthOptions.map(function(t,n){var a;if("6"==t){var i=e.sellDepthOtherOptions.map(function(t,n){return l.a.createElement(y.a,{value:t,key:n},e.sellDepthOtherOptionsMap[t])});a=l.a.createElement(y.b,{value:o,onChange:e.onChangeDepthOther.bind(e,1)},i)}return l.a.createElement(v.d,{key:n},l.a.createElement("label",{className:"custom-label wp-100"},l.a.createElement("input",{className:"custom-radio",type:"radio",name:"sellDepth",value:t,checked:t==r,onChange:e.onChangeDepth.bind(e,1)}),l.a.createElement("span",{className:"custom-radioInput"}),l.a.createElement("span",{className:"dis-inb"},e.sellDepthOptionsMap[t]),l.a.createElement("div",{className:"ask-sel"},a)))}))),l.a.createElement(v.d,{tags:"dd"},l.a.createElement("span",null,i.a.lang("trade.settingMenu.buyDepth")),l.a.createElement("span",{className:"next-icon"},l.a.createElement("i",{className:"iconfont icon-dropDown arrowdown fs12"})),l.a.createElement(v.e,{className:"menu-grade3 ft-order-box",style:{width:"112px"}},this.buyDepthOptions.map(function(t,n){var a;if("6"==t){var r=e.buyDepthOtherOptions.map(function(t,n){return l.a.createElement(y.a,{value:t,key:n},e.buyDepthOtherOptionsMap[t])});a=l.a.createElement(y.b,{value:c,onChange:e.onChangeDepthOther.bind(e,2)},r)}return l.a.createElement(v.d,{key:n},l.a.createElement("label",{className:"custom-label wp-100"},l.a.createElement("input",{className:"custom-radio",type:"radio",name:"buyDepth",value:t,checked:t==s,onChange:e.onChangeDepth.bind(e,2)}),l.a.createElement("span",{className:"custom-radioInput"}),l.a.createElement("span",{className:"dis-inb"},e.buyDepthOptionsMap[t]),l.a.createElement("div",{className:"ask-sel"},a)))}))),l.a.createElement(v.d,{tags:"dd"},l.a.createElement("span",null,i.a.lang("trade.price.colorTheme")),l.a.createElement("span",{className:"next-icon"},l.a.createElement("i",{className:"iconfont icon-dropDown arrowdown fs12"})),l.a.createElement(v.e,{className:"menu-grade3"},this.colorsOptions.map(function(t,n){var a=t<5?i.a.lang(e.colorsOptionsMap[t],t):i.a.lang(e.colorsOptionsMap[t],Number(t)-4);return l.a.createElement(v.d,{key:n,onMouseOver:e.onChangeColorThemeView.bind(e,t)},l.a.createElement("label",{className:"custom-label wp-100"},l.a.createElement("input",{className:"custom-radio",type:"radio",name:"colorTheme",value:t,checked:t==u,onChange:e.onChangeColorTheme.bind(e)}),l.a.createElement("span",{className:"custom-radioInput"}),l.a.createElement("span",null,a)))}),l.a.createElement(v.d,{className:"color-scheme color-syle"+p},l.a.createElement("div",{className:"tr"},l.a.createElement("i",{className:"iconfont icon-down c1"}),l.a.createElement("span",{className:"pd010 tb c1"},"="),l.a.createElement("i",{className:"iconfont icon-up c2"})),l.a.createElement("div",null,l.a.createElement("span",null,i.a.lang("trade.price.buyColor")),6==p||7==p?l.a.createElement("span",{className:"en-us"==this.state.Lang?"tr ver-md ver-md-ml-15":"tr ver-md ver-md-ml-14"},l.a.createElement("span",{className:"scheme sc1"}),l.a.createElement("span",{className:"scheme mg-010"},l.a.createElement("span",{className:"sc1"}),l.a.createElement("span",{className:"sc2"})),l.a.createElement("span",{className:"scheme sc2"})):l.a.createElement("span",{className:"en-us"==this.state.Lang?"tr ver-md ver-md-ml-15":"tr ver-md ver-md-ml-14"},l.a.createElement("span",{className:"scheme sc1"}),l.a.createElement("span",{className:5==p?"scheme sc3 mg-010":"scheme sc1 mg-010"}),l.a.createElement("span",{className:5==p?"scheme sc2":"scheme sc1"}))),l.a.createElement("div",null,l.a.createElement("span",null,i.a.lang("trade.price.sellColor")),6==p||7==p?l.a.createElement("span",{className:"tr ver-md ver-md-ml-14"},l.a.createElement("span",{className:"scheme sc1"}),l.a.createElement("span",{className:"scheme sc2 mg-010"},l.a.createElement("span",{className:"sc1"}),l.a.createElement("span",{className:"sc2"})),l.a.createElement("span",{className:"scheme sc2"})):l.a.createElement("span",{className:"tr ver-md ver-md-ml-14"},l.a.createElement("span",{className:5==p?"scheme sc1":"scheme sc2"}),l.a.createElement("span",{className:5==p?"scheme sc3 mg-010":"scheme sc2 mg-010"}),l.a.createElement("span",{className:"scheme sc2"})))))),l.a.createElement(v.d,{tags:"dd"},l.a.createElement("span",null,i.a.lang("trade.price.sizeTheme")),l.a.createElement("span",{className:"next-icon"},l.a.createElement("i",{className:"iconfont icon-dropDown arrowdown fs12"})),l.a.createElement(v.e,{className:"menu-grade3 ft-order-box"},[1,2,3].map(function(t,n){return l.a.createElement(v.d,{key:n},l.a.createElement("label",{className:"custom-label wp-100"},l.a.createElement("input",{className:"custom-radio",type:"radio",name:"sizeTheme",value:t,checked:t==d,onChange:e.onChangeSizeTheme.bind(e)}),l.a.createElement("span",{className:"custom-radioInput"}),l.a.createElement("span",null,i.a.lang("trade.price.sizeOption",t))))}))),l.a.createElement(v.d,{className:"ft-bd-t",tags:"dd"},l.a.createElement("label",{className:"custom-label wp-100"},l.a.createElement("input",{className:"custom-radio",type:"radio",name:"quickMktLmt",value:0,checked:0==E,onChange:this.onChangeQuickMktLmt.bind(this)}),l.a.createElement("span",{className:"custom-radioInput"}),l.a.createElement("span",null,i.a.lang("trade.price.marketTrade")))),l.a.createElement(v.d,{tags:"dd"},l.a.createElement("span",{className:"next-icon"},l.a.createElement("i",{className:"iconfont icon-dropDown arrowdown fs12"})),l.a.createElement("label",{className:"custom-label wp-100"},l.a.createElement("input",{className:"custom-radio",type:"radio",name:"quickMktLmt",value:1,checked:1==E,onChange:this.onChangeQuickMktLmt.bind(this)}),l.a.createElement("span",{className:"custom-radioInput"}),l.a.createElement("span",null,i.a.lang("trade.price.limitTrade"))),l.a.createElement(v.e,{className:"menu-grade3 ft-order-box"},l.a.createElement(v.d,{className:"ft-bd-b"},l.a.createElement("label",{className:"custom-checkbox wp-100"},l.a.createElement("div",null,l.a.createElement("input",{type:"checkbox",className:"input_check",checked:w,onChange:this.onChangePostOnlyExecInst.bind(this)}),l.a.createElement("i",null)),l.a.createElement("span",null,i.a.lang("trade.open.beidong")))),this.expireParams.map(function(t,n){return l.a.createElement(v.d,{key:n},l.a.createElement("label",{className:"custom-label wp-100"},l.a.createElement("input",{className:"custom-radio",type:"radio",name:"expireParam",value:t,checked:t==C,onChange:e.onChangeExpireParam.bind(e)}),l.a.createElement("span",{className:"custom-radioInput"}),l.a.createElement("span",null,0==t?"GTC":i.a.lang("trade.price.sec",t))))}),l.a.createElement(v.d,null,l.a.createElement("label",{className:"custom-label wp-100"},l.a.createElement("input",{className:"custom-radio",type:"radio",name:"expireParam",value:-1,checked:-1==C,onChange:this.onChangeExpireParam.bind(this)}),l.a.createElement("span",{className:"custom-radioInput"}),l.a.createElement("span",null,l.a.createElement(T.a,{className:"custom-input w-45",value:P,onChange:this.onChangeExpireParamInput.bind(this),step:1}),l.a.createElement("span",{className:"pdl-5"},i.a.lang("common.sec")))))))))),"depth"==t&&l.a.createElement(v.c,{className:"order-menu-setting dire-r lh-25",ref:this.setMenuRef.bind(this)},this.depthCountOptions.map(function(t,n){var a=1==t?i.a.lang(e.depthCountOptionsMap[t]):i.a.lang(e.depthCountOptionsMap[t],e.depthCounts[Number(t)-1]);return l.a.createElement(v.d,{key:n},l.a.createElement("label",{className:"custom-label wp-100"},l.a.createElement("input",{className:"custom-radio",type:"radio",name:"depthCount",value:t,checked:t==f,onChange:e.onChangeDepthCount.bind(e)}),l.a.createElement("span",{className:"custom-radioInput"}),l.a.createElement("span",null,a)))}),l.a.createElement(v.d,null,l.a.createElement("label",{className:"custom-checkbox wp-100"},l.a.createElement("div",null,l.a.createElement("input",{type:"checkbox",className:"input_check",checked:g,onChange:this.onChangeShowBg.bind(this)}),l.a.createElement("i",null)),l.a.createElement("span",null,i.a.lang("trade.depth.showBg")))),l.a.createElement(v.d,null,l.a.createElement("label",{className:"custom-checkbox wp-100"},l.a.createElement("div",null,l.a.createElement("input",{type:"checkbox",className:"input_check",checked:b,onChange:this.onChangeShowVolSum.bind(this)}),l.a.createElement("i",null)),l.a.createElement("span",null,i.a.lang("trade.depth.showVolSum")))),l.a.createElement(v.d,{className:"ft-bd-t"},l.a.createElement("label",{className:"custom-label"},l.a.createElement("input",{className:"custom-radio",type:"radio",name:"depthColumn",value:1,checked:1==h,onChange:this.onChangeDepthColumn.bind(this)}),l.a.createElement("span",{className:"custom-radioInput"}),l.a.createElement("span",null,i.a.lang("trade.depth.oneRow"))),l.a.createElement("label",{className:"custom-label pdl-10"},l.a.createElement("input",{className:"custom-radio",type:"radio",name:"depthColumn",value:2,checked:2==h,onChange:this.onChangeDepthColumn.bind(this)}),l.a.createElement("span",{className:"custom-radioInput"}),l.a.createElement("span",null,i.a.lang("trade.depth.twoRow"))))),"trade"==t&&l.a.createElement(v.c,{className:"order-menu-setting dire-r lh-25",ref:this.setMenuRef.bind(this)},this.tradeCounts.map(function(t,n){return l.a.createElement(v.d,{key:n},l.a.createElement("label",{className:"custom-label wp-100"},l.a.createElement("input",{className:"custom-radio",name:"tradeCount",type:"radio",value:t,checked:t==m,onChange:e.onChangeTradeCount.bind(e)}),l.a.createElement("span",{className:"custom-radioInput"}),l.a.createElement("span",null,i.a.lang("trade.depth.countOption",t))))})),"history"==t&&l.a.createElement(v.c,{className:"order-menu-setting dire-r lh-25",ref:this.setMenuRef.bind(this)},l.a.createElement(v.d,null,l.a.createElement("label",{className:"custom-label wp-100"},l.a.createElement("input",{className:"custom-radio",type:"radio",name:"Shared",checked:!S,onChange:this.onChangeShareValue.bind(this)}),l.a.createElement("span",{className:"custom-radioInput"}),l.a.createElement("span",null,i.a.lang("FuturesSeting.shared0")))),l.a.createElement(v.d,{className:"ft-bd-b"},l.a.createElement("label",{className:"custom-label wp-100"},l.a.createElement("input",{className:"custom-radio",type:"radio",name:"Shared",checked:S,onChange:this.onChangeShareValue.bind(this)}),l.a.createElement("span",{className:"custom-radioInput"}),l.a.createElement("span",null,i.a.lang("FuturesSeting.shared1")))),l.a.createElement(v.d,null,l.a.createElement("label",{className:"custom-checkbox wp-100"},l.a.createElement("div",null,l.a.createElement("input",{type:"checkbox",className:"input_check",checked:k,onChange:this.onChangeMergedValue.bind(this)}),l.a.createElement("i",null)),l.a.createElement("span",null,i.a.lang("FuturesSeting.merge"))))))}}]),t}(d.a),ae=function(e){function t(e){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.panelRef=function(e){n.panel=e},n.getPosition=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a={top:t,left:e};if(!n.panel)return a;var r=window,o=r.innerWidth,i=r.innerHeight,s=n.panel.getBoundingClientRect();return t+s.height>i&&(a.top-=s.height),e+s.width>o&&(a.left-=s.width),a.top<0&&(a.top=s.height<i?(i-s.height)/2:0),a.left<0&&(a.left=s.width<o?(o-s.width)/2:0),a},n.state={},n}return o(t,e),W(t,[{key:"componentDidMount",value:function(){var e=this.panel.parentNode;e.style.position="absolute",e.style.visibility="hidden",e.style.top="-1000px",e.style.left="-1000px";var t,n;if(this.props.hasOwnProperty("x")&&this.props.hasOwnProperty("y"))t=this.props.x,n=this.props.y;else{var a=this.panel.getBoundingClientRect();t=(H(window).width()-a.width)/2,n=(H(window).height()-a.height)/2}var r=this.getPosition(t,n),o=r.top,i=r.left;e.style.top=o+"px",e.style.left=i+"px",e.style.visibility="visible"}},{key:"onConfirm",value:function(e,t){e.preventDefault(),e.stopPropagation(),this.props.onConfirm(t),b.a.closeByDomID("order-preview")}},{key:"getText",value:function(e){var t=this.props.action;return"open"==t?{title:i.a.lang("trade.preview.order"),head:i.a.lang("trade.order"),confirmTxt:i.a.lang("trade.preview.submit")}:"close"==t?{title:i.a.lang(3==e.tab?"trade.preview.cancelOrder":"trade.preview.closePosition"),head:i.a.lang(3==e.tab?"futures.hist_nav3":"futures.hist_nav2"),confirmTxt:i.a.lang(3==e.tab?"trade.preview.cancelOrder":"trade.preview.closePosition")}:"setting"==t?{title:i.a.lang("trade.setting.edit"),head:i.a.lang("trade.setting"),confirmTxt:i.a.lang("common.confirm")}:void 0}},{key:"parseData",value:function(e){var t=this.props.action;return"open"==t?this.openOrder(e):"close"==t?this.closeOrder(e):"setting"==t?this.saveSetting(e):void 0}},{key:"closeOrder",value:function(e){var t=this,n=[],a=e.data;if(a&&a.ID){var r=a;n.push(this.getOrderDesc(r))}else n=a.map(function(e){return t.getOrderDesc(e)});return n}},{key:"getOrderDesc",value:function(e){return i.a.lang("trade.order.preview_close",e.ID,e.SideTxt,e.Volume)}},{key:"openOrder",value:function(e){return p.a.parseOrderToText(e)}},{key:"saveSetting",value:function(e){var t=[];return e.hasOwnProperty("msg")&&t.push(i.a.lang(e.msg)),t}},{key:"render",value:function(){var e=this,t=this.props,n=t.product,a=t.action,r=t.data,o=p.a.getSkin(),s=this.getText(r),c=s.title,u=s.head,d=s.confirmTxt,h=this.parseData(r);return l.a.createElement("section",{className:"ft-trade-panel shadow-w futures-bg-"+o,id:"order-preview",ref:this.panelRef},l.a.createElement("header",{className:"dialog-head tc lh-25"},l.a.createElement("h3",{className:"ft-dialog-head fem875 tb"},l.a.createElement("span",null,c)),l.a.createElement("i",{className:"iconfont icon-close transit fs14",onClick:function(t){return e.onConfirm(t,!1)}})),l.a.createElement("div",{className:"ft-order-box pd010 fs11 pdb-10 border-none"},l.a.createElement("div",{className:"ft-order-market pdt-1"},"setting"!=a&&l.a.createElement("div",null,l.a.createElement(Y,{product:n,isExpert:!0}),l.a.createElement("div",{className:"pos-r"},l.a.createElement(G,{product:n,disable:!0}))),"setting"!=a&&l.a.createElement("div",{className:"ft-order-preview mt-10",style:{width:"276px"}},l.a.createElement("h3",null,u),h&&h.map(function(e,t){return l.a.createElement("p",{key:t},e)})),"setting"==a&&l.a.createElement("div",{className:"ft-order-preview mt-10",style:{width:"276px",border:"0px"}},h&&h.map(function(e,t){return l.a.createElement("p",{key:t},e)})),l.a.createElement("div",{className:"limit-btn-box flex-box flex-jc mt-15"},l.a.createElement("button",{className:"btn btn-submit w-140",onClick:function(t){return e.onConfirm(t,!0)}},d),l.a.createElement("button",{className:"btn btn-cancel w-140",onClick:function(t){return e.onConfirm(t,!1)}},i.a.lang("common.cancel"))))))}}]),t}(d.a),re=function(e){function t(e){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.panelRef=function(e){n.panel=e},n.getPosition=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a={top:t,left:e};if(!n.panel)return a;var r=window,o=r.innerWidth,i=r.innerHeight,s=n.panel.getBoundingClientRect();return t+s.height>i&&(a.top-=s.height),e+s.width>o&&(a.left-=s.width),a.top<0&&(a.top=s.height<i?(i-s.height)/2:0),a.left<0&&(a.left=s.width<o?(o-s.width)/2:0),a},n.state={},n}return o(t,e),W(t,[{key:"onConfirm",value:function(e,t){e.preventDefault(),e.stopPropagation(),this.props.onConfirm(e,t),b.a.closeByDomID("order-warning")}},{key:"componentDidMount",value:function(){var e=this.panel.parentNode;e.style.position="absolute",e.style.visibility="hidden",e.style.top="-1000px",e.style.left="-1000px";var t,n;if(this.props.hasOwnProperty("x")&&this.props.hasOwnProperty("y"))t=this.props.x,n=this.props.y;else{var a=this.panel.getBoundingClientRect();t=(H(window).width()-a.width)/2,n=(H(window).height()-a.height)/2}var r=this.getPosition(t,n),o=r.top,i=r.left;e.style.top=o+"px",e.style.left=i+"px",e.style.visibility="visible"}},{key:"render",value:function(){var e=this,t=this.props,n=t.msg,a=t.confirm,r=t.cancel,o=p.a.getSkin();return l.a.createElement("section",{className:"ft-trade-panel shadow-w futures-bg-"+o,id:"order-warning",ref:this.panelRef},l.a.createElement("header",{className:"dialog-head tc lh-25"},l.a.createElement("h3",{className:"ft-dialog-head fem875 tb"},l.a.createElement("span",null,i.a.lang("Recharge.note"))),l.a.createElement("i",{className:"iconfont icon-close transit fs14",onClick:function(t){return e.onConfirm(t,!1)}})),l.a.createElement("div",{className:"ft-order-box pd010 fs11 pdb-10 border-none"},l.a.createElement("div",{className:"ft-order-market pdt-1"},l.a.createElement("div",{className:"ft-order-preview mt-10 tc"},l.a.createElement("strong",{className:"red3 fem125"},i.a.lang("trade.warning"))),l.a.createElement("div",{className:"ft-order-preview mt-10"},l.a.createElement("h3",null,i.a.lang("trade.detail")),l.a.createElement("p",null,i.a.lang(n))),l.a.createElement("div",{className:"limit-btn-box flex-box flex-jc mt-15"},l.a.createElement("button",{className:"btn btn-submit w-140 mr-20",onClick:function(t){return e.onConfirm(t,!0)}},i.a.lang(a)),l.a.createElement("button",{className:"btn btn-cancel w-140",onClick:function(t){return e.onConfirm(t,!1)}},i.a.lang(r))))))}}]),t}(d.a)}).call(t,n(13))},175:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(2),s=n(0),l=n.n(s),c=n(24),u=n(156),d=n(19),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),h=function(e){function t(e){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),o=n.props.code;return n.state={type:o?d.a.getType(o):0},n}return o(t,e),p(t,[{key:"componentWillReceiveProps",value:function(e){this.props.code!=e.code&&this.changeType(d.a.getType(e.code))}},{key:"selectCode",value:function(e,t){d.a.btnSelectCode(e,t),this.props.onChange&&this.props.onChange(e)}},{key:"changeType",value:function(e,t){t&&t.stopPropagation(),this.state.type!=e&&this.setState({type:e})}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,a=t.productList,r=t.headHide,o=this.state.type,s=d.a.getTypeList();return l.a.createElement("div",{className:n},o?l.a.createElement("ul",{className:"product-menu-bg"},!r&&l.a.createElement("li",{className:"drop-menu-header tl"},s&&s.map(function(t,n){return l.a.createElement("a",{href:"javascript:;",key:n,className:t.Code==o?"current":"",onClick:function(n){return e.changeType(t.Code,n)}},t.Name?t.Name:t.LangKey?i.a.lang(t.LangKey):"")})),l.a.createElement("li",{className:"drop-menu-conten"},l.a.createElement("span",null,i.a.lang("ProductList.100")),l.a.createElement("span",null,i.a.lang("TradeHistory.105")),l.a.createElement("span",null,"24h "+i.a.lang("ProductList.wave")),l.a.createElement("span",null,i.a.lang("HomeKlineBox.105"))),a.map(function(t,n){var a=t[0]?t[0]:t;if(!a.Closed||"1"!=a.Closed)return a.Type==o?l.a.createElement(u.a,{inMenu:!0,data:a,onSelect:e.selectCode.bind(e),key:"plim"+n}):void 0})):l.a.createElement("ul",{className:"product-menu-bg"}))}}]),t}(c.a);t.a=h},187:function(e,t,n){"use strict";function a(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}function r(e,t,n){if(!t)return e;var a=y(t),r=void 0;try{r=a.reduce(function(e,t){return e[t]},e)}catch(e){}return"undefined"!==typeof r?r:n}function o(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=arguments[2],a=y(t),r=void 0,o=e;(r=a.shift())&&a.length;)o[r]||(o[r]={}),o=o[r];return o[r]=n,e}function i(e,t){var n=t>e.length?0:e.length-t;return e.slice(n)}function s(e){return e[e.length-1]}function l(e){for(var t=[],n=0;n<e;n+=1)t.push(e);return t}function c(e,t,n,a){return e.sort(function(e,r){for(var o=0;o<t.length;o+=1){var i=t[o],s=!1===n[o]||"desc"===n[o],l=i(e,r);if(l)return s?-l:l}return n[0]?e[a]-r[a]:r[a]-e[a]})}function u(e,t){return e.filter(function(n,a){return!!t(n)&&(e.splice(a,1),!0)})}function d(e){try{return JSON.parse(JSON.stringify(e,function(e,t){return"function"===typeof t?t.toString():t}))}catch(t){return e}}function p(){for(var e=0;e<arguments.length;e+=1)if("undefined"!==typeof(arguments.length<=e?void 0:arguments[e]))return arguments.length<=e?void 0:arguments[e]}function h(e){return e.reduce(function(e,t){return e+t},0)}function f(e,t){if(!t)throw new Error("No displayName found for template component:",e);var n=function(t){var n=t.children,r=t.className,o=a(t,["children","className"]);return k.a.createElement("div",Object.assign({className:D()(e,r)},o),n)};return n.displayName=t,n}function m(e,t){return e.reduce(function(e,n,a){var r="function"===typeof t?t(n,a):n[t];return e[r]=v(e[r])?e[r]:[],e[r].push(n),e},{})}function g(e){return e=Number(e),Number.isNaN(e)?null:e+"px"}function v(e){return Array.isArray(e)}function y(e){return b(e).join(".").replace(/\[/g,".").replace(/\]/g,"").split(".")}function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(v(e))for(var n=0;n<e.length;n+=1)b(e[n],t);else t.push(e);return t}function E(e){return{className:e.className,style:e.style,rest:a(e,["className","style"])||{}}}function w(e){var t={};return e&&Object.keys(e).map(function(n){return Object.prototype.hasOwnProperty.call(e,n)&&void 0!==e[n]&&"undefined"!==typeof e[n]&&(t[n]=e[n]),!0}),t}function C(e){return!("desc"!==e.sort&&!0!==e.desc&&!1!==e.asc)}function P(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;return"function"===typeof e?Object.getPrototypeOf(e).isReactComponent?k.a.createElement(e,t):e(t):n}var S=n(0),k=n.n(S),T=n(125),D=n.n(T);t.a={get:r,set:o,takeRight:i,last:s,orderBy:c,range:l,remove:u,clone:d,getFirstDefined:p,sum:h,makeTemplateComponent:f,groupBy:m,isArray:v,splitProps:E,compactObject:w,isSortingDesc:C,normalizeComponent:P,asPx:g}},210:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(2),s=n(0),l=n.n(s),c=n(25),u=n(24),d=(n(211),n(12)),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),h=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),p(t,[{key:"sayHello",value:function(){var e=(new Date).getHours();return e<6?i.a.lang("LoginBox.101"):e<9?i.a.lang("LoginBox.102"):e<12?i.a.lang("LoginBox.103"):e<14?i.a.lang("LoginBox.104"):e<17?i.a.lang("LoginBox.105"):e<19?i.a.lang("LoginBox.106"):e<24?i.a.lang("LoginBox.107"):void 0}},{key:"logout",value:function(e){e.preventDefault(),d.a.logout()}},{key:"render",value:function(){var e,t=this.props,n=t.user,a=t.uInfo,r=t.isExpert,o=n&&n.Uid,s=this.sayHello()+(a.Email||" "),u=window.location.pathname;-1!=u.indexOf("/trade")&&(e=u);var d={pathname:"/login",query:e?{return_to:e}:{}};return o?r?l.a.createElement("div",{className:"login-box f-clear"},l.a.createElement("div",{className:"fl fs12 pd010"},l.a.createElement(c.Link,{to:"/personal",className:"greenToWarn"},s)),l.a.createElement("div",{className:"login-bar fl"},l.a.createElement("a",{href:"javascript:;",className:"pd010 c-8",onClick:this.logout},i.a.lang("header.1_2")))):l.a.createElement("div",{className:"fr login-bar"},l.a.createElement(c.Link,{to:"/personal",className:"pd010 login-user"},s),l.a.createElement("a",{href:"javascript:;",className:"pd010",onClick:this.logout},i.a.lang("header.1_2"))):l.a.createElement("div",{className:r?"login-box f-clear":null},l.a.createElement("div",{className:"fr login-bar"},l.a.createElement(c.Link,{to:d,className:"pd010"},i.a.lang("LoginBox.100")),l.a.createElement(c.Link,{to:"/register",className:"pd010"},i.a.lang("header.1_10"))))}}]),t}(u.a);t.a=h},211:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(2),s=n(0),l=n.n(s),c=n(24),u=n(27),d=n(19),p=n(15),h=n(16),f=n(3),m=n(5),g=n(136),v=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();!function(e){function t(e){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={code:d.a.getCurrCode(),walletMap:u.a.getWalletInfo(),walletTotal:u.a.getWalletTotal()},n}o(t,e),v(t,[{key:"componentWillMount",value:function(){f.a.addListener(f.a.EventName.PRODUCT_SELECT,this.onSelectProduct.bind(this),this),f.a.addListener(f.a.EventName.WALLET_UPDATE,this.onUpdateWallet.bind(this),this),f.a.addListener(f.a.EventName.WALLET_TOTAL_UPDATE,this.onUpdateWallet.bind(this),this),f.a.addListener(f.a.EventName.PRICE_UPDATE,this.onUpdateWalletTotal.bind(this),this)}},{key:"onUpdateWallet",value:function(){this.setState({walletMap:u.a.getWalletInfo(),walletTotal:u.a.getWalletTotal()})}},{key:"onUpdateWalletTotal",value:function(){this.setState({walletTotal:u.a.getWalletTotal()})}},{key:"onSelectProduct",value:function(e){this.state.code!=e&&this.setState({code:e})}},{key:"redirectPay",value:function(e){u.a.redirectPay(parseInt(e))}},{key:"setMenuRef",value:function(e){this.menuRef=e}},{key:"render",value:function(){var e,t,n,a=this,r=this.props,o=r.isExpert,s=(r.uInfo,r.loginTip),c=this.state,f=(c.walletMap,c.walletTotal),v=c.code,y=(u.a.walletCurrencys,{});if(v){var b=d.a.getProduct(v);if(b){e=b.toCode;var E=h.a.CURRENCY[e];E&&(t=Object(m.c)(E),n=f[E])}}return l.a.createElement("div",{className:"drop-menu drop-menu-right assets-box"},l.a.createElement(g.b,{trigger:"click",menuRef:function(){return a.menuRef},ref:function(e){return a.dropDownRef=e}},!o&&l.a.createElement("span",null,i.a.lang("tradeHistory.2_91")+(y.sb||"")+p.a.formatAmount(0,2)," \xa0",l.a.createElement("i",{className:"iconfont icon-xiala"})),o&&l.a.createElement("span",null,s," \xa0",l.a.createElement("i",{className:"iconfont icon-xiala"}))),l.a.createElement(g.a,{ref:this.setMenuRef.bind(this),pnRef:function(){return a.dropDownRef}},l.a.createElement("ul",{className:"drop-menu-children drop-menu-children-box drop-item-style2"},l.a.createElement("li",{className:"assets-info f-clear"},l.a.createElement("div",{className:"fl"},l.a.createElement("i",{className:"iconfont icon-assets assets-icon"}),l.a.createElement("div",{className:"assets-div"},l.a.createElement("h5",null,i.a.lang("UserWallet.100")),l.a.createElement("b",null,t?t.sb+p.a.formatAmount(n.AA,4):"--"))),l.a.createElement("div",{className:"fl"},l.a.createElement("i",{className:"iconfont icon-net-assets assets-icon"}),l.a.createElement("div",{className:"assets-div"},l.a.createElement("h5",null,i.a.lang("UserWallet.101")),l.a.createElement("b",null,t?t.sb+p.a.formatAmount(n.TA,4):"--")))))))}}])}(c.a)},225:function(e,t,n){"use strict";function a(e){for(var t=0,n=void 0,a=0,r=e.length;a<r;a++)(n=e[a].y+e[a].h)>t&&(t=n);return t}function r(e){for(var t=Array(e.length),n=0,a=e.length;n<a;n++)t[n]=o(e[n]);return t}function o(e){return{w:e.w,h:e.h,x:e.x,y:e.y,i:e.i,minW:e.minW,maxW:e.maxW,minH:e.minH,maxH:e.maxH,moved:Boolean(e.moved),static:Boolean(e.static),isDraggable:e.isDraggable,isResizable:e.isResizable}}function i(e,t){return x()(N.a.Children.map(e,function(e){return e.key}),N.a.Children.map(t,function(e){return e.key}))}function s(e,t){return e!==t&&(!(e.x+e.w<=t.x)&&(!(e.x>=t.x+t.w)&&(!(e.y+e.h<=t.y)&&!(e.y>=t.y+t.h))))}function l(e,t,n){for(var a=m(e),r=w(e,t),i=Array(e.length),s=0,l=r.length;s<l;s++){var c=o(r[s]);c.static||(c=u(a,c,t,n,r),a.push(c)),i[e.indexOf(r[s])]=c,c.moved=!1}return i}function c(e,t,n,a){var r=R[a];t[a]+=1;for(var o=e.map(function(e){return e.i}).indexOf(t.i),i=o+1;i<e.length;i++){var l=e[i];if(!l.static){if(l.y>t.y+t.h)break;s(t,l)&&c(e,l,n+t[r],a)}}t[a]=n}function u(e,t,n,r,o){var i="vertical"===n,s="horizontal"===n;if(i)for(t.y=Math.min(a(e),t.y);t.y>0&&!h(e,t);)t.y--;else if(s)for(t.y=Math.min(a(e),t.y);t.x>0&&!h(e,t);)t.x--;for(var l=void 0;l=h(e,t);)s?c(o,t,l.x+l.w,"x"):c(o,t,l.y+l.h,"y"),s&&t.x+t.w>r&&(t.x=r-t.w,t.y++);return t}function d(e,t){for(var n=m(e),a=0,r=e.length;a<r;a++){var o=e[a];if(o.x+o.w>t.cols&&(o.x=t.cols-o.w),o.x<0&&(o.x=0,o.w=t.cols),o.static)for(;h(n,o);)o.y++;else n.push(o)}return e}function p(e,t){for(var n=0,a=e.length;n<a;n++)if(e[n].i===t)return e[n]}function h(e,t){for(var n=0,a=e.length;n<a;n++)if(s(e[n],t))return e[n]}function f(e,t){return e.filter(function(e){return s(e,t)})}function m(e){return e.filter(function(e){return e.static})}function g(e,t,n,a,r,o,i,s){if(t.static)return e;if(t.y===a&&t.x===n)return e;D("Moving element "+t.i+" to ["+String(n)+","+String(a)+"] from ["+t.x+","+t.y+"]");var l=t.x,c=t.y;"number"===typeof n&&(t.x=n),"number"===typeof a&&(t.y=a),t.moved=!0;var u=w(e,i);("vertical"===i&&"number"===typeof a?c>=a:"horizontal"===i&&"number"===typeof n&&l>=n)&&(u=u.reverse());var d=f(u,t);if(o&&d.length)return D("Collision prevented on "+t.i+", reverting."),t.x=l,t.y=c,t.moved=!1,e;for(var p=0,h=d.length;p<h;p++){var m=d[p];D("Resolving collision between "+t.i+" at ["+t.x+","+t.y+"] and "+m.i+" at ["+m.x+","+m.y+"]"),m.moved||(e=m.static?v(e,m,t,r,i,s):v(e,t,m,r,i,s))}return e}function v(e,t,n,a,r,o){var i="horizontal"===r,s="horizontal"!==r;if(a){a=!1;var l={x:i?Math.max(t.x-n.w,0):n.x,y:s?Math.max(t.y-n.h,0):n.y,w:n.w,h:n.h,i:"-1"};if(!h(e,l))return D("Doing reverse collision on "+n.i+" up to ["+l.x+","+l.y+"]."),g(e,n,i?l.x:void 0,s?l.y:void 0,a,!1,r,o)}return g(e,n,i?n.x+1:void 0,s?n.y+1:void 0,a,!1,r,o)}function y(e){return 100*e+"%"}function b(e){var t=e.top,n=e.left,a=e.width,r=e.height;return{width:a+"px",height:r+"px",position:"absolute",left:n,top:t}}function E(e){return{top:e.top+"px",left:e.left+"px",width:e.width+"px",height:e.height+"px",position:"absolute"}}function w(e,t){return"horizontal"===t?P(e):C(e)}function C(e){return[].concat(e).sort(function(e,t){return e.y>t.y||e.y===t.y&&e.x>t.x?1:e.y===t.y&&e.x===t.x?0:-1})}function P(e){return[].concat(e).sort(function(e,t){return e.x>t.x||e.x===t.x&&e.y>t.y?1:-1})}function S(e,t,n,r){e=e||[];var i=[];return N.a.Children.forEach(t,function(t,n){var r=p(e,String(t.key));if(r)i[n]=o(r);else{!_&&t.props._grid&&console.warn("`_grid` properties on children have been deprecated as of React 15.2. Please use `data-grid` or add your properties directly to the `layout`.");var s=t.props["data-grid"]||t.props._grid;s?(_||k([s],"ReactGridLayout.children"),i[n]=o(Object.assign({},s,{i:t.key}))):i[n]=o({w:1,h:1,x:0,y:a(i),i:String(t.key)})}}),i=d(i,{cols:n}),i=l(i,r,n)}function k(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Layout",n=["x","y","w","h"];if(!Array.isArray(e))throw new Error(t+" must be an array!");for(var a=0,r=e.length;a<r;a++){for(var o=e[a],i=0;i<n.length;i++)if("number"!==typeof o[n[i]])throw new Error("ReactGridLayout: "+t+"["+a+"]."+n[i]+" must be a number!");if(o.i&&"string"!==typeof o.i)throw new Error("ReactGridLayout: "+t+"["+a+"].i must be a string!");if(void 0!==o.static&&"boolean"!==typeof o.static)throw new Error("ReactGridLayout: "+t+"["+a+"].static must be a boolean!")}}function T(e,t){t.forEach(function(t){return e[t]=e[t].bind(e)})}function D(){var e;M&&(e=console).log.apply(e,arguments)}t.b=a,t.d=r,t.e=o,t.c=i,t.f=l,t.h=p,t.g=h,t.i=g,t.k=y,t.m=b,t.l=E,t.n=S,t.o=k,t.a=T,n.d(t,"j",function(){return I});var A=n(322),x=n.n(A),O=n(0),N=n.n(O),_=!0,M=!1,R={x:"w",y:"h"},I=function(){}},226:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(2),s=n(0),l=n.n(s),c=n(24),u=n(227),d=n(29),p=n(12),h=n(19),f=n(26),m=n(3),g=n(164),v=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),y=function e(t,n,a){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,a)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(a)},b=function(e){function t(e){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.changeType=function(e){n.state.type!=e&&(n.setState({type:e}),u.a.switch(n.props.code,e))},n.isMobile=window.isMobile,n.klineTypeKey="klType",n.klineModeKey="klMode",n.typeArr=["1MIN","3MIN","5MIN","15MIN","30MIN","1HOUR","2HOUR","3HOUR","4HOUR","6HOUR","12HOUR","1DAY","3DAY","1WEEK","2WEEK"],n.modeArr=["BID","ASK","LAST"],n.state={type:p.a.loadPreference(n.klineTypeKey,n.typeArr[2]),mode:p.a.loadPreference(n.klineModeKey,n.modeArr[2])},n}return o(t,e),v(t,[{key:"componentDidMount",value:function(){this.lang=i.a.getChartLang(),this.initChartModel(this.props)}},{key:"onElementEvent",value:function(e){if(e.data.eventType)switch(e.data.eventType){case"Purchase":this.showTradePanel("buy",e.data.value);break;case"SellOut":this.showTradePanel("sell",e.data.value)}}},{key:"createContextMenu",value:function(e){var t=this.props.code;h.a.isFut(t)?e.onChartReady(function(){return e._innerAPI().showTraderContextMenu(!0)}):e.onChartReady(function(){return e._innerAPI().showTraderContextMenu(!1)})}},{key:"componentDidUpdate",value:function(){var e=i.a.getChartLang();this.lang!=e&&(u.a.setLanguage(e),this.lang=e)}},{key:"initChartModel",value:function(e){var t=this;e.code&&(u.a.init(e.code,h.a.isFut(this.props.code)?this.state.mode:"BID",this.state.type,this.props.theme||"",this.onChartSwitch.bind(this)),this.isMobile||(window.addEventListener("message",this.onElementEvent.bind(this)),u.a.createContextMenu().then(function(e){return t.createContextMenu(e)}),m.a.addListener(m.a.EventName.PRICE_UPDATE,this.onUpdatePrice.bind(this),this),this.onUpdatePrice(d.a.getPrices())))}},{key:"onChartSwitch",value:function(e,t,n){t&&p.a.savePreference(this.klineTypeKey,t),n&&p.a.savePreference(this.klineModeKey,n)}},{key:"componentWillUnmount",value:function(){f.a.closeAll(),u.a.destroy(),window.removeEventListener("message",this.onElementEvent),y(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentWillUnmount",this).call(this)}},{key:"componentWillReceiveProps",value:function(e){this.props.code!=e.code&&(this.props.code?(h.a.isFut(e.code)&&u.a.switchMode(e.code,this.state.mode),u.a.switch(e.code,this.state.type)):this.initChartModel(e)),this.props.theme!=e.theme&&u.a.setTheme(e.theme)}},{key:"changeLegend",value:function(e){u.a.changeLegend(e)}},{key:"onChangeMode",value:function(e){e.preventDefault(),e.stopPropagation();var t=e.target.value;this.state.mode!=t&&(this.setState({mode:t}),u.a.switchMode(this.props.code,t))}},{key:"onUpdatePrice",value:function(e){var t=this.props.code;t&&h.a.isFut(t)&&e[t]&&u.a.setFloatTradeData(e[t])}},{key:"showTradePanel",value:function(e,t){var n=this;f.a.closeByDomID("order_new");var a=this.props.code;if(h.a.isFut(a)){var r=d.a.getProduct(a),o=r&&r.length?r[0]:{},i=d.a.getSkin();f.a.open(l.a.createElement("section",{className:"ft-trade-panel shadow-w futures-bg-"+i,id:"order_new",style:{width:320}},l.a.createElement("header",{className:"dialog-head tc lh-25"},l.a.createElement("h3",{className:"ft-dialog-head fem875 tb"},l.a.createElement("span",null)," ",l.a.createElement("span",null)),l.a.createElement("i",{className:"iconfont icon-close transit fem875",onClick:function(e){return n.hiddenTradePanel(e)}})),l.a.createElement("div",{className:"ft-order-box pd010 fem75 pdb-10 border-none"},l.a.createElement(g.f,{className:"ft-order-market pdt-1",product:o,isExpert:!0,expandKey:"",onChange:function(e,t){n.dragEndChange(e,t)},tradingType:e,showFloatToolbar:function(){return n.hiddenTradePanel()}}))),"order_new",!1)}}},{key:"hiddenTradePanel",value:function(){f.a.closeByDomID("order_new")}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.style,a=e.code,r=(this.state.mode,!a||h.a.isFut(a));return l.a.createElement("div",{className:r?"wp-100 pos-r":"KlineDiv",style:r?{height:"100%"}:n},l.a.createElement("div",{id:"tv_chart_container",className:t,style:r?n:{height:"100%"}}),l.a.createElement("div",{className:"pos-a hide",style:{width:"100%",height:"100%",backgroundColor:"#fff",opacity:"0",top:"0px",left:"0px"},id:"klineMask"}))}}]),t}(c.a);t.a=b},227:function(e,t,n){"use strict";(function(e){var a=n(28),r=n.n(a),o=n(8),i=n(6),s=n(19),l=n(2),c=n(20),u=n(551),d=n.n(u),p=n(552),h=(n.n(p),n(12)),f=n(1),m=e;t.a={dataCache:{},isInitDraw:!1,isFullScreen:!1,isMobile:Object(i.h)(),studyMap:{},freeStudy:{Volume:1,"MA Cross":1},isFut:!0,periodToTV:{"1MIN":"1","3MIN":"3","5MIN":"5","15MIN":"15","30MIN":"30","1HOUR":"60","2HOUR":"120","3HOUR":"180","4HOUR":"240","6HOUR":"360","12HOUR":"720","1DAY":"1D","3DAY":"3D","1WEEK":"1W","2WEEK":"2W"},periodMsecMap:{},tvToTypeMap:{},realLastBarTime:{},tickerBars:{},getBarTimer:0,chartReadyTimer:null,positionTimer:null,arrowList:{},supported_resolutions:[],posLines:{},buttonArr:[],modeArr:["BID","ASK","LAST"],floatTradeData:"",subscribeBarsData:null,init:function(e,t,n,a,r){var c=e||s.a.getCurrCode(),n=n=n||"5MIN";if(this.isFut=s.a.isFut(e),this.subscribe=this.subscribe.bind(this),this.widget&&this.symbol&&this.period)return this.symbol===c&&this.period===n||(this.onChangeOptions(c,n),this.subscribe()),this.cssTheme!==a&&(this.options=this.getOverrides(this.options,a),this.widget._options.custom_css_url=this.options.custom_css_url,this.widget._options.overrides=this.options.overrides,this.widget._options.toolbar_bg=this.options.toolbar_bg,this.widget._options.studies_overrides=this.options.studies_overrides,this.widget._options.skin_theme=a+"-theme",this.cssTheme=a),this.widget._create(),this.initChartReady(!0),void(this.floatTradeData&&(this.floatTradeData=""));if(-1!=document.domain.indexOf(".")){var u=document.domain.split("."),h=u.length;document.domain=h>2?u[h-2]+"."+u[h-1]:u.join(".")}this.symbol=c,this.period=n,this.mode=t,this.isInitDraw=!1,this.switchCallback=r;var f=[];for(var m in this.periodToTV)f.push({text:m.replace("MIN","m"),resolution:this.periodToTV[m]}),this.tvToTypeMap[this.periodToTV[m]]=m,this.supported_resolutions.push(this.periodToTV[m]);this.dataFeed=new d.a.UDFCompatibleDatafeed(this);var g={autosize:!0,symbol:this.symbol,interval:this.periodToTV[this.period],container_id:"tv_chart_container",datafeed:this.dataFeed,library_path:"https://res1.tdex.com/charting_library/",drawings_access:{type:"black",tools:[{name:"Regression Trend"}]},disabled_features:["header_symbol_search","symbol_info","link_to_tradingview","header_compare","header_screenshot","use_localstorage_for_settings","save_chart_properties_to_local_storage","header_chart_type","display_market_status","symbol_search_hot_key","compare_symbol","border_around_the_chart","remove_library_container_border","symbol_info","header_interval_dialog_button","show_interval_dialog_on_key_press","timeframes_toolbar","header_fullscreen_button","volume_force_overlay"],enabled_features:["dont_show_boolean_study_arguments","hide_last_na_study_output"],numeric_formatting:{decimal_sign:"."},timezone:"Asia/Shanghai",locale:l.a.getChartLang(),custom_css_url:"bundles/skin-theme.css",auto_save_delay:!0,create_volume_indicator_by_default:!0,time_frames:f,overrides:{volumePaneSize:"medium","paneProperties.rightMargin":10,"timeScale.rightOffset":10,"paneProperties.background":"#262626","paneProperties.vertGridProperties.color":"#3C3C3C","paneProperties.horzGridProperties.color":"#3C3C3C","paneProperties.crossHairProperties.color":"#626c73","scalesProperties.backgroundColor":"#262626","scalesProperties.lineColor":"#555","scalesProperties.textColor":"#999","symbolWatermarkProperties.color":"rgba(0, 0, 0, 0)","mainSeriesProperties.style":1,"mainSeriesProperties.candleStyle.upColor":"#6A833A","mainSeriesProperties.candleStyle.downColor":"#8A3A3B","mainSeriesProperties.candleStyle.drawWick":!0,"mainSeriesProperties.candleStyle.drawBorder":!0,"mainSeriesProperties.candleStyle.borderColor":"#C400CB","mainSeriesProperties.candleStyle.borderUpColor":"#6A833A","mainSeriesProperties.candleStyle.borderDownColor":"#8A3A3B","mainSeriesProperties.candleStyle.wickUpColor":"#6A833A","mainSeriesProperties.candleStyle.wickDownColor":"#8A3A3B","study_Overlay@tv-basicstudies.barStyle.upColor":"blue","study_Overlay@tv-basicstudies.barStyle.downColor":"blue","study_Overlay@tv-basicstudies.lineStyle.color":"blue","study_Overlay@tv-basicstudies.areaStyle.color1":"blue","study_Overlay@tv-basicstudies.areaStyle.color2":"blue","study_Overlay@tv-basicstudies.areaStyle.linecolor":"blue","MA Cross@tv-basicstudies-1.lineStyle.linewidth":4},studies_overrides:{"volume.volume.color.0":"#8A3A3B","volume.volume.color.1":"#6A833A","volume.volume.transparency":100,"MA Cross.short:plot.color":"#f103f2","MA Cross.long:plot.color":"#fcc101","MA Cross.crosses:plot.color":"#f00","MA Cross.crosses:plot.linewidth":0,"MA Cross.short:plot.linewidth":1.5,"MA Cross.long:plot.linewidth":1.5},debug:!1,skin_theme:a+"-theme"};g=this.getOverrides(g,a),this.isMobile&&(g=this.mobileOption(g,a));var v=new p.widget(g);this.widget=v,this.cssTheme=a,this.options=g,this.initChartReady(!0),this.floatTradeData&&(this.floatTradeData=""),Object(i.g)(this.dataCache)&&(o.a.on("kline",this.onUpdateData.bind(this)),this.subscribe()),this.studyMap=Object(i.e)("TVStudy",!0)||this.freeStudy},mobileOption:function(e,t){return e.preset="mobile",e.overrides["paneProperties.legendProperties.showLegend"]=!1,e.studies_overrides["MA Cross.short:plot.linewidth"]=3,e.studies_overrides["MA Cross.long:plot.linewidth"]=3,e.studies_overrides["MACD.MACD.linewidth"]=3,e.studies_overrides["MACD.Signal.linewidth"]=3,e},createContextMenu:function(e){var t=this;if(this.widget)return new Promise(function(e,n){e(t.widget)})},createStudy:function(){try{var e=Object(i.e)("TVStudy",!0);if(!e||!this.checkIsReady())return!1;this.widget.chart().createStudy("MA Cross",!1,!1,[30,120]),e.MACD&&this.widget.chart().createStudy("MACD",!1,!1,[14,30,"close",9],null,{"Histogram.color":"rgb(253,0,102)","MACD.color":"rgb(32,139,251)","Signal.color":"rgb(252,96,30)"}),e["Moving Average Exponential"]&&this.widget.chart().createStudy("Moving Average Exponential",!1,!1,[26]),e.Stochastic&&this.widget.chart().createStudy("Stochastic",!1,!1,[26],null,{"%d.color":"#FF0000"}),e["Moving Average"]&&this.widget.chart().createStudy("Moving Average",!1,!1,[26],null,{"Plot.linewidth":1})}catch(e){console.log(e)}},initChartReady:function(e){var t=this;if(this.isMobile)return this.widget.onChartReady(function(){t.isBtnsInited()||t.createStudy()}),!1;e&&(this.buttonArr=[{value:"1",text:"1M",key:"1MIN",save:!0},{value:"3",text:"3M",key:"3MIN",save:!1},{value:"5",text:"5M",key:"5MIN",save:!0},{value:"15",text:"15M",key:"15MIN",save:!0},{value:"30",text:"30M",key:"30MIN",save:!1},{value:"60",text:"1H",key:"1HOUR",save:!0},{value:"120",text:"2H",key:"2HOUR",save:!1},{value:"180",text:"3H",key:"3HOUR",save:!1},{value:"240",text:"4H",key:"4HOUR",save:!1},{value:"360",text:"6H",key:"6HOUR",save:!0},{value:"720",text:"12H",key:"12HOUR",save:!1},{value:"1D",text:"1D",key:"1DAY",save:!0},{value:"3D",text:"3D",key:"3DAY",save:!1},{value:"1W",text:"1W",key:"1WEEK",save:!0},{value:"2W",text:"2W",key:"2WEEK",save:!1}]),this.widget.onChartReady(function(){try{t._initChartReady()}catch(e){console.error(e)}})},_initChartReady:function(){var e=this;try{if(this.chartReadyTimer&&(clearTimeout(this.chartReadyTimer),this.chartReadyTimer=0),!this.isBtnsInited())if(this.checkIsReady()){this.createStudy(),this.widget.chart().onIntervalChanged().subscribe(null,function(t){e.buttonArr.forEach(function(e){String(e.value)===String(t)&&e.target?e.target.addClass("active"):e.target&&e.target.removeClass("active")})}),this.buttonArr.forEach(function(t,n){var a=e.widget.createButton().on("click",function(n){e.handleClick(n,t.value)}),r=t.save?"time-group-save":"time-group-normal";a.html(t.text),a.attr("title",t.text).parent().addClass(r),t.key===e.period&&a.addClass("active"),t.target=a});var t="";this.modeArr.forEach(function(n,a){e.mode==n?t+='<option selected="selected" value="'+n+'">'+n+"</option>":t+='<option value="'+n+'">'+n+"</option>"}),t='<select class="tv-price-type sel-cus" value="'+this.mode+'">'+t+"</select>",this.widget.createButton().on("click",function(t){e.onChangeMode(t)}).append(m(t)).removeClass("button").parent().addClass("i-float_right");var n=l.a.lang("TV.full_screen");this.widget.createButton().on("click",function(t){e.allowFullScreen(t)}).append(m('<span class="icon-full"></span>')).attr("title",n).parents(".space-single").addClass("header-group-fullscreen"),this.widget.subscribe("onAutoSaveNeeded",function(){e.subscribeStudy()})}else this.chartReadyTimer=setTimeout(function(){e._initChartReady()},20)}catch(e){console.error(e)}},checkIsReady:function(){return!!(this.widget&&this.widget._innerAPI()&&this.widget.chart())},getSubscribePeriod:function(e){var t=this.periodToTV[e];return t=this.getSrcResolution(t),this.tvToTypeMap[t]},getSrcResolution:function(e){return"D"==e||-1!=e.indexOf("D")||-1!=e.indexOf("W")?e="1D":e<1440&&e>=60?e="60":e<60&&e>=5?e="5":e<5&&e>=1&&(e="1"),e},isBtnsInited:function(){return this.buttonArr[0]&&this.buttonArr[0].target&&this.buttonArr[0].target.length},handleClick:function(e,t){this.widget.chart().setResolution(t),m(e.target).addClass("active").closest("div.space-single").siblings("div.space-single").find("div.button").removeClass("active");var n=this.tvToTypeMap[t];if(n){var a=this.getSubscribePeriod(this.period),r=this.getSubscribePeriod(n);this.period=n,this.mode&&o.a.switchKlineStype(this.symbol,this.mode),a!=r&&o.a.subscribeKline(this.symbol,r),this.onChangeOptions(this.symbol,n),this.switchCallback&&this.switchCallback(this.symbol,n)}},allowFullScreen:function(e){this.isFullScreen?(m("#root").removeClass("tv-fullScreen"),m(".KlineDiv").removeClass("kline-full"),Object(i.c)(),this.handleEsc(),this.isFut&&(this.tradePanel.style.display="none")):(m("#root").addClass("tv-fullScreen"),m(".KlineDiv").addClass("kline-full"),Object(i.k)(),this.handleEsc(!0),this.isFut&&!this.tradePanel&&(this.tradePanel=frames[0].frameElement.contentDocument.getElementById("zhuwenbo-toolbar")),this.isFut&&(this.tradePanel.style.display="block")),this.isFullScreen=!this.isFullScreen},resetClass:function(){m("#root").removeClass("tv-fullScreen"),m(".KlineDiv").removeClass("kline-full"),this.isFut&&(this.tradePanel.style.display="none"),this.isFullScreen=!1,window.onresize=""},handleEsc:function(e){var t=this;window.onresize="",e&&(window.onresize=function(){Object(i.b)()||t.resetClass()})},onChangeMode:function(e){e.preventDefault(),e.stopPropagation();var t=e.target.value;this.mode!=t&&this.switchMode(this.symbol,t)},subscribeStudy:function(){var e=this.widget.chart().getAllStudies(),t=this.difStudy(e);t[0]&&(this.studyMap=Object.assign(this.freeStudy,t[1]),Object(i.l)("TVStudy",this.studyMap,!0))},difStudy:function(e){var t=this,n=Object.keys(this.studyMap),a={},r=!1;return e.forEach(function(e,n){t.studyMap[e.name]||(r=!0),a[e.name]=1}),n.length&&n.forEach(function(e,t){a[e]||(r=!0)}),[r,a]},saveData:function(){this.widget.save(function(e){var t=e;console.log(t)})},getOverrides:function(e,t){return e.overrides["mainSeriesProperties.style"]=1,e.volume_style={},e.MA_Cross_style={},"gray"==t?(e.custom_css_url="bundles/skin-theme.css",e.overrides["paneProperties.background"]="#363636",e.overrides["scalesProperties.backgroundColor"]="#363636",e.overrides["scalesProperties.textColor"]="#cdcdcd",e.overrides["scalesProperties.lineColor"]="#4a4a4a",e.overrides["paneProperties.vertGridProperties.color"]="#383838",e.overrides["paneProperties.horzGridProperties.color"]="#383838",e.overrides["mainSeriesProperties.candleStyle.upColor"]="#f00",e.overrides["mainSeriesProperties.candleStyle.borderUpColor"]="#f00",e.overrides["mainSeriesProperties.candleStyle.wickUpColor"]="#f00",e.overrides["mainSeriesProperties.candleStyle.downColor"]="#7092be",e.overrides["mainSeriesProperties.candleStyle.borderDownColor"]="#7092be",e.overrides["mainSeriesProperties.candleStyle.wickDownColor"]="#7092be",e.studies_overrides["volume.volume.color.0"]="#7092be",e.studies_overrides["volume.volume.color.1"]="#7092be",e.studies_overrides["volume.volume.transparency"]=100,e.studies_overrides["MA Cross.short:plot.color"]="#f103f2",e.studies_overrides["MA Cross.long:plot.color"]="#fff900",e.volume_style["volume.color.0"]="#7092be",e.volume_style["volume.color.1"]="#7092be",e.volume_style["volume.transparency"]=100,e.MA_Cross_style["short:plot.color"]="#f103f2",e.MA_Cross_style["long:plot.color"]="#fff900"):"primary"==t?(e.custom_css_url="bundles/skin-theme.css",e.overrides["paneProperties.background"]="#262d33",e.overrides["scalesProperties.backgroundColor"]="#262d33",e.overrides["scalesProperties.textColor"]="#cdcdcd",e.overrides["scalesProperties.lineColor"]="#4c5052",e.overrides["paneProperties.vertGridProperties.color"]="#293138",e.overrides["paneProperties.horzGridProperties.color"]="#293138",e.overrides["mainSeriesProperties.style"]=9,e.overrides["mainSeriesProperties.hollowCandleStyle.upColor"]="#73c921",e.overrides["mainSeriesProperties.hollowCandleStyle.borderUpColor"]="#73c921",e.overrides["mainSeriesProperties.hollowCandleStyle.wickUpColor"]="#73c921",e.overrides["mainSeriesProperties.hollowCandleStyle.downColor"]="#ca2c78",e.overrides["mainSeriesProperties.hollowCandleStyle.borderDownColor"]="#ca2c78",e.overrides["mainSeriesProperties.hollowCandleStyle.wickDownColor"]="#ca2c78",e.studies_overrides["volume.volume.color.0"]="#ca2c78",e.studies_overrides["volume.volume.color.1"]="#73c921",e.studies_overrides["volume.volume.transparency"]=70,e.studies_overrides["MA Cross.short:plot.color"]="#7092be",e.studies_overrides["MA Cross.long:plot.color"]="#fbc834",e.volume_style["volume.color.0"]="#ca2c78",e.volume_style["volume.color.1"]="#73c921",e.volume_style["volume.transparency"]=70,e.MA_Cross_style["short:plot.color"]="#7092be",e.MA_Cross_style["long:plot.color"]="#fbc834"):"white"==t?(e.custom_css_url="bundles/skin-theme.css",e.overrides["paneProperties.background"]="#fefefe",e.overrides["scalesProperties.backgroundColor"]="#fefefe",e.overrides["scalesProperties.textColor"]="#888",e.overrides["scalesProperties.lineColor"]="#c9cbcd",e.overrides["paneProperties.vertGridProperties.color"]="#f8f8f8",e.overrides["paneProperties.horzGridProperties.color"]="#f8f8f8",e.overrides["mainSeriesProperties.candleStyle.upColor"]="#6ba583",e.overrides["mainSeriesProperties.candleStyle.borderUpColor"]="#367b53",e.overrides["mainSeriesProperties.candleStyle.wickUpColor"]="#6ba583",e.overrides["mainSeriesProperties.candleStyle.downColor"]="#d75442",e.overrides["mainSeriesProperties.candleStyle.borderDownColor"]="#990e0e",e.overrides["mainSeriesProperties.candleStyle.wickDownColor"]="#990e0e",e.overrides["mainSeriesProperties.candleStyle.drawWick"]=!0,e.overrides["mainSeriesProperties.candleStyle.drawBorder"]=!0,e.overrides["mainSeriesProperties.candleStyle.borderColor"]="#10b92a",e.overrides["mainSeriesProperties.candleStyle.wickColor"]="#10b92a",e.studies_overrides["volume.volume.color.0"]="#d75442",e.studies_overrides["volume.volume.color.1"]="#6ba583",e.studies_overrides["volume.volume.transparency"]=100,e.studies_overrides["MA Cross.short:plot.color"]="#5c9ff5",e.studies_overrides["MA Cross.long:plot.color"]="#f103f2",e.volume_style["volume.color.0"]="#d75442",e.volume_style["volume.color.1"]="#6ba583",e.volume_style["volume.transparency"]=100,e.MA_Cross_style["long:plot.color"]="#5c9ff5",e.MA_Cross_style["short:plot.color"]="#f103f2"):"dark"==t&&(e.toolbar_bg="#262d33",e.custom_css_url="bundles/primary-theme.css",e.overrides["paneProperties.background"]="#262d33",e.overrides["scalesProperties.backgroundColor"]="#262d33",e.overrides["scalesProperties.textColor"]="#cdcdcd",e.overrides["scalesProperties.lineColor"]="#4c5052",e.overrides["paneProperties.vertGridProperties.color"]="#293138",e.overrides["paneProperties.horzGridProperties.color"]="#293138",e.overrides["mainSeriesProperties.style"]=9,e.overrides["mainSeriesProperties.hollowCandleStyle.upColor"]="#73c921",e.overrides["mainSeriesProperties.hollowCandleStyle.borderUpColor"]="#73c921",e.overrides["mainSeriesProperties.hollowCandleStyle.wickUpColor"]="#73c921",e.overrides["mainSeriesProperties.hollowCandleStyle.downColor"]="#ca2c78",e.overrides["mainSeriesProperties.hollowCandleStyle.borderDownColor"]="#ca2c78",e.overrides["mainSeriesProperties.hollowCandleStyle.wickDownColor"]="#ca2c78",e.studies_overrides["volume.volume.color.0"]="#ca2c78",e.studies_overrides["volume.volume.color.1"]="#73c921",e.studies_overrides["volume.volume.transparency"]=70,e.studies_overrides["MA Cross.short:plot.color"]="#7092be",e.studies_overrides["MA Cross.long:plot.color"]="#fff900"),e},subscribe:function(){o.a.isOpen()?(this.mode&&o.a.switchKlineStype(this.symbol,this.mode),o.a.subscribeKline(this.symbol,this.getSubscribePeriod(this.period))):o.a.on("open",this.subscribe)},getBars:function(e,t,n,a,r,o){this.getBarTimer&&(clearTimeout(this.getBarTimer),this.getBarTimer=0);var i,s=this.getSrcResolution(t),l=this.tvToTypeMap[s],c=this.dataCache[e];c&&(i=c[l]);var u=1e3*n,d=1e3*a;if(i){for(var p=[],h=0,f=0,m=i.length;f<m;f++){var g=i[f],v=g.time;v>=u&&v<=d&&(p.push(g),h++)}h>0?(p.sort(function(e,t){return e.time>t.time?1:-1}),r&&r({s:"ok",bars:p})):r&&r({s:"no_data"})}else{var y=(new Date).getTime();if(o&&y-o>3e3)return void(r&&r({s:"no_data"}));var b=this;this.getBarTimer||(this.getBarTimer=setTimeout(function(){b.getBars(e,t,n,a,r,o||y)},10))}},setLanguage:function(e){this.widget&&(this.widget.setLanguage(e),this.initChartReady(!0),this.floatTradeData&&(this.floatTradeData=""))},setTheme:function(e){if(this.widget)return void this.changeSkin(e)},changeSkin:function(e){var t=e+"-theme";this.options=this.getOverrides(this.options,e);var n=this.options.overrides,a=this.options.studies_overrides,r=this.getStudyId();if(r.Volume){var o=this.options.volume_style;this.widget.chart().getStudyById(r.Volume).applyOverrides(o)}if(r["MA Cross"]){var i=this.options.MA_Cross_style;this.widget.chart().getStudyById(r["MA Cross"]).applyOverrides(i)}this.widget.setTheme(t),this.widget.applyStudiesOverrides(a),this.widget.applyOverrides(n);var s=frames[0].frameElement.contentDocument.getElementsByTagName("html");m(s).removeClass(this.cssTheme+"-theme"),m(s).addClass(t),this.cssTheme=e},getStudyId:function(){var e=this.widget.chart().getAllStudies(),t={};return e.forEach(function(e,n){t[e.name]=e.id}),t},setResolution:function(e){this.widget&&this.widget.chart().setResolution(e)},getTVConfig:function(){return{supported_resolutions:this.supported_resolutions}},resolveTVSymbol:function(e){var t={name:e,"exchange-traded":"","exchange-listed":"",timezone:"Asia/Shanghai",minmov:1,minmov2:0,pointvalue:1,fractional:!1,session:"24x7",has_intraday:!0,has_no_volume:!1,description:e,pricescale:1,ticker:e,supported_resolutions:this.supported_resolutions,intraday_multipliers:["1","5","60"]},n=s.a.getProduct(e);return n&&(t.currency_code=n.toCode,t.description=n.Name,n.PriceFixed&&(t.pricescale=Math.pow(10,n.PriceFixed))),t},destroy:function(){try{this.getBarTimer&&(clearTimeout(this.getBarTimer),this.getBarTimer=0),this.positionTimer&&(clearTimeout(this.positionTimer),this.getBarTimer=null),this.widget&&(this.widget.remove(),this.widget._ready=!1)}catch(e){}},onChangeOptions:function(e,t){this.symbol=e,this.period=t,this.widget._options.symbol=e,this.widget._options.interval=this.periodToTV[t]},switch:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"5MIN";this.period==t&&this.symbol==e||(o.a.subscribeKline(e,this.getSubscribePeriod(t)),this.widget.setSymbol(e,this.periodToTV[t]),this.onChangeOptions(e,t),this.initChartReady(),this.floatTradeData&&(this.floatTradeData=""),this.switchCallback&&this.switchCallback(e,t))},switchMode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"BID";this.mode==t&&this.symbol==e||(o.a.switchKlineStype(e,t),o.a.subscribeKline(e,this.getSubscribePeriod(this.period)),this.mode=t,this.dataCache[e]&&this.dataCache[e][this.period]&&(this.dataCache[e][this.period]=null,this.realLastBarTime[e][this.period]=0),this.widget&&(this.widget._create(),this.initChartReady(!0),this.floatTradeData&&(this.floatTradeData="")),this.switchCallback&&this.switchCallback(e,null,t))},appendData:function(e,t){var n=e.data,a=n[0];if(t||(a=this.parseKlineDataItem(a)),a){var r=a.date;this.dataCache[e.symbol]||(this.dataCache[e.symbol]={},this.realLastBarTime[e.symbol]={},this.tickerBars[e.symbol]={}),this.dataCache[e.symbol][e.period]||(this.dataCache[e.symbol][e.period]=[],this.realLastBarTime[e.symbol][e.period]=0,this.tickerBars[e.symbol][e.period]={});var o=this.dataCache[e.symbol][e.period],i=-1;if(o.length>0)for(var s=o.length-1;s>=0;){var l=o[s],c=l.date;if(c<r)break;if(c==r){i=s;break}s--}for(var u=-1==i?o.length:i,d=0,p=-1,h=0,f=n.length;h<f;h++){var a=n[h];if(t||(a=this.parseKlineDataItem(a)),a){var m=a.time;if(m==d)o.pop();else{if(m<d)continue;p++}o[u+p]=a,d=m}}return!t&&d>0&&(this.realLastBarTime[e.symbol][e.period]=d),o}},parseKlineDataItem:function(e){if(e){var t=e.split(",");if(!(t.length<7)){var n=t[0]+" "+t[1];return{date:n,time:1e3*r()(n,"YYYY-MM-DD HH:mm:ss").format("X"),open:Number(t[2]),close:Number(t[5]),low:Number(t[4]),high:Number(t[3]),volume:Number(t[6])}}}},onUpdateData:function(e){e.symbol==this.symbol&&e.period==this.getSubscribePeriod(this.period)&&(e.data.length<=0||(this.appendData(e),this.dataFeed.update()))},getServerTime:function(){return c.a.getServerTimeStamp()},setArrow:function(e){var t=this,n=0;n=e.CreatedAt?parseInt(new Date(e.CreatedAt).getTime()/1e3):parseInt(Date.now()/1e3);var a="LONG"!==e.SideTxt;this.widget.onChartReady(function(){if(t.checkIsReady()){var r=t.widget.chart().createExecutionShape().setTooltip("@"+e.Volume+","+e.Price+" Limit "+e.SideTxt+" "+e.Volume).setTextColor(a?"rgba(242,22,11,0.5)":"rgba(0,255,0,0.5)").setArrowColor(a?"#f2160b":"#0F0").setDirection(a?"sell":"buy").setTime(n).setPrice(e.Price);t.arrowList[e.ID]=r}})},showAllPosition:function(e,t){if("{}"!==JSON.stringify(this.dataCache)){for(var n in this.posLines)if(!e[n]){var a=this.posLines[n];a.remove(),delete this.posLines[n],this.arrowList[n].remove(),delete this.arrowList[n]}for(var n in e)if(this.posLines[n]){var r=this.posLines[n].getText(),o=e[n].ProfitLossDesc;r!==o&&this.posLines[n].setText(o)}else{var i=e[n];this.setArrow(i),this.showPosition(i,t)}}},showPosition:function(e,t){var n=this,a=this;this.positionTimer&&clearTimeout(this.positionTimer),this.widget.onChartReady(function(){if(n.checkIsReady()){var r=n.widget.chart().createPositionLine().setText(e.ProfitLossDesc).setQuantity(e.Volume).setPrice(e.Price).setExtendLeft(!0).setLineStyle(0).setLineLength(25).onClose(function(){this.positionTimer=setTimeout(function(){t(e,null,function(t){t&&(delete a.posLines[e.ID],a.arrowList[e.ID].remove(),delete a.arrowList[e.ID],r.remove())})},300)});a.posLines[e.ID]=r}})},setFloatTradeData:function(e){var t=this,n=e||{ASK:0,BID:0},a=[{name:"setBuy",price:n.ASK},{name:"setSell",price:n.BID},{name:"setSpread",price:n.ASK-n.BID}];if(f.f)return!1;this.widget&&this.floatTradeData!==JSON.stringify(a)&&this.widget.onChartReady(function(){t.floatTradeData||(frames[0].window.postMessage({eventType:"init",value:void 0},"*"),frames[0].window.postMessage({eventType:"setNumber",value:h.a.loadPreference("vol",1)},"*")),frames[0].window.postMessage({eventType:"init",value:void 0},"*"),frames[0].window.postMessage({eventType:"setNumber",value:h.a.loadPreference("vol",1)},"*"),a.forEach(function(e){frames[0].window.postMessage({eventType:e.name,value:e.price?e.price:0},"*")}),t.floatTradeData=JSON.stringify(a)})}}}).call(t,n(13))},228:function(e,t,n){!function(t,a){e.exports=a(n(0))}(0,function(e){return function(e){function t(a){if(n[a])return n[a].exports;var r=n[a]={exports:{},id:a,loaded:!1};return e[a].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(31);var a=n(13),r=function(e){return e&&e.__esModule?e:{default:e}}(a);t.default=r.default},function(t,n){t.exports=e},function(e,t,n){e.exports=n(19)()},function(e,t){"use strict";function n(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]="number"==typeof e[n]?e[n]:e[n].val);return t}t.__esModule=!0,t.default=n,e.exports=t.default},function(e,t,n){(function(t){(function(){var n,a,r;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!=typeof t&&null!==t&&t.hrtime?(e.exports=function(){return(n()-r)/1e6},a=t.hrtime,n=function(){var e;return e=a(),1e9*e[0]+e[1]},r=n()):Date.now?(e.exports=function(){return Date.now()-r},r=Date.now()):(e.exports=function(){return(new Date).getTime()-r},r=(new Date).getTime())}).call(this)}).call(t,n(10))},function(e,t,n){(function(t){for(var a=n(23),r="undefined"==typeof window?t:window,o=["moz","webkit"],i="AnimationFrame",s=r["request"+i],l=r["cancel"+i]||r["cancelRequest"+i],c=0;!s&&c<o.length;c++)s=r[o[c]+"Request"+i],l=r[o[c]+"Cancel"+i]||r[o[c]+"CancelRequest"+i];if(!s||!l){var u=0,d=0,p=[];s=function(e){if(0===p.length){var t=a(),n=Math.max(0,1e3/60-(t-u));u=n+t,setTimeout(function(){var e=p.slice(0);p.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(u)}catch(e){setTimeout(function(){throw e},0)}},Math.round(n))}return p.push({handle:++d,callback:e,cancelled:!1}),d},l=function(e){for(var t=0;t<p.length;t++)p[t].handle===e&&(p[t].cancelled=!0)}}e.exports=function(e){return s.call(r,e)},e.exports.cancel=function(){l.apply(r,arguments)},e.exports.polyfill=function(e){e||(e=r),e.requestAnimationFrame=s,e.cancelAnimationFrame=l}}).call(t,function(){return this}())},function(e,t){"use strict";function n(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=0);return t}t.__esModule=!0,t.default=n,e.exports=t.default},function(e,t){"use strict";function n(e,t,n){for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(0!==n[a])return!1;var r="number"==typeof t[a]?t[a]:t[a].val;if(e[a]!==r)return!1}return!0}t.__esModule=!0,t.default=n,e.exports=t.default},function(e,t){"use strict";function n(e,t,n,r,o,i,s){var l=-o*(t-r),c=-i*n,u=l+c,d=n+u*e,p=t+d*e;return Math.abs(d)<s&&Math.abs(p-r)<s?(a[0]=r,a[1]=0,a):(a[0]=p,a[1]=d,a)}t.__esModule=!0,t.default=n;var a=[0,0];e.exports=t.default},function(e,t,n){"use strict";function a(e){return d?u.default.findDOMNode(e):e}function r(){p||d||(p=!0,console.error("With React 0.14 and later versions, you no longer need to wrap <ScrollArea> child into a function."))}function o(){!p&&d&&(p=!0,console.error("With React 0.13, you need to wrap <ScrollArea> child into a function."))}function i(e){return e<0?0:e}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e},n={};for(var a in e)e.hasOwnProperty(a)&&(n[a]=t(e[a]));return n}function l(e){var t=e.version;if("string"!=typeof t)return!0;var n=t.split("."),a=parseInt(n[0],10),r=parseInt(n[1],10);return 0===a&&13===r}Object.defineProperty(t,"__esModule",{value:!0}),t.findDOMNode=a,t.warnAboutFunctionChild=r,t.warnAboutElementChild=o,t.positiveOrZero=i,t.modifyObjValues=s,t.isReact13=l;var c=n(1),u=function(e){return e&&e.__esModule?e:{default:e}}(c),d=l(u.default),p=!1},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function r(e){if(u===setTimeout)return setTimeout(e,0);if((u===n||!u)&&setTimeout)return u=setTimeout,setTimeout(e,0);try{return u(e,0)}catch(t){try{return u.call(null,e,0)}catch(t){return u.call(this,e,0)}}}function o(e){if(d===clearTimeout)return clearTimeout(e);if((d===a||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function i(){m&&h&&(m=!1,h.length?f=h.concat(f):g=-1,f.length&&s())}function s(){if(!m){var e=r(i);m=!0;for(var t=f.length;t;){for(h=f,f=[];++g<t;)h&&h[g].run();g=-1,t=f.length}h=null,m=!1,o(e)}}function l(e,t){this.fun=e,this.array=t}function c(){}var u,d,p=e.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:n}catch(e){u=n}try{d="function"==typeof clearTimeout?clearTimeout:a}catch(e){d=a}}();var h,f=[],m=!1,g=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];f.push(new l(e,t)),1!==f.length||m||r(s)},l.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=c,p.addListener=c,p.once=c,p.off=c,p.removeListener=c,p.removeAllListeners=c,p.emit=c,p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(e,t){"use strict";t.__esModule=!0,t.default={noWobble:{stiffness:170,damping:26},gentle:{stiffness:120,damping:14},wobbly:{stiffness:180,damping:12},stiff:{stiffness:210,damping:20}},e.exports=t.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e.default:e}t.__esModule=!0;var r=n(24);t.Motion=a(r);var o=n(25);t.StaggeredMotion=a(o);var i=n(26);t.TransitionMotion=a(i);var s=n(29);t.spring=a(s);var l=n(11);t.presets=a(l);var c=n(3);t.stripStyle=a(c);var u=n(28);t.reorderKeys=a(u)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(1),d=a(u),p=n(2),h=a(p),f=n(18),m=a(f),g=n(12),v=n(9),y=n(14),b=a(y),E={wheel:"wheel",api:"api",touch:"touch",touchEnd:"touchEnd",mousemove:"mousemove",keyPress:"keypress"},w=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={topPosition:0,leftPosition:0,realHeight:0,containerHeight:0,realWidth:0,containerWidth:0},n.scrollArea={refresh:function(){n.setSizesToState()},scrollTop:function(){n.scrollTop()},scrollBottom:function(){n.scrollBottom()},scrollYTo:function(e){n.scrollYTo(e)},scrollLeft:function(){n.scrollLeft()},scrollRight:function(){n.scrollRight()},scrollXTo:function(e){n.scrollXTo(e)}},n.evntsPreviousValues={clientX:0,clientY:0,deltaX:0,deltaY:0},n.bindedHandleWindowResize=n.handleWindowResize.bind(n),n}return i(t,e),c(t,[{key:"getChildContext",value:function(){return{scrollArea:this.scrollArea}}},{key:"componentDidMount",value:function(){this.props.contentWindow&&this.props.contentWindow.addEventListener("resize",this.bindedHandleWindowResize),this.lineHeightPx=(0,m.default)((0,v.findDOMNode)(this.content)),this.setSizesToState()}},{key:"componentWillUnmount",value:function(){this.props.contentWindow&&this.props.contentWindow.removeEventListener("resize",this.bindedHandleWindowResize)}},{key:"componentDidUpdate",value:function(){this.setSizesToState()}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,a=t.className,r=t.contentClassName,o=t.ownerDocument,i=this.props.smoothScrolling&&(this.state.eventType===E.wheel||this.state.eventType===E.api||this.state.eventType===E.touchEnd||this.state.eventType===E.keyPress),s=this.canScrollY()?d.default.createElement(b.default,{ownerDocument:o,realSize:this.state.realHeight,containerSize:this.state.containerHeight,position:this.state.topPosition,onMove:this.handleScrollbarMove.bind(this),onPositionChange:this.handleScrollbarYPositionChange.bind(this),containerStyle:this.props.verticalContainerStyle,scrollbarStyle:this.props.verticalScrollbarStyle,smoothScrolling:i,minScrollSize:this.props.minScrollSize,onFocus:this.focusContent.bind(this),type:"vertical"}):null,c=this.canScrollX()?d.default.createElement(b.default,{ownerDocument:o,realSize:this.state.realWidth,containerSize:this.state.containerWidth,position:this.state.leftPosition,onMove:this.handleScrollbarMove.bind(this),onPositionChange:this.handleScrollbarXPositionChange.bind(this),containerStyle:this.props.horizontalContainerStyle,scrollbarStyle:this.props.horizontalScrollbarStyle,smoothScrolling:i,minScrollSize:this.props.minScrollSize,onFocus:this.focusContent.bind(this),type:"horizontal"}):null;"function"==typeof n?((0,v.warnAboutFunctionChild)(),n=n()):(0,v.warnAboutElementChild)();var u="scrollarea "+(a||""),p="scrollarea-content "+(r||""),h={marginTop:-this.state.topPosition,marginLeft:-this.state.leftPosition},f=i?(0,v.modifyObjValues)(h,function(e){return(0,g.spring)(e)}):h;return d.default.createElement(g.Motion,{style:f},function(t){return d.default.createElement("div",{ref:function(t){return e.wrapper=t},className:u,style:e.props.style,onWheel:e.handleWheel.bind(e)},d.default.createElement("div",{ref:function(t){return e.content=t},style:l({},e.props.contentStyle,t),className:p,onTouchStart:e.handleTouchStart.bind(e),onTouchMove:e.handleTouchMove.bind(e),onTouchEnd:e.handleTouchEnd.bind(e),onKeyDown:e.handleKeyDown.bind(e),tabIndex:e.props.focusableTabIndex},n),s,c)})}},{key:"setStateFromEvent",value:function(e,t){this.props.onScroll&&this.props.onScroll(e),this.setState(l({},e,{eventType:t}))}},{key:"handleTouchStart",value:function(e){var t=e.touches;if(1===t.length){var n=t[0],a=n.clientX,r=n.clientY;this.eventPreviousValues=l({},this.eventPreviousValues,{clientY:r,clientX:a,timestamp:Date.now()})}}},{key:"handleTouchMove",value:function(e){this.canScroll()&&(e.preventDefault(),e.stopPropagation());var t=e.touches;if(1===t.length){var n=t[0],a=n.clientX,r=n.clientY,o=this.eventPreviousValues.clientY-r,i=this.eventPreviousValues.clientX-a;this.eventPreviousValues=l({},this.eventPreviousValues,{deltaY:o,deltaX:i,clientY:r,clientX:a,timestamp:Date.now()}),this.setStateFromEvent(this.composeNewState(-i,-o))}}},{key:"handleTouchEnd",value:function(e){var t=this.eventPreviousValues,n=t.deltaX,a=t.deltaY,r=t.timestamp;"undefined"==typeof n&&(n=0),"undefined"==typeof a&&(a=0),Date.now()-r<200&&this.setStateFromEvent(this.composeNewState(10*-n,10*-a),E.touchEnd),this.eventPreviousValues=l({},this.eventPreviousValues,{deltaY:0,deltaX:0})}},{key:"handleScrollbarMove",value:function(e,t){this.setStateFromEvent(this.composeNewState(t,e))}},{key:"handleScrollbarXPositionChange",value:function(e){this.scrollXTo(e)}},{key:"handleScrollbarYPositionChange",value:function(e){this.scrollYTo(e)}},{key:"handleWheel",value:function(e){var t=e.deltaY,n=e.deltaX;if(this.props.swapWheelAxes){var a=[n,t];t=a[0],n=a[1]}1===e.deltaMode&&(t*=this.lineHeightPx,n*=this.lineHeightPx),t*=this.props.speed,n*=this.props.speed;var r=this.composeNewState(-n,-t);(r.topPosition&&this.state.topPosition!==r.topPosition||r.leftPosition&&this.state.leftPosition!==r.leftPosition||this.props.stopScrollPropagation)&&(e.preventDefault(),e.stopPropagation()),this.setStateFromEvent(r,E.wheel),this.focusContent()}},{key:"handleKeyDown",value:function(e){if("input"!==e.target.tagName.toLowerCase()&&"textarea"!==e.target.tagName.toLowerCase()&&!e.target.isContentEditable){var t=0,n=0,a=this.lineHeightPx?this.lineHeightPx:10;switch(e.keyCode){case 33:t=this.state.containerHeight-a;break;case 34:t=-this.state.containerHeight+a;break;case 37:n=a;break;case 38:t=a;break;case 39:n=-a;break;case 40:t=-a}if(0!==t||0!==n){var r=this.composeNewState(n,t);e.preventDefault(),e.stopPropagation(),this.setStateFromEvent(r,E.keyPress)}}}},{key:"handleWindowResize",value:function(){var e=this.computeSizes();e=this.getModifiedPositionsIfNeeded(e),this.setStateFromEvent(e)}},{key:"composeNewState",value:function(e,t){var n=this.computeSizes();return this.canScrollY(n)?n.topPosition=this.computeTopPosition(t,n):n.topPosition=0,this.canScrollX(n)&&(n.leftPosition=this.computeLeftPosition(e,n)),n}},{key:"computeTopPosition",value:function(e,t){var n=this.state.topPosition-e;return this.normalizeTopPosition(n,t)}},{key:"computeLeftPosition",value:function(e,t){var n=this.state.leftPosition-e;return this.normalizeLeftPosition(n,t)}},{key:"normalizeTopPosition",value:function(e,t){return e>t.realHeight-t.containerHeight&&(e=t.realHeight-t.containerHeight),e<0&&(e=0),e}},{key:"normalizeLeftPosition",value:function(e,t){return e>t.realWidth-t.containerWidth?e=t.realWidth-t.containerWidth:e<0&&(e=0),e}},{key:"computeSizes",value:function(){return{realHeight:this.content.offsetHeight,containerHeight:this.wrapper.offsetHeight,realWidth:this.content.offsetWidth,containerWidth:this.wrapper.offsetWidth}}},{key:"setSizesToState",value:function(){var e=this.computeSizes();e.realHeight===this.state.realHeight&&e.realWidth===this.state.realWidth||this.setStateFromEvent(this.getModifiedPositionsIfNeeded(e))}},{key:"scrollTop",value:function(){this.scrollYTo(0)}},{key:"scrollBottom",value:function(){this.scrollYTo(this.state.realHeight-this.state.containerHeight)}},{key:"scrollLeft",value:function(){this.scrollXTo(0)}},{key:"scrollRight",value:function(){this.scrollXTo(this.state.realWidth-this.state.containerWidth)}},{key:"scrollYTo",value:function(e){if(this.canScrollY()){var t=this.normalizeTopPosition(e,this.computeSizes());this.setStateFromEvent({topPosition:t},E.api)}}},{key:"scrollXTo",value:function(e){if(this.canScrollX()){var t=this.normalizeLeftPosition(e,this.computeSizes());this.setStateFromEvent({leftPosition:t},E.api)}}},{key:"canScrollY",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state;return e.realHeight>e.containerHeight&&this.props.vertical}},{key:"canScrollX",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state;return e.realWidth>e.containerWidth&&this.props.horizontal}},{key:"canScroll",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state;return this.canScrollY(e)||this.canScrollX(e)}},{key:"getModifiedPositionsIfNeeded",value:function(e){var t=e.realHeight-e.containerHeight;this.state.topPosition>=t&&(e.topPosition=this.canScrollY(e)?(0,v.positiveOrZero)(t):0);var n=e.realWidth-e.containerWidth;return this.state.leftPosition>=n&&(e.leftPosition=this.canScrollX(e)?(0,v.positiveOrZero)(n):0),e}},{key:"focusContent",value:function(){this.content&&(0,v.findDOMNode)(this.content).focus()}}]),t}(d.default.Component);t.default=w,w.childContextTypes={scrollArea:h.default.object},w.propTypes={className:h.default.string,style:h.default.object,speed:h.default.number,contentClassName:h.default.string,contentStyle:h.default.object,vertical:h.default.bool,verticalContainerStyle:h.default.object,verticalScrollbarStyle:h.default.object,horizontal:h.default.bool,horizontalContainerStyle:h.default.object,horizontalScrollbarStyle:h.default.object,onScroll:h.default.func,contentWindow:h.default.any,ownerDocument:h.default.any,smoothScrolling:h.default.bool,minScrollSize:h.default.number,swapWheelAxes:h.default.bool,stopScrollPropagation:h.default.bool,focusableTabIndex:h.default.number},w.defaultProps={speed:1,vertical:!0,horizontal:!0,smoothScrolling:!1,swapWheelAxes:!1,contentWindow:"object"===("undefined"==typeof window?"undefined":s(window))?window:void 0,ownerDocument:"object"===("undefined"==typeof document?"undefined":s(document))?document:void 0,focusableTabIndex:1}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n(1),u=a(c),d=n(2),p=a(d),h=n(12),f=n(9),m=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),a=n.calculateState(e);return n.state={position:a.position,scrollSize:a.scrollSize,isDragging:!1,lastClientPosition:0},"vertical"===e.type?n.bindedHandleMouseMove=n.handleMouseMoveForVertical.bind(n):n.bindedHandleMouseMove=n.handleMouseMoveForHorizontal.bind(n),n.bindedHandleMouseUp=n.handleMouseUp.bind(n),n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){this.props.ownerDocument&&(this.props.ownerDocument.addEventListener("mousemove",this.bindedHandleMouseMove),this.props.ownerDocument.addEventListener("mouseup",this.bindedHandleMouseUp))}},{key:"componentWillReceiveProps",value:function(e){this.setState(this.calculateState(e))}},{key:"componentWillUnmount",value:function(){this.props.ownerDocument&&(this.props.ownerDocument.removeEventListener("mousemove",this.bindedHandleMouseMove),this.props.ownerDocument.removeEventListener("mouseup",this.bindedHandleMouseUp))}},{key:"calculateFractionalPosition",value:function(e,t,n){var a=e-t;return 1-(a-n)/a}},{key:"calculateState",value:function(e){var t=this.calculateFractionalPosition(e.realSize,e.containerSize,e.position),n=e.containerSize*e.containerSize/e.realSize,a=n<e.minScrollSize?e.minScrollSize:n,r=(e.containerSize-a)*t;return{scrollSize:a,position:Math.round(r)}}},{key:"render",value:function(){var e=this,t=this.props,n=t.smoothScrolling,a=t.isDragging,r=t.type,o=t.scrollbarStyle,i=t.containerStyle,l="horizontal"===r,c="vertical"===r,d=this.createScrollStyles(),p=n?(0,f.modifyObjValues)(d,function(e){return(0,h.spring)(e)}):d,m="scrollbar-container "+(a?"active":"")+" "+(l?"horizontal":"")+" "+(c?"vertical":"");return u.default.createElement(h.Motion,{style:p},function(t){return u.default.createElement("div",{className:m,style:i,onMouseDown:e.handleScrollBarContainerClick.bind(e),ref:function(t){return e.scrollbarContainer=t}},u.default.createElement("div",{className:"scrollbar",style:s({},o,t),onMouseDown:e.handleMouseDown.bind(e)}))})}},{key:"handleScrollBarContainerClick",value:function(e){e.preventDefault();var t=this.computeMultiplier(),n=this.isVertical()?e.clientY:e.clientX,a=this.scrollbarContainer.getBoundingClientRect(),r=a.top,o=a.left,i=this.isVertical()?r:o,s=n-i,l=this.props.containerSize*this.props.containerSize/this.props.realSize;this.setState({isDragging:!0,lastClientPosition:n}),this.props.onPositionChange((s-l/2)/t)}},{key:"handleMouseMoveForHorizontal",value:function(e){var t=this.computeMultiplier();if(this.state.isDragging){e.preventDefault();var n=this.state.lastClientPosition-e.clientX;this.setState({lastClientPosition:e.clientX}),this.props.onMove(0,n/t)}}},{key:"handleMouseMoveForVertical",value:function(e){var t=this.computeMultiplier();if(this.state.isDragging){e.preventDefault();var n=this.state.lastClientPosition-e.clientY;this.setState({lastClientPosition:e.clientY}),this.props.onMove(n/t,0)}}},{key:"handleMouseDown",value:function(e){e.preventDefault(),e.stopPropagation();var t=this.isVertical()?e.clientY:e.clientX;this.setState({isDragging:!0,lastClientPosition:t}),this.props.onFocus()}},{key:"handleMouseUp",value:function(e){this.state.isDragging&&(e.preventDefault(),this.setState({isDragging:!1}))}},{key:"createScrollStyles",value:function(){return"vertical"===this.props.type?{height:this.state.scrollSize,marginTop:this.state.position}:{width:this.state.scrollSize,marginLeft:this.state.position}}},{key:"computeMultiplier",value:function(){return this.props.containerSize/this.props.realSize}},{key:"isVertical",value:function(){return"vertical"===this.props.type}}]),t}(u.default.Component);m.propTypes={onMove:p.default.func,onPositionChange:p.default.func,onFocus:p.default.func,realSize:p.default.number,containerSize:p.default.number,position:p.default.number,containerStyle:p.default.object,scrollbarStyle:p.default.object,type:p.default.oneOf(["vertical","horizontal"]),ownerDocument:p.default.any,smoothScrolling:p.default.bool,minScrollSize:p.default.number},m.defaultProps={type:"vertical",smoothScrolling:!1},t.default=m},function(e,t){var n=function(e,t,n){return n=window.getComputedStyle,(n?n(e):e.currentStyle)[t.replace(/-(\w)/gi,function(e,t){return t.toUpperCase()})]};e.exports=n},function(e,t,n){t=e.exports=n(17)(),t.push([e.id,".scrollarea-content{margin:0;padding:0;overflow:hidden;position:relative}.scrollarea-content:focus{outline:0}.scrollarea{position:relative;overflow:hidden}.scrollarea .scrollbar-container{position:absolute;background:none;opacity:.1;z-index:9999;-webkit-transition:all .4s;transition:all .4s}.scrollarea .scrollbar-container.horizontal{width:100%;height:10px;left:0;bottom:0}.scrollarea .scrollbar-container.horizontal .scrollbar{width:20px;height:8px;background:#000;margin-top:1px}.scrollarea .scrollbar-container.vertical{width:10px;height:100%;right:0;top:0}.scrollarea .scrollbar-container.vertical .scrollbar{width:8px;height:20px;background:#000;margin-left:1px}.scrollarea .scrollbar-container.active,.scrollarea .scrollbar-container:hover{background:gray;opacity:.6!important}.scrollarea:hover .scrollbar-container{opacity:.3}",""])},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var a={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(a[o]=!0)}for(r=0;r<t.length;r++){var i=t[r];"number"==typeof i[0]&&a[i[0]]||(n&&!i[2]?i[2]=n:n&&(i[2]="("+i[2]+") and ("+n+")"),e.push(i))}},e}},function(e,t,n){function a(e){var t=r(e,"line-height"),n=parseFloat(t,10);if(t===n+""){var a=e.style.lineHeight;e.style.lineHeight=t+"em",t=r(e,"line-height"),n=parseFloat(t,10),a?e.style.lineHeight=a:delete e.style.lineHeight}if(-1!==t.indexOf("pt")?(n*=4,n/=3):-1!==t.indexOf("mm")?(n*=96,n/=25.4):-1!==t.indexOf("cm")?(n*=96,n/=2.54):-1!==t.indexOf("in")?n*=96:-1!==t.indexOf("pc")&&(n*=16),n=Math.round(n),"normal"===t){var o=e.nodeName,i=document.createElement(o);i.innerHTML="&nbsp;";var s=r(e,"font-size");i.style.fontSize=s;var l=document.body;l.appendChild(i);n=i.offsetHeight,l.removeChild(i)}return n}var r=n(15);e.exports=a},function(e,t,n){"use strict";var a=n(21),r=n(22),o=n(20);e.exports=function(){function e(e,t,n,a,i,s){s!==o&&r(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=a,n.PropTypes=n,n}},function(e,t){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t){"use strict";function n(e){return function(){return e}}var a=function(){};a.thatReturns=n,a.thatReturnsFalse=n(!1),a.thatReturnsTrue=n(!0),a.thatReturnsNull=n(null),a.thatReturnsThis=function(){return this},a.thatReturnsArgument=function(e){return e},e.exports=a},function(e,t,n){"use strict";function a(e,t,n,a,o,i,s,l){if(r(t),!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,a,o,i,s,l],d=0;c=new Error(t.replace(/%s/g,function(){return u[d++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}}var r=function(e){};e.exports=a},function(e,t,n){(function(t){(function(){var n,a,r,o,i,s;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!=typeof t&&null!==t&&t.hrtime?(e.exports=function(){return(n()-i)/1e6},a=t.hrtime,n=function(){var e;return e=a(),1e9*e[0]+e[1]},o=n(),s=1e9*t.uptime(),i=o-s):Date.now?(e.exports=function(){return Date.now()-r},r=Date.now()):(e.exports=function(){return(new Date).getTime()-r},r=(new Date).getTime())}).call(this)}).call(t,n(10))},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(6),c=a(l),u=n(3),d=a(u),p=n(8),h=a(p),f=n(4),m=a(f),g=n(5),v=a(g),y=n(7),b=a(y),E=n(1),w=a(E),C=n(2),P=a(C),S=1e3/60,k=function(e){function t(n){var a=this;r(this,t),e.call(this,n),this.wasAnimating=!1,this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyle=null,this.clearUnreadPropStyle=function(e){var t=!1,n=a.state,r=n.currentStyle,o=n.currentVelocity,s=n.lastIdealStyle,l=n.lastIdealVelocity;for(var c in e)if(Object.prototype.hasOwnProperty.call(e,c)){var u=e[c];"number"==typeof u&&(t||(t=!0,r=i({},r),o=i({},o),s=i({},s),l=i({},l)),r[c]=u,o[c]=0,s[c]=u,l[c]=0)}t&&a.setState({currentStyle:r,currentVelocity:o,lastIdealStyle:s,lastIdealVelocity:l})},this.startAnimationIfNecessary=function(){a.animationID=v.default(function(e){var t=a.props.style;if(b.default(a.state.currentStyle,t,a.state.currentVelocity))return a.wasAnimating&&a.props.onRest&&a.props.onRest(),a.animationID=null,a.wasAnimating=!1,void(a.accumulatedTime=0);a.wasAnimating=!0;var n=e||m.default(),r=n-a.prevTime;if(a.prevTime=n,a.accumulatedTime=a.accumulatedTime+r,a.accumulatedTime>10*S&&(a.accumulatedTime=0),0===a.accumulatedTime)return a.animationID=null,void a.startAnimationIfNecessary();var o=(a.accumulatedTime-Math.floor(a.accumulatedTime/S)*S)/S,i=Math.floor(a.accumulatedTime/S),s={},l={},c={},u={};for(var d in t)if(Object.prototype.hasOwnProperty.call(t,d)){var p=t[d];if("number"==typeof p)c[d]=p,u[d]=0,s[d]=p,l[d]=0;else{for(var f=a.state.lastIdealStyle[d],g=a.state.lastIdealVelocity[d],v=0;v<i;v++){var y=h.default(S/1e3,f,g,p.val,p.stiffness,p.damping,p.precision);f=y[0],g=y[1]}var E=h.default(S/1e3,f,g,p.val,p.stiffness,p.damping,p.precision),w=E[0],C=E[1];c[d]=f+(w-f)*o,u[d]=g+(C-g)*o,s[d]=f,l[d]=g}}a.animationID=null,a.accumulatedTime-=i*S,a.setState({currentStyle:c,currentVelocity:u,lastIdealStyle:s,lastIdealVelocity:l}),a.unreadPropStyle=null,a.startAnimationIfNecessary()})},this.state=this.defaultState()}return o(t,e),s(t,null,[{key:"propTypes",value:{defaultStyle:P.default.objectOf(P.default.number),style:P.default.objectOf(P.default.oneOfType([P.default.number,P.default.object])).isRequired,children:P.default.func.isRequired,onRest:P.default.func},enumerable:!0}]),t.prototype.defaultState=function(){var e=this.props,t=e.defaultStyle,n=e.style,a=t||d.default(n),r=c.default(a);return{currentStyle:a,currentVelocity:r,lastIdealStyle:a,lastIdealVelocity:r}},t.prototype.componentDidMount=function(){this.prevTime=m.default(),this.startAnimationIfNecessary()},t.prototype.componentWillReceiveProps=function(e){null!=this.unreadPropStyle&&this.clearUnreadPropStyle(this.unreadPropStyle),this.unreadPropStyle=e.style,null==this.animationID&&(this.prevTime=m.default(),this.startAnimationIfNecessary())},t.prototype.componentWillUnmount=function(){null!=this.animationID&&(v.default.cancel(this.animationID),this.animationID=null)},t.prototype.render=function(){var e=this.props.children(this.state.currentStyle);return e&&w.default.Children.only(e)},t}(w.default.Component);t.default=k,e.exports=t.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t,n){for(var a=0;a<e.length;a++)if(!E.default(e[a],t[a],n[a]))return!1;return!0}t.__esModule=!0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n(6),u=a(c),d=n(3),p=a(d),h=n(8),f=a(h),m=n(4),g=a(m),v=n(5),y=a(v),b=n(7),E=a(b),w=n(1),C=a(w),P=n(2),S=a(P),k=1e3/60,T=function(e){function t(n){var a=this;r(this,t),e.call(this,n),this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyles=null,this.clearUnreadPropStyle=function(e){for(var t=a.state,n=t.currentStyles,r=t.currentVelocities,o=t.lastIdealStyles,i=t.lastIdealVelocities,l=!1,c=0;c<e.length;c++){var u=e[c],d=!1;for(var p in u)if(Object.prototype.hasOwnProperty.call(u,p)){var h=u[p];"number"==typeof h&&(d||(d=!0,l=!0,n[c]=s({},n[c]),r[c]=s({},r[c]),o[c]=s({},o[c]),i[c]=s({},i[c])),n[c][p]=h,r[c][p]=0,o[c][p]=h,i[c][p]=0)}}l&&a.setState({currentStyles:n,currentVelocities:r,lastIdealStyles:o,lastIdealVelocities:i})},this.startAnimationIfNecessary=function(){a.animationID=y.default(function(e){var t=a.props.styles(a.state.lastIdealStyles);if(i(a.state.currentStyles,t,a.state.currentVelocities))return a.animationID=null,void(a.accumulatedTime=0);var n=e||g.default(),r=n-a.prevTime;if(a.prevTime=n,a.accumulatedTime=a.accumulatedTime+r,a.accumulatedTime>10*k&&(a.accumulatedTime=0),0===a.accumulatedTime)return a.animationID=null,void a.startAnimationIfNecessary();for(var o=(a.accumulatedTime-Math.floor(a.accumulatedTime/k)*k)/k,s=Math.floor(a.accumulatedTime/k),l=[],c=[],u=[],d=[],p=0;p<t.length;p++){var h=t[p],m={},v={},y={},b={};for(var E in h)if(Object.prototype.hasOwnProperty.call(h,E)){var w=h[E];if("number"==typeof w)m[E]=w,v[E]=0,y[E]=w,b[E]=0;else{for(var C=a.state.lastIdealStyles[p][E],P=a.state.lastIdealVelocities[p][E],S=0;S<s;S++){var T=f.default(k/1e3,C,P,w.val,w.stiffness,w.damping,w.precision);C=T[0],P=T[1]}var D=f.default(k/1e3,C,P,w.val,w.stiffness,w.damping,w.precision),A=D[0],x=D[1];m[E]=C+(A-C)*o,v[E]=P+(x-P)*o,y[E]=C,b[E]=P}}u[p]=m,d[p]=v,l[p]=y,c[p]=b}a.animationID=null,a.accumulatedTime-=s*k,a.setState({currentStyles:u,currentVelocities:d,lastIdealStyles:l,lastIdealVelocities:c}),a.unreadPropStyles=null,a.startAnimationIfNecessary()})},this.state=this.defaultState()}return o(t,e),l(t,null,[{key:"propTypes",value:{defaultStyles:S.default.arrayOf(S.default.objectOf(S.default.number)),styles:S.default.func.isRequired,children:S.default.func.isRequired},enumerable:!0}]),t.prototype.defaultState=function(){var e=this.props,t=e.defaultStyles,n=e.styles,a=t||n().map(p.default),r=a.map(function(e){return u.default(e)});return{currentStyles:a,currentVelocities:r,lastIdealStyles:a,lastIdealVelocities:r}},t.prototype.componentDidMount=function(){this.prevTime=g.default(),this.startAnimationIfNecessary()},t.prototype.componentWillReceiveProps=function(e){null!=this.unreadPropStyles&&this.clearUnreadPropStyle(this.unreadPropStyles),this.unreadPropStyles=e.styles(this.state.lastIdealStyles),null==this.animationID&&(this.prevTime=g.default(),this.startAnimationIfNecessary())},t.prototype.componentWillUnmount=function(){null!=this.animationID&&(y.default.cancel(this.animationID),this.animationID=null)},t.prototype.render=function(){var e=this.props.children(this.state.currentStyles);return e&&C.default.Children.only(e)},t}(C.default.Component);t.default=T,e.exports=t.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t,n){var a=t;return null==a?e.map(function(e,t){return{key:e.key,data:e.data,style:n[t]}}):e.map(function(e,t){for(var r=0;r<a.length;r++)if(a[r].key===e.key)return{key:a[r].key,data:a[r].data,style:n[t]};return{key:e.key,data:e.data,style:n[t]}})}function s(e,t,n,a){if(a.length!==t.length)return!1;for(var r=0;r<a.length;r++)if(a[r].key!==t[r].key)return!1;for(var r=0;r<a.length;r++)if(!S.default(e[r],t[r].style,n[r]))return!1;return!0}function l(e,t,n,a,r,o,i,s,l){for(var c=y.default(a,r,function(e,a){var r=t(a);return null==r?(n({key:a.key,data:a.data}),null):S.default(o[e],r,i[e])?(n({key:a.key,data:a.data}),null):{key:a.key,data:a.data,style:r}}),u=[],d=[],h=[],f=[],m=0;m<c.length;m++){for(var g=c[m],v=null,b=0;b<a.length;b++)if(a[b].key===g.key){v=b;break}if(null==v){var E=e(g);u[m]=E,h[m]=E;var w=p.default(g.style);d[m]=w,f[m]=w}else u[m]=o[v],h[m]=s[v],d[m]=i[v],f[m]=l[v]}return[c,u,d,h,f]}t.__esModule=!0;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),d=n(6),p=a(d),h=n(3),f=a(h),m=n(8),g=a(m),v=n(27),y=a(v),b=n(4),E=a(b),w=n(5),C=a(w),P=n(7),S=a(P),k=n(1),T=a(k),D=n(2),A=a(D),x=1e3/60,O=function(e){function t(n){var a=this;r(this,t),e.call(this,n),this.unmounting=!1,this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyles=null,this.clearUnreadPropStyle=function(e){for(var t=l(a.props.willEnter,a.props.willLeave,a.props.didLeave,a.state.mergedPropsStyles,e,a.state.currentStyles,a.state.currentVelocities,a.state.lastIdealStyles,a.state.lastIdealVelocities),n=t[0],r=t[1],o=t[2],i=t[3],s=t[4],u=0;u<e.length;u++){var d=e[u].style,p=!1;for(var h in d)if(Object.prototype.hasOwnProperty.call(d,h)){var f=d[h];"number"==typeof f&&(p||(p=!0,r[u]=c({},r[u]),o[u]=c({},o[u]),i[u]=c({},i[u]),s[u]=c({},s[u]),n[u]={key:n[u].key,data:n[u].data,style:c({},n[u].style)}),r[u][h]=f,o[u][h]=0,i[u][h]=f,s[u][h]=0,n[u].style[h]=f)}}a.setState({currentStyles:r,currentVelocities:o,mergedPropsStyles:n,lastIdealStyles:i,lastIdealVelocities:s})},this.startAnimationIfNecessary=function(){a.unmounting||(a.animationID=C.default(function(e){if(!a.unmounting){var t=a.props.styles,n="function"==typeof t?t(i(a.state.mergedPropsStyles,a.unreadPropStyles,a.state.lastIdealStyles)):t;if(s(a.state.currentStyles,n,a.state.currentVelocities,a.state.mergedPropsStyles))return a.animationID=null,void(a.accumulatedTime=0);var r=e||E.default(),o=r-a.prevTime;if(a.prevTime=r,a.accumulatedTime=a.accumulatedTime+o,a.accumulatedTime>10*x&&(a.accumulatedTime=0),0===a.accumulatedTime)return a.animationID=null,void a.startAnimationIfNecessary();for(var c=(a.accumulatedTime-Math.floor(a.accumulatedTime/x)*x)/x,u=Math.floor(a.accumulatedTime/x),d=l(a.props.willEnter,a.props.willLeave,a.props.didLeave,a.state.mergedPropsStyles,n,a.state.currentStyles,a.state.currentVelocities,a.state.lastIdealStyles,a.state.lastIdealVelocities),p=d[0],h=d[1],f=d[2],m=d[3],v=d[4],y=0;y<p.length;y++){var b=p[y].style,w={},C={},P={},S={};for(var k in b)if(Object.prototype.hasOwnProperty.call(b,k)){var T=b[k];if("number"==typeof T)w[k]=T,C[k]=0,P[k]=T,S[k]=0;else{for(var D=m[y][k],A=v[y][k],O=0;O<u;O++){var N=g.default(x/1e3,D,A,T.val,T.stiffness,T.damping,T.precision);D=N[0],A=N[1]}var _=g.default(x/1e3,D,A,T.val,T.stiffness,T.damping,T.precision),M=_[0],R=_[1];w[k]=D+(M-D)*c,C[k]=A+(R-A)*c,P[k]=D,S[k]=A}}m[y]=P,v[y]=S,h[y]=w,f[y]=C}a.animationID=null,a.accumulatedTime-=u*x,a.setState({currentStyles:h,currentVelocities:f,lastIdealStyles:m,lastIdealVelocities:v,mergedPropsStyles:p}),a.unreadPropStyles=null,a.startAnimationIfNecessary()}}))},this.state=this.defaultState()}return o(t,e),u(t,null,[{key:"propTypes",value:{defaultStyles:A.default.arrayOf(A.default.shape({key:A.default.string.isRequired,data:A.default.any,style:A.default.objectOf(A.default.number).isRequired})),styles:A.default.oneOfType([A.default.func,A.default.arrayOf(A.default.shape({key:A.default.string.isRequired,data:A.default.any,style:A.default.objectOf(A.default.oneOfType([A.default.number,A.default.object])).isRequired}))]).isRequired,children:A.default.func.isRequired,willEnter:A.default.func,willLeave:A.default.func,didLeave:A.default.func},enumerable:!0},{key:"defaultProps",value:{willEnter:function(e){return f.default(e.style)},willLeave:function(){return null},didLeave:function(){}},enumerable:!0}]),t.prototype.defaultState=function(){var e=this.props,t=e.defaultStyles,n=e.styles,a=e.willEnter,r=e.willLeave,o=e.didLeave,i="function"==typeof n?n(t):n,s=void 0;s=null==t?i:t.map(function(e){for(var t=0;t<i.length;t++)if(i[t].key===e.key)return i[t];return e});var c=null==t?i.map(function(e){return f.default(e.style)}):t.map(function(e){return f.default(e.style)}),u=null==t?i.map(function(e){return p.default(e.style)}):t.map(function(e){return p.default(e.style)}),d=l(a,r,o,s,i,c,u,c,u),h=d[0];return{currentStyles:d[1],currentVelocities:d[2],lastIdealStyles:d[3],lastIdealVelocities:d[4],mergedPropsStyles:h}},t.prototype.componentDidMount=function(){this.prevTime=E.default(),this.startAnimationIfNecessary()},t.prototype.componentWillReceiveProps=function(e){this.unreadPropStyles&&this.clearUnreadPropStyle(this.unreadPropStyles);var t=e.styles;this.unreadPropStyles="function"==typeof t?t(i(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.lastIdealStyles)):t,null==this.animationID&&(this.prevTime=E.default(),this.startAnimationIfNecessary())},t.prototype.componentWillUnmount=function(){this.unmounting=!0,null!=this.animationID&&(C.default.cancel(this.animationID),this.animationID=null)},t.prototype.render=function(){var e=i(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.currentStyles),t=this.props.children(e);return t&&T.default.Children.only(t)},t}(T.default.Component);t.default=O,e.exports=t.default},function(e,t){"use strict";function n(e,t,n){for(var a={},r=0;r<e.length;r++)a[e[r].key]=r;for(var o={},r=0;r<t.length;r++)o[t[r].key]=r;for(var i=[],r=0;r<t.length;r++)i[r]=t[r];for(var r=0;r<e.length;r++)if(!Object.prototype.hasOwnProperty.call(o,e[r].key)){var s=n(r,e[r]);null!=s&&i.push(s)}return i.sort(function(e,n){var r=o[e.key],i=o[n.key],s=a[e.key],l=a[n.key];if(null!=r&&null!=i)return o[e.key]-o[n.key];if(null!=s&&null!=l)return a[e.key]-a[n.key];if(null!=r){for(var c=0;c<t.length;c++){var u=t[c].key;if(Object.prototype.hasOwnProperty.call(a,u)){if(r<o[u]&&l>a[u])return-1;if(r>o[u]&&l<a[u])return 1}}return 1}for(var c=0;c<t.length;c++){var u=t[c].key;if(Object.prototype.hasOwnProperty.call(a,u)){if(i<o[u]&&s>a[u])return 1;if(i>o[u]&&s<a[u])return-1}}return-1})}t.__esModule=!0,t.default=n,e.exports=t.default},function(e,t,n){"use strict";function a(){}t.__esModule=!0,t.default=a,e.exports=t.default},function(e,t,n){"use strict";function a(e,t){return r({},s,t,{val:e})}t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.default=a;var o=n(11),i=function(e){return e&&e.__esModule?e:{default:e}}(o),s=r({},i.default.noWobble,{precision:.01});e.exports=t.default},function(e,t,n){function a(e,t){for(var n=0;n<e.length;n++){var a=e[n],r=h[a.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](a.parts[o]);for(;o<a.parts.length;o++)r.parts.push(c(a.parts[o],t))}else{for(var i=[],o=0;o<a.parts.length;o++)i.push(c(a.parts[o],t));h[a.id]={id:a.id,refs:1,parts:i}}}}function r(e){for(var t=[],n={},a=0;a<e.length;a++){var r=e[a],o=r[0],i=r[1],s=r[2],l=r[3],c={css:i,media:s,sourceMap:l};n[o]?n[o].parts.push(c):t.push(n[o]={id:o,parts:[c]})}return t}function o(e,t){var n=g(),a=b[b.length-1];if("top"===e.insertAt)a?a.nextSibling?n.insertBefore(t,a.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),b.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function i(e){e.parentNode.removeChild(e);var t=b.indexOf(e);t>=0&&b.splice(t,1)}function s(e){var t=document.createElement("style");return t.type="text/css",o(e,t),t}function l(e){var t=document.createElement("link");return t.rel="stylesheet",o(e,t),t}function c(e,t){var n,a,r;if(t.singleton){var o=y++;n=v||(v=s(t)),a=u.bind(null,n,o,!1),r=u.bind(null,n,o,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=l(t),a=p.bind(null,n),r=function(){i(n),n.href&&URL.revokeObjectURL(n.href)}):(n=s(t),a=d.bind(null,n),r=function(){i(n)});return a(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;a(e=t)}else r()}}function u(e,t,n,a){var r=n?"":a.css;if(e.styleSheet)e.styleSheet.cssText=E(t,r);else{var o=document.createTextNode(r),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(o,i[t]):e.appendChild(o)}}function d(e,t){var n=t.css,a=t.media;if(a&&e.setAttribute("media",a),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function p(e,t){var n=t.css,a=t.sourceMap;a&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */");var r=new Blob([n],{type:"text/css"}),o=e.href;e.href=URL.createObjectURL(r),o&&URL.revokeObjectURL(o)}var h={},f=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},m=f(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),g=f(function(){return document.head||document.getElementsByTagName("head")[0]}),v=null,y=0,b=[];e.exports=function(e,t){t=t||{},"undefined"==typeof t.singleton&&(t.singleton=m()),"undefined"==typeof t.insertAt&&(t.insertAt="bottom");var n=r(e);return a(n,t),function(e){for(var o=[],i=0;i<n.length;i++){var s=n[i],l=h[s.id];l.refs--,o.push(l)}if(e){a(r(e),t)}for(var i=0;i<o.length;i++){var l=o[i];if(0===l.refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete h[l.id]}}}};var E=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t,n){var a=n(16);"string"==typeof a&&(a=[[e.id,a,""]]),n(30)(a,{}),a.locals&&(e.exports=a.locals)}])})},229:function(e,t,n){"use strict";(function(e){function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),s=n.n(i),l=n(14),c=n.n(l),u=n(24),d=n(15),p=n(2),h=n(3),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),m=e,g=function(e){function t(e){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));if(n.hideAll=n.hideAll.bind(n),n.onArrowOut=n.onArrowOut.bind(n),n.upDownInterval=60,n.trigInterval=500,n.upDownTimer=0,n.upDownTrigTimer=0,n.regExp=null,n.dnum=0,n.isKeyPressUp=!1,n.isKeyPressDown=!1,n.upOrDown=0,n.props.step){var o=n.props.step;n.regExp=n.generateRegExp(String(o)),n.step=o,n.step&&n.generateInputStep(n.step)}else n.props.value&&(n.generateStep(n.props.value),n.regExp=n.generateRegExp(String(n.step)));n.value=n.props.value||n.props.defaultValue||"";var i=n.getRangeValidMsg(n.value,n.props);return n.state={value:n.value,hide:!0,hideMsg:!0,valError:i.length>0,msg:i},n}return o(t,e),f(t,[{key:"generateRegExp",value:function(e){var t=d.a.getDotDigit(e);if(t>0)return this.dnum=t,new RegExp("([0-9]+\\.[0-9]{"+t+"})[0-9]*","g");if(-1!=String(e).indexOf("e-")){var n=String(e).split("e-"),t=Number(d.a.getDotDigit(n[0]))+Number(n[1]);return this.dnum=t,new RegExp("([0-9]+\\.[0-9]{"+t+"})[0-9]*","g")}return this.dnum=0,new RegExp("([0-9]+)\\.[0-9]*","g")}},{key:"val",value:function(){if(!this.state.valError)return this.state.value}},{key:"activeInput",value:function(e){this.setState({hideMsg:!1})}},{key:"unActiveInput",value:function(e){this.setState({hideMsg:!0})}},{key:"calcAddOrSub",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this.state.value;if(isNaN(n)&&(n=0),!n){if("add"==e&&this.props.hasOwnProperty("min"))return this.props.min;if("sub"==e&&this.props.hasOwnProperty("max"))return this.props.max}if(this.props.hasOwnProperty("max")&&"add"==e&&Number(n)>=Number(this.props.max))return n;if(this.props.hasOwnProperty("min")&&"sub"==e&&Number(n)<=Number(this.props.min))return n;var a=this.step;return t>1?a=Number(d.a.accMul(a,t)):this.props.auto&&(a=this.generateAutoStep(n,e)),"add"==e?String(d.a.accAdd(n||0,a)):String(d.a.accSubtr(n||0,a))}},{key:"calcArrow",value:function(e,t){var n=this.calcAddOrSub(e,t);n=this.getValidValueRange(n),this.onChange(n,this.props)}},{key:"trigLoop",value:function(e,t){var n=this;this.releaseTimer(),this.upDownTimer=h.a.setTimer(function(){n.calcArrow(e,t)},this.upDownInterval,this)}},{key:"timeoutTrigger",value:function(e,t){var n=this;this.releaseTimer(),this.upDownTrigTimer=h.a.setTimer(function(){n.trigLoop(e,t)},this.trigInterval,this,!0)}},{key:"releaseTimer",value:function(){this.upDownTrigTimer&&(clearTimeout(this.upDownTrigTimer),this.upDownTrigTimer=0),this.upDownTimer&&(clearInterval(this.upDownTimer),this.upDownTimer=0)}},{key:"onArrowUp",value:function(e,t){e&&(e.cancelable&&(e.defaultPrevented||e.preventDefault()),e.stopPropagation()),!this.props.disabled&&this.step&&(this.upOrDown=1,this.timeoutTrigger("add",t))}},{key:"onArrowUpOut",value:function(e,t){e&&(e.cancelable&&(e.defaultPrevented||e.preventDefault()),e.stopPropagation()),!this.props.disabled&&this.step&&(this.upOrDown=0,this.releaseTimer(),this.calcArrow("add",t))}},{key:"onArrowDown",value:function(e,t){e&&(e.cancelable&&(e.defaultPrevented||e.preventDefault()),e.stopPropagation()),!this.props.disabled&&this.step&&(this.upOrDown=2,this.timeoutTrigger("sub",t))}},{key:"onArrowDownOut",value:function(e,t){e&&(e.cancelable&&(e.defaultPrevented||e.preventDefault()),e.stopPropagation()),!this.props.disabled&&this.step&&(this.upOrDown=0,this.releaseTimer(),this.calcArrow("sub",t))}},{key:"onArrowOut",value:function(e){1==this.upOrDown?this.onArrowUpOut(e):2==this.upOrDown&&this.onArrowDownOut(e)}},{key:"componentDidMount",value:function(){window.addEventListener("click",this.hideAll),window.addEventListener("mouseup",this.onArrowOut)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("click",this.hideAll),window.removeEventListener("mouseup",this.onArrowOut)}},{key:"componentWillReceiveProps",value:function(e){var t=e.value,n=t;if(t!=this.value)t=isNaN(t)?"":t,t&&(this.regExp?d.a.getDotDigit(t)>this.dnum&&(t=String(t).replace(this.regExp,"$1"),n!=t&&this.props.onChange&&this.props.onChange(t)):(this.regExp=this.generateRegExp(String(t)),this.generateStep(t))),t&&this.step&&(t=this.limitValue(t,this.step,e)),this.onChange(t,e);else if(e.disabled!=this.props.disabled){var a=this.getRangeValidMsg(this.value,e);this.setState({msg:a,valError:a.length>0,hideMsg:!1})}}},{key:"limitValue",value:function(e,t,n){if(Math.abs(Number(e))<Number(t)){if(n.hasOwnProperty("min")){if(Number(e)<Number(n.min))return String(n.min);if(0==(Number(e)-Number(n.min))%Number(t))return e}return String(t)}return e=String(d.a.accMul(d.a.round(d.a.accDiv(e,t)),t))}},{key:"generateAutoStep",value:function(e,t){var n,a=String(e),r=a.indexOf(".");return n=-1!=r?1/Math.pow(10,a.length-(r+1)):Math.pow(10,a.length-1),"add"==t?n:Number(n)==Number(e)?-1!=r?1/Math.pow(10,a.length-r):Math.pow(10,a.length-2):n}},{key:"generateStep",value:function(e){if(!this.step){var t=String(e).indexOf(".");this.step=-1!=t?1/Math.pow(10,String(e).length-(t+1)):1,this.generateInputStep(this.step)}}},{key:"generateInputStep",value:function(e){var t=parseFloat(e).toString(),n=t.indexOf(".");if(-1==n){if(-1==t.indexOf("e-"))this.inputStep=1;else{var a=t.split("e-"),r=Number(d.a.getDotDigit(a[0]))+Number(a[1]);this.inputStep=d.a.accDiv(1,Math.pow(10,r))}}else{var o=t.length;this.inputStep=d.a.accDiv(1,Math.pow(10,o-1-n))}}},{key:"changeNumberInput",value:function(e){e.preventDefault();var t=m(e.target).val();if(t!=String(this.state.value)&&(t=t.replace(/[^\-0-9.]/g,""),!isNaN(t)||"-"==t)){if("-"!=t){this.regExp&&d.a.getDotDigit(t)>this.dnum&&(t=t.replace(this.regExp,"$1"));var n=Number(this.inputStep);(n>=1||n<1&&d.a.getDotDigit(t)>=this.dnum)&&t&&this.inputStep&&(t=this.limitValue(t,this.inputStep,this.props))}this.onChange(t,this.props)}}},{key:"onChange",value:function(e,t){if(String(this.state.value)!=e){var n,a=this.getRangeValidMsg(e,t);a.length>0?t.hasOwnProperty("max")&&Number(e)>t.max?(e=this.value,n=!1):(this.value=e,n=!0):(this.value=e,n=!1),this.setState({value:e,valError:n,msg:a,hideMsg:!1}),t.onChange&&t.onChange(e)}}},{key:"showOptions",value:function(e){e.preventDefault(),e.stopPropagation(),this.setState({hide:!this.state.hide})}},{key:"hideAll",value:function(){this.state.hide||this.setState({hide:!0})}},{key:"handleKeyPress",value:function(e){if(!this.props.disabled){var t=e||window.event||arguments.callee.caller.arguments[0];return!t||38!=t.keyCode&&33!=t.keyCode?!t||40!=t.keyCode&&34!=t.keyCode||(this.isKeyPressDown||(this.isKeyPressDown=!0,this.onArrowDown(null,34==t.keyCode?10:1)),t.preventDefault()):(this.isKeyPressUp||(this.isKeyPressUp=!0,this.onArrowUp(null,33==t.keyCode?10:1)),t.preventDefault()),!1}}},{key:"handleKeyRelease",value:function(e){if(!this.props.disabled){var t=e||window.event||arguments.callee.caller.arguments[0];return!t||38!=t.keyCode&&33!=t.keyCode?!t||40!=t.keyCode&&34!=t.keyCode||(this.onArrowDownOut(null,34==t.keyCode?10:1),this.isKeyPressDown=!1,t.preventDefault()):(this.onArrowUpOut(null,33==t.keyCode?10:1),this.isKeyPressUp=!1,t.preventDefault()),!1}}},{key:"valToLabel",value:function(e){return e&&this.props.labelFormat?this.props.labelFormat.replace("%s",String(e)):e&&this.props.valuePercent?String(100*e)+"%":e}},{key:"getValidValueRange",value:function(e){return this.props.hasOwnProperty("max")&&Number(e)>this.props.max?e=this.props.max:this.props.hasOwnProperty("min")&&Number(e)<this.props.min&&(e=this.props.min),e}},{key:"onClickOption",value:function(e){if(this.props.valuePercent)if(this.props.onOptionChange){var t=this.props.onOptionChange(e);t=this.getValidValueRange(t),this.onChange(t,this.props)}else this.state.value&&this.onChange(String(d.a.accMul(e,this.state.value,0)),this.props);else this.onChange(e,this.props)}},{key:"getRangeValidMsg",value:function(e,t){var n=[];return t.disabled||(t.isRequire||""!==e)&&(t.hasOwnProperty("min")&&(!e||"-"==e||Number(e)<t.min)&&n.push(p.a.lang("trade.tip.min",t.min)),t.hasOwnProperty("max")&&(!e||"-"==e||Number(e)>t.max)&&n.push(p.a.lang("trade.tip.max",t.max))),n}},{key:"render",value:function(){var e=this,t=this.props,n=t.disabled,a=t.placeholder,r=t.className,o=t.inputClassName,i=t.style,l=t.unitStyle,c=t.options,u=t.unit,d=this.state,p=d.value,h=d.hide,f=d.msg,m=d.hideMsg,g=d.valError,v=g?r?r+" slider-error":"slider-error":r,y="";f.length>0&&(y=f.join(" "));var b=this,E=window.isMobile;return s.a.createElement("div",{className:v+(E?" opt f-clear":"")},u&&s.a.createElement("div",{className:"slider-unit",style:Object.assign(l||{},c?{right:"38px"}:{})},s.a.createElement("span",null,u)),E&&s.a.createElement("span",{className:"cancel-c fl "+(n?"disable":""),onTouchStart:function(t){n||e.onArrowDown(t)}},s.a.createElement("i",{className:"iconfont icon-minus fs12"})),E?s.a.createElement("input",{type:"number",pattern:"\\d*",value:p,className:o,style:i,placeholder:a,disabled:n,onChange:this.changeNumberInput.bind(b),onFocus:this.activeInput.bind(this),onBlur:this.unActiveInput.bind(this),onKeyDown:this.handleKeyPress.bind(this),onKeyUp:this.handleKeyRelease.bind(this)}):s.a.createElement("input",{type:"text",value:p,className:o,style:i,placeholder:a,disabled:n,onChange:this.changeNumberInput.bind(b),onFocus:this.activeInput.bind(this),onBlur:this.unActiveInput.bind(this),onKeyDown:this.handleKeyPress.bind(this),onKeyUp:this.handleKeyRelease.bind(this)}),E&&s.a.createElement("span",{className:"confirm-c "+(n?"disable":""),onTouchStart:function(t){n||e.onArrowUp(t)}},s.a.createElement("i",{className:"iconfont icon-add fs12 pd0"})),!E&&s.a.createElement("div",{className:"arrow-box"},s.a.createElement("span",{className:n?"iconfont icon-dropUp arrowup disable":"iconfont icon-dropUp arrowup",onMouseDown:function(t){n||e.onArrowUp(t)}}),s.a.createElement("span",{className:n?"iconfont icon-dropDown arrowdown disable":"iconfont icon-dropDown arrowdown",onMouseDown:function(t){n||e.onArrowDown(t)}})),!m&&y&&s.a.createElement("div",{className:"slider-tip"},s.a.createElement("span",null,y)),c&&s.a.createElement("div",{className:"selectMenuBox"},s.a.createElement("i",{className:"iconfont icon-xiala fem15",onClick:function(t){n||e.showOptions(t)}}),!h&&s.a.createElement("ul",{className:"select-menu"},c.map(function(t,n){return s.a.createElement("li",{className:e.props.valuePercent||p!=t?"":"active",onClick:e.onClickOption.bind(b,t),key:n},e.valToLabel(t))}))))}}]),t}(u.a);g.defaultProps={disabled:!1,auto:!1,isRequire:!0},g.propTypes={onChange:c.a.func,disabled:c.a.bool,defaultValue:c.a.oneOfType([c.a.string,c.a.number]),value:c.a.oneOfType([c.a.string,c.a.number]),placeholder:c.a.string,className:c.a.string,inputClassName:c.a.string,style:c.a.object,unitStyle:c.a.object,step:c.a.oneOfType([c.a.string,c.a.number]),options:c.a.array,labelFormat:c.a.string,min:c.a.number,max:c.a.number,valuePercent:c.a.bool,unit:c.a.string,auto:c.a.bool,isRequire:c.a.bool},t.a=g}).call(t,n(13))},230:function(e,t,n){"use strict";(function(e){function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),s=n.n(i),l=n(14),c=n.n(l),u=n(24),d=n(15),p=n(3),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),f=e,m=function(e){function t(e){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));if(n.upDownInterval=60,n.trigInterval=500,n.upDownTimer=0,n.upDownTrigTimer=0,n.isKeyPressUp=!1,n.isKeyPressDown=!1,n.onArrowOut=n.onArrowOut.bind(n),n.upOrDown=0,n.regExp=null,n.props.step){var o=n.props.step;n.regExp=n.generateRegExp(String(o)),n.step=o,n.step&&n.generateInputStep(n.step)}else n.props.value&&(n.generateStep(n.props.value),n.regExp=n.generateRegExp(String(n.step)));return n.value=n.props.value||n.props.defaultValue||"",n.state={value:n.value},n}return o(t,e),h(t,[{key:"generateRegExp",value:function(e){var t=d.a.getDotDigit(e);if(t>0)return this.dnum=t,new RegExp("([0-9]+\\.[0-9]{"+t+"})[0-9]*","g");if(-1!=String(e).indexOf("e-")){var t=parseInt(String(e).split("e-")[1]);return this.dnum=t,new RegExp("([0-9]+\\.[0-9]{"+t+"})[0-9]*","g")}return this.dnum=0,new RegExp("([0-9]+)\\.[0-9]*","g")}},{key:"calcAddOrSub",value:function(e){var t=this.state.value;if(isNaN(t)&&(t=0),!t){if("add"==e&&this.props.hasOwnProperty("min"))return this.props.min;if("sub"==e&&this.props.hasOwnProperty("max"))return this.props.max}if(this.props.hasOwnProperty("max")&&"add"==e&&Number(t)>=Number(this.props.max))return t;if(this.props.hasOwnProperty("min")&&"sub"==e&&Number(t)<=Number(this.props.min))return t;var n=this.step;return"add"==e?String(d.a.accAdd(t||0,n)):String(d.a.accSubtr(t||0,n))}},{key:"calcArrow",value:function(e){var t=this.calcAddOrSub(e);this.onChange(t,this.props)}},{key:"trigLoop",value:function(e){var t=this;this.releaseTimer(),this.upDownTimer=p.a.setTimer(function(){t.calcArrow(e)},this.upDownInterval,this)}},{key:"timeoutTrigger",value:function(e){var t=this;this.releaseTimer(),this.upDownTrigTimer=p.a.setTimer(function(){t.trigLoop(e)},this.trigInterval,this,!0)}},{key:"releaseTimer",value:function(){this.upDownTrigTimer&&(clearTimeout(this.upDownTrigTimer),this.upDownTrigTimer=0),this.upDownTimer&&(clearInterval(this.upDownTimer),this.upDownTimer=0)}},{key:"onArrowUp",value:function(e){e&&(e.preventDefault(),e.stopPropagation()),!this.props.disabled&&this.step&&(this.upOrDown=1,this.timeoutTrigger("add"))}},{key:"onArrowUpOut",value:function(e){e&&(e.preventDefault(),e.stopPropagation()),!this.props.disabled&&this.step&&(this.upOrDown=0,this.releaseTimer(),this.calcArrow("add"))}},{key:"onArrowDown",value:function(e){e&&(e.preventDefault(),e.stopPropagation()),!this.props.disabled&&this.step&&(this.upOrDown=2,this.timeoutTrigger("sub"))}},{key:"onArrowDownOut",value:function(e){e&&(e.preventDefault(),e.stopPropagation()),!this.props.disabled&&this.step&&(this.upOrDown=0,this.releaseTimer(),this.calcArrow("sub"))}},{key:"onArrowOut",value:function(e){1==this.upOrDown?this.onArrowUpOut(e):2==this.upOrDown&&this.onArrowDownOut(e)}},{key:"handleKeyPress",value:function(e){if(!this.props.disabled){var t=e||window.event||arguments.callee.caller.arguments[0];return!t||38!=t.keyCode&&33!=t.keyCode?!t||40!=t.keyCode&&34!=t.keyCode||(this.isKeyPressDown||(this.isKeyPressDown=!0,this.onArrowDown()),t.preventDefault()):(this.isKeyPressUp||(this.isKeyPressUp=!0,this.onArrowUp()),t.preventDefault()),!1}}},{key:"handleKeyRelease",value:function(e){if(!this.props.disabled){var t=e||window.event||arguments.callee.caller.arguments[0];return!t||38!=t.keyCode&&33!=t.keyCode?!t||40!=t.keyCode&&34!=t.keyCode||(this.onArrowDownOut(),this.isKeyPressDown=!1,t.preventDefault()):(this.onArrowUpOut(),this.isKeyPressUp=!1,t.preventDefault()),!1}}},{key:"componentWillReceiveProps",value:function(e){var t=e.value,n=t;t!=this.value&&(t=isNaN(t)?"":t,t&&(this.regExp?d.a.getDotDigit(t)>this.dnum&&(t=String(t).replace(this.regExp,"$1"),n!=t&&this.props.onChange&&this.props.onChange(t)):(this.regExp=this.generateRegExp(String(t)),this.generateStep(t))),t&&this.step&&(t=this.limitValue(t,this.step)),this.onChange(t))}},{key:"limitValue",value:function(e,t){return Math.abs(Number(e))<Number(t)?this.props.hasOwnProperty("min")&&Number(e)<=Number(this.props.min)?String(this.props.min):String(t):e=String(d.a.accMul(d.a.round(d.a.accDiv(e,t)),t))}},{key:"generateStep",value:function(e){if(!this.step){var t=String(e).indexOf(".");this.step=-1!=t?1/Math.pow(10,String(e).length-(t+1)):1,this.generateInputStep(this.step)}}},{key:"generateInputStep",value:function(e){var t=String(e),n=t.indexOf(".");if(-1==n)this.inputStep=1;else{var a=t.length;this.inputStep=d.a.accDiv(1,Math.pow(10,a-1-n))}}},{key:"changeNumberInput",value:function(e){e.preventDefault();var t=f(e.target).val();if(t=t.replace(/[^0-9.]/g,""),!isNaN(t)){this.regExp&&d.a.getDotDigit(t)>this.dnum&&(t=t.replace(this.regExp,"$1"));var n=Number(this.inputStep);(n>=1||n<1&&d.a.getDotDigit(t)>=this.dnum)&&t&&this.inputStep&&(t=this.limitValue(t,this.inputStep)),this.onChange(t)}}},{key:"onChange",value:function(e){this.state.value!=e&&(this.props.hasOwnProperty("max")&&Number(e)>this.props.max&&(e=this.props.max),this.value=e,this.setState({value:e}),this.props.onChange&&this.props.onChange(e))}},{key:"componentDidMount",value:function(){window.addEventListener("mouseup",this.onArrowOut)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("mouseup",this.onArrowOut)}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.name,a=e.disabled,r=e.placeholder,o=e.className,i=e.style,l=this.state.value,c=this;return s.a.createElement("input",{type:"text",id:t,name:n,value:l,style:i,placeholder:r,disabled:a,className:o+(a?" disable":""),onChange:this.changeNumberInput.bind(c),onKeyDown:this.handleKeyPress.bind(this),onKeyUp:this.handleKeyRelease.bind(this)})}}]),t}(u.a);m.defaultProps={},m.propTypes={onChange:c.a.func,id:c.a.string,name:c.a.string,disabled:c.a.bool,defaultValue:c.a.oneOfType([c.a.string,c.a.number]),value:c.a.oneOfType([c.a.string,c.a.number]),placeholder:c.a.string,className:c.a.string,style:c.a.object,step:c.a.oneOfType([c.a.string,c.a.number])},t.a=m}).call(t,n(13))},322:function(e,t,n){(function(e,n){function a(e,t){for(var n=-1,a=null==e?0:e.length,r=0,o=[];++n<a;){var i=e[n];t(i,n,e)&&(o[r++]=i)}return o}function r(e,t){for(var n=-1,a=t.length,r=e.length;++n<a;)e[r+n]=t[n];return e}function o(e,t){for(var n=-1,a=null==e?0:e.length;++n<a;)if(t(e[n],n,e))return!0;return!1}function i(e,t){for(var n=-1,a=Array(e);++n<e;)a[n]=t(n);return a}function s(e,t){return e.has(t)}function l(e,t){return null==e?void 0:e[t]}function c(e){var t=-1,n=Array(e.size);return e.forEach(function(e,a){n[++t]=[a,e]}),n}function u(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function d(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}function p(){this.__data__=St?St(null):{},this.size=0}function h(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function f(e){var t=this.__data__;if(St){var n=t[e];return n===ye?void 0:n}return it.call(t,e)?t[e]:void 0}function m(e){var t=this.__data__;return St?void 0!==t[e]:it.call(t,e)}function g(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=St&&void 0===t?ye:t,this}function v(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}function y(){this.__data__=[],this.size=0}function b(e){var t=this.__data__,n=U(t,e);return!(n<0)&&(n==t.length-1?t.pop():ft.call(t,n,1),--this.size,!0)}function E(e){var t=this.__data__,n=U(t,e);return n<0?void 0:t[n][1]}function w(e){return U(this.__data__,e)>-1}function C(e,t){var n=this.__data__,a=U(n,e);return a<0?(++this.size,n.push([e,t])):n[a][1]=t,this}function P(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}function S(){this.size=0,this.__data__={hash:new d,map:new(Et||v),string:new d}}function k(e){var t=Z(this,e).delete(e);return this.size-=t?1:0,t}function T(e){return Z(this,e).get(e)}function D(e){return Z(this,e).has(e)}function A(e,t){var n=Z(this,e),a=n.size;return n.set(e,t),this.size+=n.size==a?0:1,this}function x(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new P;++t<n;)this.add(e[t])}function O(e){return this.__data__.set(e,ye),this}function N(e){return this.__data__.has(e)}function _(e){var t=this.__data__=new v(e);this.size=t.size}function M(){this.__data__=new v,this.size=0}function R(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function I(e){return this.__data__.get(e)}function L(e){return this.__data__.has(e)}function j(e,t){var n=this.__data__;if(n instanceof v){var a=n.__data__;if(!Et||a.length<ve-1)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new P(a)}return n.set(e,t),this.size=n.size,this}function B(e,t){var n=It(e),a=!n&&Rt(e),r=!n&&!a&&Lt(e),o=!n&&!a&&!r&&jt(e),s=n||a||r||o,l=s?i(e.length,String):[],c=l.length;for(var u in e)!t&&!it.call(e,u)||s&&("length"==u||r&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||te(u,c))||l.push(u);return l}function U(e,t){for(var n=e.length;n--;)if(se(e[n][0],t))return n;return-1}function F(e,t,n){var a=t(e);return It(e)?a:r(a,n(e))}function z(e){return null==e?void 0===e?Ue:_e:mt&&mt in Object(e)?ee(e):oe(e)}function V(e){return he(e)&&z(e)==Ce}function W(e,t,n,a,r){return e===t||(null==e||null==t||!he(e)&&!he(t)?e!==e&&t!==t:H(e,t,n,a,W,r))}function H(e,t,n,a,r,o){var i=It(e),s=It(t),l=i?Pe:Mt(e),c=s?Pe:Mt(t);l=l==Ce?Me:l,c=c==Ce?Me:c;var u=l==Me,d=c==Me,p=l==c;if(p&&Lt(e)){if(!Lt(t))return!1;i=!0,u=!1}if(p&&!u)return o||(o=new _),i||jt(e)?X(e,t,n,a,r,o):G(e,t,l,n,a,r,o);if(!(n&be)){var h=u&&it.call(e,"__wrapped__"),f=d&&it.call(t,"__wrapped__");if(h||f){var m=h?e.value():e,g=f?t.value():t;return o||(o=new _),r(m,g,n,a,o)}}return!!p&&(o||(o=new _),Q(e,t,n,a,r,o))}function K(e){return!(!pe(e)||ae(e))&&(ue(e)?ct:We).test(ie(e))}function Y(e){return he(e)&&de(e.length)&&!!Ke[z(e)]}function q(e){if(!re(e))return yt(e);var t=[];for(var n in Object(e))it.call(e,n)&&"constructor"!=n&&t.push(n);return t}function X(e,t,n,a,r,i){var l=n&be,c=e.length,u=t.length;if(c!=u&&!(l&&u>c))return!1;var d=i.get(e);if(d&&i.get(t))return d==t;var p=-1,h=!0,f=n&Ee?new x:void 0;for(i.set(e,t),i.set(t,e);++p<c;){var m=e[p],g=t[p];if(a)var v=l?a(g,m,p,t,e,i):a(m,g,p,e,t,i);if(void 0!==v){if(v)continue;h=!1;break}if(f){if(!o(t,function(e,t){if(!s(f,t)&&(m===e||r(m,e,n,a,i)))return f.push(t)})){h=!1;break}}else if(m!==g&&!r(m,g,n,a,i)){h=!1;break}}return i.delete(e),i.delete(t),h}function G(e,t,n,a,r,o,i){switch(n){case ze:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Fe:return!(e.byteLength!=t.byteLength||!o(new pt(e),new pt(t)));case ke:case Te:case Ne:return se(+e,+t);case De:return e.name==t.name&&e.message==t.message;case Ie:case je:return e==t+"";case Oe:var s=c;case Le:var l=a&be;if(s||(s=u),e.size!=t.size&&!l)return!1;var d=i.get(e);if(d)return d==t;a|=Ee,i.set(e,t);var p=X(s(e),s(t),a,r,o,i);return i.delete(e),p;case Be:if(Nt)return Nt.call(e)==Nt.call(t)}return!1}function Q(e,t,n,a,r,o){var i=n&be,s=J(e),l=s.length;if(l!=J(t).length&&!i)return!1;for(var c=l;c--;){var u=s[c];if(!(i?u in t:it.call(t,u)))return!1}var d=o.get(e);if(d&&o.get(t))return d==t;var p=!0;o.set(e,t),o.set(t,e);for(var h=i;++c<l;){u=s[c];var f=e[u],m=t[u];if(a)var g=i?a(m,f,u,t,e,o):a(f,m,u,e,t,o);if(!(void 0===g?f===m||r(f,m,n,a,o):g)){p=!1;break}h||(h="constructor"==u)}if(p&&!h){var v=e.constructor,y=t.constructor;v!=y&&"constructor"in e&&"constructor"in t&&!("function"==typeof v&&v instanceof v&&"function"==typeof y&&y instanceof y)&&(p=!1)}return o.delete(e),o.delete(t),p}function J(e){return F(e,fe,_t)}function Z(e,t){var n=e.__data__;return ne(t)?n["string"==typeof t?"string":"hash"]:n.map}function $(e,t){var n=l(e,t);return K(n)?n:void 0}function ee(e){var t=it.call(e,mt),n=e[mt];try{e[mt]=void 0;var a=!0}catch(e){}var r=lt.call(e);return a&&(t?e[mt]=n:delete e[mt]),r}function te(e,t){return!!(t=null==t?we:t)&&("number"==typeof e||He.test(e))&&e>-1&&e%1==0&&e<t}function ne(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function ae(e){return!!st&&st in e}function re(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||at)}function oe(e){return lt.call(e)}function ie(e){if(null!=e){try{return ot.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function se(e,t){return e===t||e!==e&&t!==t}function le(e){return null!=e&&de(e.length)&&!ue(e)}function ce(e,t){return W(e,t)}function ue(e){if(!pe(e))return!1;var t=z(e);return t==Ae||t==xe||t==Se||t==Re}function de(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=we}function pe(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function he(e){return null!=e&&"object"==typeof e}function fe(e){return le(e)?B(e):q(e)}function me(){return[]}function ge(){return!1}var ve=200,ye="__lodash_hash_undefined__",be=1,Ee=2,we=9007199254740991,Ce="[object Arguments]",Pe="[object Array]",Se="[object AsyncFunction]",ke="[object Boolean]",Te="[object Date]",De="[object Error]",Ae="[object Function]",xe="[object GeneratorFunction]",Oe="[object Map]",Ne="[object Number]",_e="[object Null]",Me="[object Object]",Re="[object Proxy]",Ie="[object RegExp]",Le="[object Set]",je="[object String]",Be="[object Symbol]",Ue="[object Undefined]",Fe="[object ArrayBuffer]",ze="[object DataView]",Ve=/[\\^$.*+?()[\]{}|]/g,We=/^\[object .+?Constructor\]$/,He=/^(?:0|[1-9]\d*)$/,Ke={};Ke["[object Float32Array]"]=Ke["[object Float64Array]"]=Ke["[object Int8Array]"]=Ke["[object Int16Array]"]=Ke["[object Int32Array]"]=Ke["[object Uint8Array]"]=Ke["[object Uint8ClampedArray]"]=Ke["[object Uint16Array]"]=Ke["[object Uint32Array]"]=!0,Ke[Ce]=Ke[Pe]=Ke[Fe]=Ke[ke]=Ke[ze]=Ke[Te]=Ke[De]=Ke[Ae]=Ke[Oe]=Ke[Ne]=Ke[Me]=Ke[Ie]=Ke[Le]=Ke[je]=Ke["[object WeakMap]"]=!1;var Ye="object"==typeof e&&e&&e.Object===Object&&e,qe="object"==typeof self&&self&&self.Object===Object&&self,Xe=Ye||qe||Function("return this")(),Ge="object"==typeof t&&t&&!t.nodeType&&t,Qe=Ge&&"object"==typeof n&&n&&!n.nodeType&&n,Je=Qe&&Qe.exports===Ge,Ze=Je&&Ye.process,$e=function(){try{return Ze&&Ze.binding&&Ze.binding("util")}catch(e){}}(),et=$e&&$e.isTypedArray,tt=Array.prototype,nt=Function.prototype,at=Object.prototype,rt=Xe["__core-js_shared__"],ot=nt.toString,it=at.hasOwnProperty,st=function(){var e=/[^.]+$/.exec(rt&&rt.keys&&rt.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),lt=at.toString,ct=RegExp("^"+ot.call(it).replace(Ve,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ut=Je?Xe.Buffer:void 0,dt=Xe.Symbol,pt=Xe.Uint8Array,ht=at.propertyIsEnumerable,ft=tt.splice,mt=dt?dt.toStringTag:void 0,gt=Object.getOwnPropertySymbols,vt=ut?ut.isBuffer:void 0,yt=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),bt=$(Xe,"DataView"),Et=$(Xe,"Map"),wt=$(Xe,"Promise"),Ct=$(Xe,"Set"),Pt=$(Xe,"WeakMap"),St=$(Object,"create"),kt=ie(bt),Tt=ie(Et),Dt=ie(wt),At=ie(Ct),xt=ie(Pt),Ot=dt?dt.prototype:void 0,Nt=Ot?Ot.valueOf:void 0;d.prototype.clear=p,d.prototype.delete=h,d.prototype.get=f,d.prototype.has=m,d.prototype.set=g,v.prototype.clear=y,v.prototype.delete=b,v.prototype.get=E,v.prototype.has=w,v.prototype.set=C,P.prototype.clear=S,P.prototype.delete=k,P.prototype.get=T,P.prototype.has=D,P.prototype.set=A,x.prototype.add=x.prototype.push=O,x.prototype.has=N,_.prototype.clear=M,_.prototype.delete=R,_.prototype.get=I,_.prototype.has=L,_.prototype.set=j;var _t=gt?function(e){return null==e?[]:(e=Object(e),a(gt(e),function(t){return ht.call(e,t)}))}:me,Mt=z;(bt&&Mt(new bt(new ArrayBuffer(1)))!=ze||Et&&Mt(new Et)!=Oe||wt&&"[object Promise]"!=Mt(wt.resolve())||Ct&&Mt(new Ct)!=Le||Pt&&"[object WeakMap]"!=Mt(new Pt))&&(Mt=function(e){var t=z(e),n=t==Me?e.constructor:void 0,a=n?ie(n):"";if(a)switch(a){case kt:return ze;case Tt:return Oe;case Dt:return"[object Promise]";case At:return Le;case xt:return"[object WeakMap]"}return t});var Rt=V(function(){return arguments}())?V:function(e){return he(e)&&it.call(e,"callee")&&!ht.call(e,"callee")},It=Array.isArray,Lt=vt||ge,jt=et?function(e){return function(t){return e(t)}}(et):Y;n.exports=ce}).call(t,n(126),n(154)(e))},323:function(e,t,n){!function(t,a){e.exports=a(n(17),n(0))}(0,function(e,t){return function(e){function t(a){if(n[a])return n[a].exports;var r=n[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,a){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=12)}([function(e,t,n){"use strict";function a(e,t){for(var n=0,a=e.length;n<a;n++)if(t.apply(t,[e[n],n,e]))return e[n]}function r(e){return"function"===typeof e||"[object Function]"===Object.prototype.toString.call(e)}function o(e){return"number"===typeof e&&!isNaN(e)}function i(e){return parseInt(e,10)}function s(e,t,n){if(e[t])return new Error("Invalid prop "+t+" passed to "+n+" - do not set this, set it on the child.")}Object.defineProperty(t,"__esModule",{value:!0}),t.findInArray=a,t.isFunction=r,t.isNum=o,t.int=i,t.dontSetMe=s},function(e,t,n){"use strict";function a(e){return function(){return e}}var r=function(){};r.thatReturns=a,r.thatReturnsFalse=a(!1),r.thatReturnsTrue=a(!0),r.thatReturnsNull=a(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(e){return e},e.exports=r},function(e,t,n){"use strict";function a(e,t,n,a,o,i,s,l){if(r(t),!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,a,o,i,s,l],d=0;c=new Error(t.replace(/%s/g,function(){return u[d++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}}var r=function(e){};"production"!==Object({DRAGGABLE_DEBUG:void 0}).NODE_ENV&&(r=function(e){if(void 0===e)throw new Error("invariant requires an error message argument")}),e.exports=a},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,n){t.exports=e},function(e,t,n){"use strict";function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){return T||(T=(0,P.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(t){return(0,P.isFunction)(e[t])})),!!(0,P.isFunction)(e[T])&&e[T](t)}function o(e,t,n){var a=e;do{if(r(a,t))return!0;if(a===n)return!1;a=a.parentNode}while(a);return!1}function i(e,t,n){e&&(e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener?e.addEventListener(t,n,!0):e["on"+t]=n)}function s(e,t,n){e&&(e.detachEvent?e.detachEvent("on"+t,n):e.removeEventListener?e.removeEventListener(t,n,!0):e["on"+t]=null)}function l(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,P.int)(n.borderTopWidth),t+=(0,P.int)(n.borderBottomWidth)}function c(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,P.int)(n.borderLeftWidth),t+=(0,P.int)(n.borderRightWidth)}function u(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,P.int)(n.paddingTop),t-=(0,P.int)(n.paddingBottom)}function d(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,P.int)(n.paddingLeft),t-=(0,P.int)(n.paddingRight)}function p(e,t){var n=t===t.ownerDocument.body,a=n?{left:0,top:0}:t.getBoundingClientRect();return{x:e.clientX+t.scrollLeft-a.left,y:e.clientY+t.scrollTop-a.top}}function h(e){var t=e.x,n=e.y;return a({},(0,S.browserPrefixToKey)("transform",k.default),"translate("+t+"px,"+n+"px)")}function f(e){return"translate("+e.x+","+e.y+")"}function m(e,t){return e.targetTouches&&(0,P.findInArray)(e.targetTouches,function(e){return t===e.identifier})||e.changedTouches&&(0,P.findInArray)(e.changedTouches,function(e){return t===e.identifier})}function g(e){return e.targetTouches&&e.targetTouches[0]?e.targetTouches[0].identifier:e.changedTouches&&e.changedTouches[0]?e.changedTouches[0].identifier:void 0}function v(e){if(e){var t=e.getElementById("react-draggable-style-el");t||(t=e.createElement("style"),t.type="text/css",t.id="react-draggable-style-el",t.innerHTML=".react-draggable-transparent-selection *::-moz-selection {background: transparent;}\n",t.innerHTML+=".react-draggable-transparent-selection *::selection {background: transparent;}\n",e.getElementsByTagName("head")[0].appendChild(t)),e.body&&E(e.body,"react-draggable-transparent-selection")}}function y(e){try{e&&e.body&&w(e.body,"react-draggable-transparent-selection"),window.getSelection().removeAllRanges()}catch(e){}}function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return C({touchAction:"none"},e)}function E(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)"+t+"(?!\\S)"))||(e.className+=" "+t)}function w(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)"+t+"(?!\\S)","g"),"")}Object.defineProperty(t,"__esModule",{value:!0});var C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.matchesSelector=r,t.matchesSelectorAndParentsTo=o,t.addEvent=i,t.removeEvent=s,t.outerHeight=l,t.outerWidth=c,t.innerHeight=u,t.innerWidth=d,t.offsetXYFromParent=p,t.createCSSTransform=h,t.createSVGTransform=f,t.getTouch=m,t.getTouchIdentifier=g,t.addUserSelectStyles=v,t.removeUserSelectStyles=y,t.styleHacks=b,t.addClassName=E,t.removeClassName=w;var P=n(0),S=n(19),k=function(e){return e&&e.__esModule?e:{default:e}}(S),T=""},function(e,n){e.exports=t},function(e,t,n){if("production"!==Object({DRAGGABLE_DEBUG:void 0}).NODE_ENV){var a="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,r=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===a};e.exports=n(14)(r,!0)}else e.exports=n(17)()},function(e,t,n){"use strict";var a=n(1),r=a;if("production"!==Object({DRAGGABLE_DEBUG:void 0}).NODE_ENV){var o=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];var r=0,o="Warning: "+e.replace(/%s/g,function(){return n[r++]});"undefined"!==typeof console&&console.error(o);try{throw new Error(o)}catch(e){}};r=function(e,t){if(void 0===t)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==t.indexOf("Failed Composite propType: ")&&!e){for(var n=arguments.length,a=Array(n>2?n-2:0),r=2;r<n;r++)a[r-2]=arguments[r];o.apply(void 0,[t].concat(a))}}}e.exports=r},function(e,t,n){"use strict";function a(e,t,n){if(!e.props.bounds)return[t,n];var a=e.props.bounds;a="string"===typeof a?a:u(a);var r=d(e);if("string"===typeof a){var o=r.ownerDocument,i=o.defaultView,s=void 0;if(!((s="parent"===a?r.parentNode:o.querySelector(a))instanceof HTMLElement))throw new Error('Bounds selector "'+a+'" could not find an element.');var l=i.getComputedStyle(r),c=i.getComputedStyle(s);a={left:-r.offsetLeft+(0,p.int)(c.paddingLeft)+(0,p.int)(l.marginLeft),top:-r.offsetTop+(0,p.int)(c.paddingTop)+(0,p.int)(l.marginTop),right:(0,m.innerWidth)(s)-(0,m.outerWidth)(r)-r.offsetLeft+(0,p.int)(c.paddingRight)-(0,p.int)(l.marginRight),bottom:(0,m.innerHeight)(s)-(0,m.outerHeight)(r)-r.offsetTop+(0,p.int)(c.paddingBottom)-(0,p.int)(l.marginBottom)}}return(0,p.isNum)(a.right)&&(t=Math.min(t,a.right)),(0,p.isNum)(a.bottom)&&(n=Math.min(n,a.bottom)),(0,p.isNum)(a.left)&&(t=Math.max(t,a.left)),(0,p.isNum)(a.top)&&(n=Math.max(n,a.top)),[t,n]}function r(e,t,n){return[Math.round(t/e[0])*e[0],Math.round(n/e[1])*e[1]]}function o(e){return"both"===e.props.axis||"x"===e.props.axis}function i(e){return"both"===e.props.axis||"y"===e.props.axis}function s(e,t,n){var a="number"===typeof t?(0,m.getTouch)(e,t):null;if("number"===typeof t&&!a)return null;var r=d(n),o=n.props.offsetParent||r.offsetParent||r.ownerDocument.body;return(0,m.offsetXYFromParent)(a||e,o)}function l(e,t,n){var a=e.state,r=!(0,p.isNum)(a.lastX),o=d(e);return r?{node:o,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:o,deltaX:t-a.lastX,deltaY:n-a.lastY,lastX:a.lastX,lastY:a.lastY,x:t,y:n}}function c(e,t){return{node:t.node,x:e.state.x+t.deltaX,y:e.state.y+t.deltaY,deltaX:t.deltaX,deltaY:t.deltaY,lastX:e.state.x,lastY:e.state.y}}function u(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}function d(e){var t=f.default.findDOMNode(e);if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}Object.defineProperty(t,"__esModule",{value:!0}),t.getBoundPosition=a,t.snapToGrid=r,t.canDragX=o,t.canDragY=i,t.getControlPosition=s,t.createCoreData=l,t.createDraggableData=c;var p=n(0),h=n(4),f=function(e){return e&&e.__esModule?e:{default:e}}(h),m=n(5)},function(e,t,n){"use strict";(function(e){function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(a=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{!a&&s.return&&s.return()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n(6),u=a(c),d=n(7),p=a(d),h=n(4),f=a(h),m=n(5),g=n(9),v=n(0),y=n(11),b=a(y),E={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},w=E.mouse,C=function(e){function t(){var e,n,a,i;r(this,t);for(var l=arguments.length,c=Array(l),u=0;u<l;u++)c[u]=arguments[u];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),a.state={dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null},a.handleDragStart=function(e){if(a.props.onMouseDown(e),!a.props.allowAnyClick&&"number"===typeof e.button&&0!==e.button)return!1;var t=f.default.findDOMNode(a);if(!t||!t.ownerDocument||!t.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var n=t.ownerDocument;if(!(a.props.disabled||!(e.target instanceof n.defaultView.Node)||a.props.handle&&!(0,m.matchesSelectorAndParentsTo)(e.target,a.props.handle,t)||a.props.cancel&&(0,m.matchesSelectorAndParentsTo)(e.target,a.props.cancel,t))){var r=(0,m.getTouchIdentifier)(e);a.setState({touchIdentifier:r});var o=(0,g.getControlPosition)(e,r,a);if(null!=o){var i=o.x,s=o.y,l=(0,g.createCoreData)(a,i,s);(0,b.default)("DraggableCore: handleDragStart: %j",l),(0,b.default)("calling",a.props.onStart);!1!==a.props.onStart(e,l)&&(a.props.enableUserSelectHack&&(0,m.addUserSelectStyles)(n),a.setState({dragging:!0,lastX:i,lastY:s}),(0,m.addEvent)(n,w.move,a.handleDrag),(0,m.addEvent)(n,w.stop,a.handleDragStop))}}},a.handleDrag=function(e){"touchmove"===e.type&&e.preventDefault();var t=(0,g.getControlPosition)(e,a.state.touchIdentifier,a);if(null!=t){var n=t.x,r=t.y;if(Array.isArray(a.props.grid)){var o=n-a.state.lastX,i=r-a.state.lastY,l=(0,g.snapToGrid)(a.props.grid,o,i),c=s(l,2);if(o=c[0],i=c[1],!o&&!i)return;n=a.state.lastX+o,r=a.state.lastY+i}var u=(0,g.createCoreData)(a,n,r);(0,b.default)("DraggableCore: handleDrag: %j",u);if(!1!==a.props.onDrag(e,u))a.setState({lastX:n,lastY:r});else try{a.handleDragStop(new MouseEvent("mouseup"))}catch(e){var d=document.createEvent("MouseEvents");d.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),a.handleDragStop(d)}}},a.handleDragStop=function(e){if(a.state.dragging){var t=(0,g.getControlPosition)(e,a.state.touchIdentifier,a);if(null!=t){var n=t.x,r=t.y,o=(0,g.createCoreData)(a,n,r),i=f.default.findDOMNode(a);i&&a.props.enableUserSelectHack&&(0,m.removeUserSelectStyles)(i.ownerDocument),(0,b.default)("DraggableCore: handleDragStop: %j",o),a.setState({dragging:!1,lastX:NaN,lastY:NaN}),a.props.onStop(e,o),i&&((0,b.default)("DraggableCore: Removing handlers"),(0,m.removeEvent)(i.ownerDocument,w.move,a.handleDrag),(0,m.removeEvent)(i.ownerDocument,w.stop,a.handleDragStop))}}},a.onMouseDown=function(e){return w=E.mouse,a.handleDragStart(e)},a.onMouseUp=function(e){return w=E.mouse,a.handleDragStop(e)},a.onTouchStart=function(e){return w=E.touch,a.handleDragStart(e)},a.onTouchEnd=function(e){return w=E.touch,a.handleDragStop(e)},i=n,o(a,i)}return i(t,e),l(t,[{key:"componentWillUnmount",value:function(){var e=f.default.findDOMNode(this);if(e){var t=e.ownerDocument;(0,m.removeEvent)(t,E.mouse.move,this.handleDrag),(0,m.removeEvent)(t,E.touch.move,this.handleDrag),(0,m.removeEvent)(t,E.mouse.stop,this.handleDragStop),(0,m.removeEvent)(t,E.touch.stop,this.handleDragStop),this.props.enableUserSelectHack&&(0,m.removeUserSelectStyles)(t)}}},{key:"render",value:function(){return u.default.cloneElement(u.default.Children.only(this.props.children),{style:(0,m.styleHacks)(this.props.children.props.style),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]),t}(u.default.Component);C.displayName="DraggableCore",C.propTypes={allowAnyClick:p.default.bool,disabled:p.default.bool,enableUserSelectHack:p.default.bool,offsetParent:function(t,n){if(!0===e.browser&&t[n]&&1!==t[n].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:p.default.arrayOf(p.default.number),handle:p.default.string,cancel:p.default.string,onStart:p.default.func,onDrag:p.default.func,onStop:p.default.func,onMouseDown:p.default.func,className:v.dontSetMe,style:v.dontSetMe,transform:v.dontSetMe},C.defaultProps={allowAnyClick:!1,cancel:null,disabled:!1,enableUserSelectHack:!0,offsetParent:null,handle:null,grid:null,transform:null,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){}},t.default=C}).call(t,n(20))},function(e,t,n){"use strict";function a(){}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a},function(e,t,n){"use strict";var a=n(13).default;e.exports=a,e.exports.default=a,e.exports.DraggableCore=n(10).default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},c=function(){function e(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(a=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{!a&&s.return&&s.return()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),d=n(6),p=a(d),h=n(7),f=a(h),m=n(4),g=a(m),v=n(18),y=a(v),b=n(5),E=n(9),w=n(0),C=n(10),P=a(C),S=n(11),k=a(S),T=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onDragStart=function(e,t){if((0,k.default)("Draggable: onDragStart: %j",t),!1===n.props.onStart(e,(0,E.createDraggableData)(n,t)))return!1;n.setState({dragging:!0,dragged:!0})},n.onDrag=function(e,t){if(!n.state.dragging)return!1;(0,k.default)("Draggable: onDrag: %j",t);var a=(0,E.createDraggableData)(n,t),r={x:a.x,y:a.y};if(n.props.bounds){var o=r.x,i=r.y;r.x+=n.state.slackX,r.y+=n.state.slackY;var s=(0,E.getBoundPosition)(n,r.x,r.y),l=c(s,2),u=l[0],d=l[1];r.x=u,r.y=d,r.slackX=n.state.slackX+(o-r.x),r.slackY=n.state.slackY+(i-r.y),a.x=r.x,a.y=r.y,a.deltaX=r.x-n.state.x,a.deltaY=r.y-n.state.y}if(!1===n.props.onDrag(e,a))return!1;n.setState(r)},n.onDragStop=function(e,t){if(!n.state.dragging)return!1;if(!1===n.props.onStop(e,(0,E.createDraggableData)(n,t)))return!1;(0,k.default)("Draggable: onDragStop: %j",t);var a={dragging:!1,slackX:0,slackY:0};if(Boolean(n.props.position)){var r=n.props.position,o=r.x,i=r.y;a.x=o,a.y=i}n.setState(a)},n.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,slackX:0,slackY:0,isElementSVG:!1},n}return s(t,e),u(t,[{key:"componentWillMount",value:function(){!this.props.position||this.props.onDrag||this.props.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}},{key:"componentDidMount",value:function(){"undefined"!==typeof window.SVGElement&&g.default.findDOMNode(this)instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillReceiveProps",value:function(e){!e.position||this.props.position&&e.position.x===this.props.position.x&&e.position.y===this.props.position.y||this.setState({x:e.position.x,y:e.position.y})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"render",value:function(){var e,t={},n=null,a=Boolean(this.props.position),o=!a||this.state.dragging,i=this.props.position||this.props.defaultPosition,s={x:(0,E.canDragX)(this)&&o?this.state.x:i.x,y:(0,E.canDragY)(this)&&o?this.state.y:i.y};this.state.isElementSVG?n=(0,b.createSVGTransform)(s):t=(0,b.createCSSTransform)(s);var c=this.props,u=c.defaultClassName,d=c.defaultClassNameDragging,h=c.defaultClassNameDragged,f=p.default.Children.only(this.props.children),m=(0,y.default)(f.props.className||"",u,(e={},r(e,d,this.state.dragging),r(e,h,this.state.dragged),e));return p.default.createElement(P.default,l({},this.props,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),p.default.cloneElement(f,{className:m,style:l({},f.props.style,t),transform:n}))}}]),t}(p.default.Component);T.displayName="Draggable",T.propTypes=l({},P.default.propTypes,{axis:f.default.oneOf(["both","x","y","none"]),bounds:f.default.oneOfType([f.default.shape({left:f.default.number,right:f.default.number,top:f.default.number,bottom:f.default.number}),f.default.string,f.default.oneOf([!1])]),defaultClassName:f.default.string,defaultClassNameDragging:f.default.string,defaultClassNameDragged:f.default.string,defaultPosition:f.default.shape({x:f.default.number,y:f.default.number}),position:f.default.shape({x:f.default.number,y:f.default.number}),className:w.dontSetMe,style:w.dontSetMe,transform:w.dontSetMe}),T.defaultProps=l({},P.default.defaultProps,{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},position:null}),t.default=T},function(e,t,n){"use strict";var a=n(1),r=n(2),o=n(8),i=n(15),s=n(3),l=n(16);e.exports=function(e,t){function n(e){var t=e&&(T&&e[T]||e[D]);if("function"===typeof t)return t}function c(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}function u(e){this.message=e,this.stack=""}function d(e){function n(n,l,c,d,p,h,f){if(d=d||A,h=h||c,f!==s)if(t)r(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if("production"!==Object({DRAGGABLE_DEBUG:void 0}).NODE_ENV&&"undefined"!==typeof console){var m=d+":"+c;!a[m]&&i<3&&(o(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",h,d),a[m]=!0,i++)}return null==l[c]?n?new u(null===l[c]?"The "+p+" `"+h+"` is marked as required in `"+d+"`, but its value is `null`.":"The "+p+" `"+h+"` is marked as required in `"+d+"`, but its value is `undefined`."):null:e(l,c,d,p,h)}if("production"!==Object({DRAGGABLE_DEBUG:void 0}).NODE_ENV)var a={},i=0;var l=n.bind(null,!1);return l.isRequired=n.bind(null,!0),l}function p(e){function t(t,n,a,r,o,i){var s=t[n];if(C(s)!==e)return new u("Invalid "+r+" `"+o+"` of type `"+P(s)+"` supplied to `"+a+"`, expected `"+e+"`.");return null}return d(t)}function h(e){function t(t,n,a,r,o){if("function"!==typeof e)return new u("Property `"+o+"` of component `"+a+"` has invalid PropType notation inside arrayOf.");var i=t[n];if(!Array.isArray(i)){return new u("Invalid "+r+" `"+o+"` of type `"+C(i)+"` supplied to `"+a+"`, expected an array.")}for(var l=0;l<i.length;l++){var c=e(i,l,a,r,o+"["+l+"]",s);if(c instanceof Error)return c}return null}return d(t)}function f(e){function t(t,n,a,r,o){if(!(t[n]instanceof e)){var i=e.name||A;return new u("Invalid "+r+" `"+o+"` of type `"+k(t[n])+"` supplied to `"+a+"`, expected instance of `"+i+"`.")}return null}return d(t)}function m(e){function t(t,n,a,r,o){for(var i=t[n],s=0;s<e.length;s++)if(c(i,e[s]))return null;return new u("Invalid "+r+" `"+o+"` of value `"+i+"` supplied to `"+a+"`, expected one of "+JSON.stringify(e)+".")}return Array.isArray(e)?d(t):("production"!==Object({DRAGGABLE_DEBUG:void 0}).NODE_ENV&&o(!1,"Invalid argument supplied to oneOf, expected an instance of array."),a.thatReturnsNull)}function g(e){function t(t,n,a,r,o){if("function"!==typeof e)return new u("Property `"+o+"` of component `"+a+"` has invalid PropType notation inside objectOf.");var i=t[n],l=C(i);if("object"!==l)return new u("Invalid "+r+" `"+o+"` of type `"+l+"` supplied to `"+a+"`, expected an object.");for(var c in i)if(i.hasOwnProperty(c)){var d=e(i,c,a,r,o+"."+c,s);if(d instanceof Error)return d}return null}return d(t)}function v(e){function t(t,n,a,r,o){for(var i=0;i<e.length;i++){if(null==(0,e[i])(t,n,a,r,o,s))return null}return new u("Invalid "+r+" `"+o+"` supplied to `"+a+"`.")}if(!Array.isArray(e))return"production"!==Object({DRAGGABLE_DEBUG:void 0}).NODE_ENV&&o(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),a.thatReturnsNull;for(var n=0;n<e.length;n++){var r=e[n];if("function"!==typeof r)return o(!1,"Invalid argument supplied to oneOfType. Expected an array of check functions, but received %s at index %s.",S(r),n),a.thatReturnsNull}return d(t)}function y(e){function t(t,n,a,r,o){var i=t[n],l=C(i);if("object"!==l)return new u("Invalid "+r+" `"+o+"` of type `"+l+"` supplied to `"+a+"`, expected `object`.");for(var c in e){var d=e[c];if(d){var p=d(i,c,a,r,o+"."+c,s);if(p)return p}}return null}return d(t)}function b(e){function t(t,n,a,r,o){var l=t[n],c=C(l);if("object"!==c)return new u("Invalid "+r+" `"+o+"` of type `"+c+"` supplied to `"+a+"`, expected `object`.");var d=i({},t[n],e);for(var p in d){var h=e[p];if(!h)return new u("Invalid "+r+" `"+o+"` key `"+p+"` supplied to `"+a+"`.\nBad object: "+JSON.stringify(t[n],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(e),null,"  "));var f=h(l,p,a,r,o+"."+p,s);if(f)return f}return null}return d(t)}function E(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(E);if(null===t||e(t))return!0;var a=n(t);if(!a)return!1;var r,o=a.call(t);if(a!==t.entries){for(;!(r=o.next()).done;)if(!E(r.value))return!1}else for(;!(r=o.next()).done;){var i=r.value;if(i&&!E(i[1]))return!1}return!0;default:return!1}}function w(e,t){return"symbol"===e||("Symbol"===t["@@toStringTag"]||"function"===typeof Symbol&&t instanceof Symbol)}function C(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":w(t,e)?"symbol":t}function P(e){if("undefined"===typeof e||null===e)return""+e;var t=C(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function S(e){var t=P(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}function k(e){return e.constructor&&e.constructor.name?e.constructor.name:A}var T="function"===typeof Symbol&&Symbol.iterator,D="@@iterator",A="<<anonymous>>",x={array:p("array"),bool:p("boolean"),func:p("function"),number:p("number"),object:p("object"),string:p("string"),symbol:p("symbol"),any:function(){return d(a.thatReturnsNull)}(),arrayOf:h,element:function(){function t(t,n,a,r,o){var i=t[n];if(!e(i)){return new u("Invalid "+r+" `"+o+"` of type `"+C(i)+"` supplied to `"+a+"`, expected a single ReactElement.")}return null}return d(t)}(),instanceOf:f,node:function(){function e(e,t,n,a,r){return E(e[t])?null:new u("Invalid "+a+" `"+r+"` supplied to `"+n+"`, expected a ReactNode.")}return d(e)}(),objectOf:g,oneOf:m,oneOfType:v,shape:y,exact:b};return u.prototype=Error.prototype,x.checkPropTypes=l,x.PropTypes=x,x}},function(e,t,n){"use strict";function a(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach(function(e){a[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},a)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,s,l=a(e),c=1;c<arguments.length;c++){n=Object(arguments[c]);for(var u in n)o.call(n,u)&&(l[u]=n[u]);if(r){s=r(n);for(var d=0;d<s.length;d++)i.call(n,s[d])&&(l[s[d]]=n[s[d]])}}return l}},function(e,t,n){"use strict";function a(e,t,n,a,l){if("production"!==Object({DRAGGABLE_DEBUG:void 0}).NODE_ENV)for(var c in e)if(e.hasOwnProperty(c)){var u;try{r("function"===typeof e[c],"%s: %s type `%s` is invalid; it must be a function, usually from the `prop-types` package, but received `%s`.",a||"React class",n,c,typeof e[c]),u=e[c](t,c,a,n,null,i)}catch(e){u=e}if(o(!u||u instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",a||"React class",n,c,typeof u),u instanceof Error&&!(u.message in s)){s[u.message]=!0;var d=l?l():"";o(!1,"Failed %s type: %s%s",n,u.message,null!=d?d:"")}}}if("production"!==Object({DRAGGABLE_DEBUG:void 0}).NODE_ENV)var r=n(2),o=n(8),i=n(3),s={};e.exports=a},function(e,t,n){"use strict";var a=n(1),r=n(2),o=n(3);e.exports=function(){function e(e,t,n,a,i,s){s!==o&&r(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=a,n.PropTypes=n,n}},function(e,t,n){var a,r;!function(){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++){var a=arguments[t];if(a){var r=typeof a;if("string"===r||"number"===r)e.push(a);else if(Array.isArray(a))e.push(n.apply(null,a));else if("object"===r)for(var i in a)o.call(a,i)&&a[i]&&e.push(i)}}return e.join(" ")}var o={}.hasOwnProperty;"undefined"!==typeof e&&e.exports?e.exports=n:(a=[],void 0!==(r=function(){return n}.apply(t,a))&&(e.exports=r))}()},function(e,t,n){"use strict";function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"===typeof window||"undefined"===typeof window.document)return"";var t=window.document.documentElement.style;if(e in t)return"";for(var n=0;n<s.length;n++)if(r(e,s[n])in t)return s[n];return""}function r(e,t){return t?""+t+i(e):e}function o(e,t){return t?"-"+t.toLowerCase()+"-"+e:e}function i(e){for(var t="",n=!0,a=0;a<e.length;a++)n?(t+=e[a].toUpperCase(),n=!1):"-"===e[a]?n=!0:t+=e[a];return t}Object.defineProperty(t,"__esModule",{value:!0}),t.getPrefix=a,t.browserPrefixToKey=r,t.browserPrefixToStyle=o;var s=["Moz","Webkit","O","ms"];t.default=a()},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function r(e){if(u===setTimeout)return setTimeout(e,0);if((u===n||!u)&&setTimeout)return u=setTimeout,setTimeout(e,0);try{return u(e,0)}catch(t){try{return u.call(null,e,0)}catch(t){return u.call(this,e,0)}}}function o(e){if(d===clearTimeout)return clearTimeout(e);if((d===a||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function i(){m&&h&&(m=!1,h.length?f=h.concat(f):g=-1,f.length&&s())}function s(){if(!m){var e=r(i);m=!0;for(var t=f.length;t;){for(h=f,f=[];++g<t;)h&&h[g].run();g=-1,t=f.length}h=null,m=!1,o(e)}}function l(e,t){this.fun=e,this.array=t}function c(){}var u,d,p=e.exports={};!function(){try{u="function"===typeof setTimeout?setTimeout:n}catch(e){u=n}try{d="function"===typeof clearTimeout?clearTimeout:a}catch(e){d=a}}();var h,f=[],m=!1,g=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];f.push(new l(e,t)),1!==f.length||m||r(s)},l.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=c,p.addListener=c,p.once=c,p.off=c,p.removeListener=c,p.removeAllListeners=c,p.emit=c,p.prependListener=c,p.prependOnceListener=c,p.listeners=function(e){return[]},p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}}])})},324:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},c=n(0),u=a(c),d=n(14),p=a(d),h=n(323),f=n(547),m=a(f),g=function(e){function t(){var n,a,r;o(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=a=i(this,e.call.apply(e,[this].concat(l))),a.state={resizing:!1,width:a.props.width,height:a.props.height,slackW:0,slackH:0},r=n,i(a,r)}return s(t,e),t.prototype.componentWillReceiveProps=function(e){this.state.resizing||e.width===this.props.width&&e.height===this.props.height||this.setState({width:e.width,height:e.height})},t.prototype.lockAspectRatio=function(e,t,n){return t=e/n,e=t*n,[e,t]},t.prototype.runConstraints=function(e,t){var n=[this.props.minConstraints,this.props.maxConstraints],a=n[0],r=n[1];if(this.props.lockAspectRatio){var o=this.state.width/this.state.height;t=e/o,e=t*o}if(!a&&!r)return[e,t];var i=e,s=t,l=this.state,c=l.slackW,u=l.slackH;return e+=c,t+=u,a&&(e=Math.max(a[0],e),t=Math.max(a[1],t)),r&&(e=Math.min(r[0],e),t=Math.min(r[1],t)),c+=i-e,u+=s-t,c===this.state.slackW&&u===this.state.slackH||this.setState({slackW:c,slackH:u}),[e,t]},t.prototype.resizeHandler=function(e){var t=this;return function(n,a){var r=a.node,o=a.deltaX,i=a.deltaY,s="both"===t.props.axis||"x"===t.props.axis,l="both"===t.props.axis||"y"===t.props.axis,c=t.state.width+(s?o:0),u=t.state.height+(l?i:0),d=c!==t.state.width,p=u!==t.state.height;if("onResize"!==e||d||p){var h=t.runConstraints(c,u);c=h[0],u=h[1];var f={};if("onResizeStart"===e)f.resizing=!0;else if("onResizeStop"===e)f.resizing=!1,f.slackW=f.slackH=0;else{if(c===t.state.width&&u===t.state.height)return;f.width=c,f.height=u}"function"===typeof t.props[e]?("function"===typeof n.persist&&n.persist(),t.setState(f,function(){return t.props[e](n,{node:r,size:{width:c,height:u}})})):t.setState(f)}}},t.prototype.render=function(){var e=this.props,t=e.children,n=e.draggableOpts,a=(e.width,e.height,e.handleSize,e.lockAspectRatio,e.axis,e.minConstraints,e.maxConstraints,e.onResize,e.onResizeStop,e.onResizeStart,r(e,["children","draggableOpts","width","height","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart"])),o=a.className?a.className+" react-resizable":"react-resizable";return(0,m.default)(t,l({},a,{className:o,children:[t.props.children,u.default.createElement(h.DraggableCore,l({},n,{key:"resizableHandle",onStop:this.resizeHandler("onResizeStop"),onStart:this.resizeHandler("onResizeStart"),onDrag:this.resizeHandler("onResize")}),u.default.createElement("span",{className:"react-resizable-handle"}))]}))},t}(u.default.Component);g.propTypes={children:p.default.element.isRequired,width:p.default.number.isRequired,height:p.default.number.isRequired,handleSize:p.default.array,lockAspectRatio:p.default.bool,axis:p.default.oneOf(["both","x","y","none"]),minConstraints:p.default.arrayOf(p.default.number),maxConstraints:p.default.arrayOf(p.default.number),onResizeStop:p.default.func,onResizeStart:p.default.func,onResize:p.default.func,draggableOpts:p.default.object},g.defaultProps={handleSize:[20,20],lockAspectRatio:!1,axis:"both",minConstraints:[20,20],maxConstraints:[1/0,1/0]},t.default=g},325:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(2),s=n(0),l=n.n(s),c=n(24),u=n(7),d=n(175),p=n(156),h=n(210),f=n(19),m=n(3),g=n(136),v=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),y=function e(t,n,a){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,a)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(a)},b=function(e){function t(e){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.isDesktop=!1,n.productList=f.a.getProductList(),n.code=n.props.code||f.a.getCurrCode(),n.unmount=!1,n.state={code:n.code,productList:n.productList,selected:f.a.getSelectedProduct(n.productList,n.code),slang:i.a.getLang()},n}return o(t,e),v(t,[{key:"componentWillMount",value:function(){m.a.addListener(m.a.EventName.PRICE_UPDATE,this.onUpdatePrice.bind(this),this),m.a.addListener(m.a.EventName.PRODUCT_UPDATE,this.onUpdateProduct.bind(this),this),m.a.addListener(m.a.EventName.PRODUCT_SELECT,this.onSelectProduct.bind(this),this),this.onUpdateProduct()}},{key:"componentWillReceiveProps",value:function(e){this.code!=e.code&&e.code&&(this.code=e.code,this.onUpdateProduct())}},{key:"onUpdatePrice",value:function(e){this.onUpdateProduct(e)}},{key:"onUpdateProduct",value:function(e){this.productList=f.a.getProductList();var t={productList:this.productList,code:this.code};e&&!e[this.code]||(t.selected=f.a.getSelectedProduct(this.productList,this.code)),this.setState(t)}},{key:"onSelectProduct",value:function(e){this.code=e,this.setState({code:e,selected:f.a.getSelectedProduct(this.productList,this.code)})}},{key:"goHome",value:function(){this.isDesktop||u.a.replace("/")}},{key:"changeSkin",value:function(e){return this.props.onChange(e,!0)}},{key:"changeLangue",value:function(e){if(e){this.langRef.hide();var t=this;i.a.setLang(e,function(){t.unmount||t.setState({slang:e})})}}},{key:"componentWillUnmount",value:function(){this.unmount=!0,y(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentWillUnmount",this).call(this)}},{key:"setMenuRef",value:function(e){this.menuRef=e}},{key:"setLangRef",value:function(e){this.langRef=e}},{key:"render",value:function(){var e=this,t=this.props,n=t.user,a=t.uInfo,r=t.skinInfo,o=this.state,s=o.code,c=o.productList,u=o.selected,m=f.a.isFut(s),v=i.a.supports,y={"zh-cn":"\u7b80\u4f53\u4e2d\u6587","en-us":"English","zh-tw":"\u7e41\u9ad4\u4e2d\u6587","ja-jp":"\u65e5\u672c\u8a9e"},b=[];return r&&(b=["skin-p","skin-g","skin-w"]),l.a.createElement("header",{className:"header-box m-hide"+(m?"":" spot"),style:m?{}:{backgroundColor:"#272d33",borderColor:"#000"}},l.a.createElement("div",{className:"tradefull-head-box f-clear"},l.a.createElement("div",{className:"header-logo-box f-clear"},l.a.createElement("span",{className:"point"+(this.isDesktop?" hide":""),onClick:function(){return e.goHome()}},l.a.createElement("div",{className:"header-logo fl"}),l.a.createElement("div",{className:"pd010 fl"},"|"),l.a.createElement("div",{className:"fl"},i.a.lang("AdvBox.100"))),l.a.createElement("div",{className:"drop-menu drop-menu-horizontal pd010 fl"+(this.isDesktop?"":" ml-50")},l.a.createElement(g.b,{trigger:"click",menuRef:function(){return e.menuRef},ref:function(t){return e.dropDownRef=t}},l.a.createElement("span",null,u?u.Name:""),l.a.createElement("i",{className:"iconfont icon-xiala transit"})),l.a.createElement(g.a,{ref:this.setMenuRef.bind(this),pnRef:function(){return e.dropDownRef}},l.a.createElement(d.a,{className:"drop-menu-children drop-menu-children-box drop-item-style1",productList:c,code:s}))),l.a.createElement(p.a,{data:u,inMenu:!1})),window.IS_LOCAL&&l.a.createElement(h.a,{user:n,uInfo:a,isExpert:!0}),l.a.createElement("div",{className:"header-lang border-l h-50"},l.a.createElement("div",{id:"langselect",className:"ml-20 fem875"},l.a.createElement(g.b,{trigger:"click",menuRef:function(){return e.langRef},ref:function(t){return e.dropDownRef=t}},l.a.createElement("cite",null,l.a.createElement("span",null,y[this.state.slang]))),l.a.createElement(g.a,{ref:this.setLangRef.bind(this),pnRef:function(){return e.dropDownRef}},l.a.createElement("ul",{className:"full-lang"},v.map(function(t,n){return l.a.createElement("li",{key:n,onClick:function(){return e.changeLangue(t)}},l.a.createElement("a",{href:"javascript:;"},l.a.createElement("span",null,y[t])))}))))),r&&l.a.createElement("div",{className:"skin-set lh-50"},l.a.createElement("i",{className:"iconfont icon-skin fs24"}),l.a.createElement("div",{className:"skin-box hide"},r.map(function(t,n){return l.a.createElement("span",{key:n,className:"iconfont icon-skin "+b[n],onClick:function(){return e.changeSkin(t)}})})))))}}]),t}(c.a);t.a=b},326:function(e,t,n){"use strict";(function(e){function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){var t=e.value,n=e.active,a=e.onClick,r=e.className;return l.a.createElement("div",{className:g()(n?"active":"","f-tof",r),onClick:a,title:t},t)}n.d(t,"b",function(){return b}),t.a=i;var s=n(0),l=n.n(s),c=n(14),u=n.n(c),d=n(17),p=n.n(d),h=n(24),f=n(136),m=n(125),g=n.n(m),v=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),y=e,b=function(e){function t(e){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={value:n.props.defaultValue||n.props.value,width:0},n}return o(t,e),v(t,[{key:"componentDidMount",value:function(){this.minWidth()}},{key:"componentWillReceiveProps",value:function(e){e.hasOwnProperty("value")&&e.value!=this.state.value&&this.setState({value:e.value})}},{key:"minWidth",value:function(){if(this.divRef){var e=p.a.findDOMNode(this.divRef);if(e){var t=y(e).width();this.setState({width:t})}}}},{key:"checkMinWidth",value:function(){this.state.width||this.minWidth()}},{key:"onSelect",value:function(e){this.selectRef&&this.selectRef.hide(),this.setState({value:e}),this.props.onChange&&this.props.onChange(e)}},{key:"setSelectRef",value:function(e){this.selectRef=e}},{key:"setDivRef",value:function(e){this.divRef=e}},{key:"render",value:function(){var e=this,t=this.props,n=t.disabled,a=t.className,r=t.style,o=this.state.value,i=this.state.width;this.options={};var s=l.a.Children.map(this.props.children,function(t,n){if(t){var a=t.props.value,r=t.props.children;return e.options[a]=r,o||0!=n||(o=a),l.a.cloneElement(t,{value:r,active:o==a,onClick:e.onSelect.bind(e,a),children:null})}}),c=this.options[o];return l.a.createElement("div",{className:g()("select",a,n?"disable":"selection"),style:r,ref:this.setDivRef.bind(this)},l.a.createElement(f.b,{trigger:"click",menuRef:function(){return e.selectRef},disabled:n,ref:function(t){return e.dropDownRef=t}},l.a.createElement("div",{className:"val-bg",onMouseOver:this.checkMinWidth.bind(this)},l.a.createElement("div",{className:"vval"},l.a.createElement("span",{title:c,className:"f-tof"},c)))),l.a.createElement(f.a,{ref:this.setSelectRef.bind(this),pnRef:function(){return e.dropDownRef}},l.a.createElement("div",{className:"option",style:{minWidth:i?i+"px":null}},s)))}}]),t}(h.a);b.defaultProps={className:"",style:{},defaultValue:"",disabled:!1,value:"",onChange:function(){}},b.propTypes={className:u.a.string,style:u.a.object,defaultValue:u.a.oneOfType([u.a.number,u.a.string]),disabled:u.a.bool,value:u.a.oneOfType([u.a.number,u.a.string]),onChange:u.a.func}}).call(t,n(13))},327:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(2),s=n(0),l=n.n(s),c=n(25),u=n(24),d=n(136),p=n(9),h=n(15),f=n(14),m=n.n(f),g=n(230),v=n(27),y=n(16),b=n(19),E=n(12),w=n(3),C=n(30),P=n(5),S=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),k=function(e){function t(e){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),o=n.props.type;if("futures"==o?(n.sides=["buy","sell","random"],n.percents=[.2,.4,.6,.8,1],n.levers=[1,2,5,10,15,20],n.intervals=[5,10,20,30,60,300]):(n.sides=["buy","sell"],n.percents=[.25,.5,.75,1],n.intervals=[5,10,20,30,60,300]),n.code=n.props.code,n.product=b.a.getProduct(n.code),n.product)if(n.toSB="TD",n.toFixed=2,"futures"==o){var i=Object(P.c)(n.product.Currency);i&&(n.fromSB=i.sn)}else{var s=Object(P.c)(y.a.CURRENCY[n.product.toCode]);s&&(n.fromSB=s.sn)}return n.state={FirstSide:"buy",Amount:"",Percent:n.percents[0],Scale:n.levers?n.levers[0]:"",Interval:n.intervals[0],Status:0,Commission:0,Expect:0},n}return o(t,e),S(t,[{key:"componentWillMount",value:function(){w.a.addOnce(w.a.EventName.WALLET_UPDATE,this.onUpdateWallet.bind(this),this),w.a.addListener(w.a.EventName.MINING_UPDATE,this.onMiningUpdate.bind(this),this),E.a.checkUserAuth()&&(this.onUpdateWallet(),this.loadMiningRobot())}},{key:"onMiningUpdate",value:function(e){-1!=["open","close"].indexOf(e.Event)?C.a.success(i.a.lang("mining.msg."+e.Event,e.Msg)):(this.loadMiningRobot(),C.a.error(i.a.lang("mining.msg."+e.Event,e.Msg)))}},{key:"onUpdateWallet",value:function(){!this.state.Amount&&this.state.Percent&&this.onUpdateAmount(this.state.Percent,this.state.FirstSide,this.state.Scale)}},{key:"loadMiningRobot",value:function(){var e=this;p.a.httpRequest("mining/robot",{Type:this.props.type},function(t){if(0==t.Status){var n=t.Data;n.Status?e.setState(n):n.Amount>0&&e.setState(n)}},this)}},{key:"checkFormValid",value:function(e){if(!e.Amount||Number(e.Amount)<=0)return C.a.error(i.a.lang("mining."+("buy"==e.FirstSide&&"spot"==e.Type?"amount":"volume")+".empty")),!1;var t=this.getVolRange(e.FirstSide);if(t){var n=t[0],a=t[1];if(e.Amount<n||e.Amount>a)return C.a.error(i.a.lang("mining."+("buy"==e.FirstSide&&"spot"==e.Type?"amount":"volume")+".range",n,a)),!1}return!0}},{key:"getVolRange",value:function(e){return"spot"==this.props.type?"buy"==e?[1e-4,1e3]:[10,1e5]:[1,1e5]}},{key:"onChangeStatus",value:function(){var e=this,t=0==this.state.Status?1:0,n={Type:this.props.type,FirstSide:this.state.FirstSide,Amount:Number(this.state.Amount),Percent:Number(this.state.Percent),Scale:Number(this.state.Scale),Interval:Number(this.state.Interval)};t&&!this.checkFormValid(n)||this.props.onConfirm(t,function(a){a&&(t?p.a.httpRequest("mining/robotOpen",n,function(t){0==t.Status&&e.loadMiningRobot()},e):p.a.httpRequest("mining/robotClose",{Type:e.props.type},function(n){0==n.Status&&e.setState({Status:t})},e))})}},{key:"onChangeFirstSide",value:function(e){e.stopPropagation();var t=e.target.value;t!=this.state.FirstSide&&(this.setState({FirstSide:t}),this.state.Amount||this.onUpdateAmount(this.state.Percent,t,this.state.Scale))}},{key:"onChangePercent",value:function(e){e.stopPropagation();var t=e.target.value;this.setState({Percent:t}),this.onUpdateAmount(t,this.state.FirstSide,this.state.Scale)}},{key:"onUpdateAmount",value:function(e,t,n){var a=this.getBalance(t);if(a){if("spot"==this.props.type){var r=Number(h.a.accMul(a,e,"buy"==t?this.product.PriceFixed:this.product.VolFixed));return r&&this.setState({Amount:r}),r}var r=Number(h.a.accMul(h.a.accMul(h.a.accMul(this.product.Scale*n,a),this.product.price.LAST),e,0));return r&&this.setState({Amount:r}),r}}},{key:"getBalance",value:function(e){if(E.a.checkUserAuth()){var t,n=this.product;return"futures"==this.props.type?n&&(t=v.a.getCurrencyWallet(y.a.WALLET.TYPE.FUT,n.Coin)):n&&(t=v.a.getCurrencyWallet(y.a.WALLET.TYPE.SPOT,y.a.CURRENCY["buy"==e?n.toCode:n.fromCode])),t?t.canUse:void 0}}},{key:"onChangeAmount",value:function(e){this.state.Amount!=e&&this.setState({Amount:e})}},{key:"onChangeScale",value:function(e){e.stopPropagation();var t=e.target.value;this.setState({Scale:t})}},{key:"onChangeInterval",value:function(e){e.stopPropagation();var t=e.target.value;this.setState({Interval:t})}},{key:"render",value:function(){var e,t,n,a=this,r=this.props.type,o=this.state,s=o.FirstSide,u=o.Amount,p=o.Percent,f=o.Scale,m=o.Interval,v=o.Status,y=o.Commission,b=o.Expect,E=!!v,w=i.a.getLang();this.product&&(t=this.product.PriceFixed,n=this.product.VolFixed,e="futures"==r?this.product.ShowFixed:t);var C=this.getVolRange(s);return"futures"==r?l.a.createElement(d.d,null,l.a.createElement("span",null,i.a.lang("mining.robot")),l.a.createElement("span",{className:"next-icon"},l.a.createElement("i",{className:"iconfont icon-dropDown arrowdown fs12"})),l.a.createElement(d.e,{className:"mining-setting "+w},l.a.createElement(d.d,{tags:"div"},l.a.createElement("dl",{className:"mining-detail"},l.a.createElement("dt",{className:"tl"},i.a.lang("mining.robot.open")),l.a.createElement("dd",null,l.a.createElement("span",null,i.a.lang("mining.side")),l.a.createElement("select",{className:"w-60 ml-10"+(E?" disable":""),value:s,onChange:this.onChangeFirstSide.bind(this),disabled:E},this.sides.map(function(e,t){return l.a.createElement("option",{value:e,key:"side"+t},i.a.lang("mining.side."+e))}))),l.a.createElement("dd",null,l.a.createElement("span",null,i.a.lang("mining.volume")),l.a.createElement("div",{className:"slider-number-box w-60 ml-10"},l.a.createElement(g.a,{value:u,onChange:this.onChangeAmount.bind(this),step:1,min:C?C[0]:0,max:C?C[1]:1e5,disabled:E})),l.a.createElement("select",{className:"w-60 ml-10"+(E?" disable":""),value:p,onChange:this.onChangePercent.bind(this),disabled:E},this.percents.map(function(e,t){return l.a.createElement("option",{value:e,key:"per"+e},h.a.toPercent(e))}))),l.a.createElement("dd",null,l.a.createElement("span",null,i.a.lang("mining.scale")),l.a.createElement("select",{className:"w-60 ml-10"+(E?" disable":""),value:f,onChange:this.onChangeScale.bind(this),disabled:E},this.levers.map(function(e,t){return l.a.createElement("option",{value:e,key:"scale"+e},e+"x")})))),l.a.createElement("dl",{className:"mining-detail"},l.a.createElement("dt",null,i.a.lang("mining.closePos")),l.a.createElement("dd",null,l.a.createElement("span",null,i.a.lang("mining.interval")),l.a.createElement("select",{className:"w-60 ml-10"+(E?" disable":""),value:m,onChange:this.onChangeInterval.bind(this),disabled:E},this.intervals.map(function(e){return l.a.createElement("option",{value:e,key:"inte"+e},e+"s")})))),l.a.createElement("dl",{className:"mining-detail"},E&&l.a.createElement(l.a.Fragment,null,l.a.createElement("dt",null,i.a.lang("mining.stat")),l.a.createElement("dd",null,l.a.createElement("span",null,i.a.lang("mining.commission")),l.a.createElement("span",{className:"mining-infoTxt"},String(h.a.toFixed(y,e))+" "+this.fromSB)),l.a.createElement("dd",null,l.a.createElement("span",null,i.a.lang("mining.expect")),l.a.createElement("span",{className:"mining-infoTxt"},String(h.a.round(b,this.toFixed))+" "+this.toSB))),l.a.createElement("dd",null,l.a.createElement(c.Link,{to:"/miningHistory",target:"_blank"},i.a.lang("mining.log"),">"))),l.a.createElement("dl",{className:"mining-foot flex-box flex-jc"},l.a.createElement("span",null,i.a.lang("mining.status0")),l.a.createElement("span",{className:v?"mining-open-btn on":"mining-open-btn off",onClick:this.onChangeStatus.bind(this)},l.a.createElement("i",null)),l.a.createElement("span",null,i.a.lang("mining.status1")))))):l.a.createElement(l.a.Fragment,null,l.a.createElement(d.b,{trigger:"click",menuRef:function(){return a.menuRef},ref:function(e){return a.dropDownRef=e}},l.a.createElement("p",{className:"head-border-full-p"},l.a.createElement("i",{className:"iconfont icon-dropUp"}),i.a.lang("mining.robot"))),l.a.createElement(d.a,{ref:function(e){return a.menuRef=e},pnRef:function(){return a.dropDownRef}},l.a.createElement("div",{className:"mining-setting-box"},l.a.createElement("dl",{className:"ft-order-box mining-detail"},l.a.createElement("dt",{className:"tl"},i.a.lang("mining.robot.open")),l.a.createElement("dd",null,l.a.createElement("span",null,i.a.lang("mining.side")),l.a.createElement("select",{className:"w-60 ml-10"+(E?" disable":""),value:s,onChange:this.onChangeFirstSide.bind(this),disabled:E},this.sides.map(function(e,t){return l.a.createElement("option",{value:e,key:"side"+t},i.a.lang("mining.side."+e))}))),l.a.createElement("dd",null,l.a.createElement("span",null,"sell"==s?i.a.lang("mining.volume"):i.a.lang("mining.amount")),l.a.createElement("div",{className:"slider-number-box w-60 ml-10"},"buy"==s?l.a.createElement(g.a,{key:"spotbuy",value:u,onChange:this.onChangeAmount.bind(this),step:1/Math.pow(10,t),min:C?C[0]:0,max:C?C[1]:1e5,disabled:E}):l.a.createElement(g.a,{key:"spotsell",value:u,onChange:this.onChangeAmount.bind(this),step:1/Math.pow(10,n),min:C?C[0]:0,max:C?C[1]:1e5,disabled:E})),l.a.createElement("select",{className:"w-60 ml-10"+(E?" disable":""),value:p,onChange:this.onChangePercent.bind(this),disabled:E},this.percents.map(function(e,t){return l.a.createElement("option",{value:e,key:"per"+e},h.a.toPercent(e))})))),l.a.createElement("dl",{className:"ft-order-box mining-detail"},l.a.createElement("dt",null,i.a.lang("mining.closePos")),l.a.createElement("dd",null,l.a.createElement("span",null,i.a.lang("mining.interval")),l.a.createElement("select",{className:"w-60 ml-10"+(E?" disable":""),value:m,onChange:this.onChangeInterval.bind(this),disabled:E},this.intervals.map(function(e){return l.a.createElement("option",{value:e,key:"inte"+e},e+"s")})))),l.a.createElement("dl",{className:"ft-order-box mining-detail"},E&&l.a.createElement(l.a.Fragment,null,l.a.createElement("dt",null,i.a.lang("mining.stat")),l.a.createElement("dd",null,l.a.createElement("span",null,i.a.lang("mining.commission")),l.a.createElement("span",{className:"mining-infoTxt"},String(h.a.toFixed(y,e))+" "+this.fromSB)),l.a.createElement("dd",null,l.a.createElement("span",null,i.a.lang("mining.expect")),l.a.createElement("span",{className:"mining-infoTxt"},String(h.a.round(b,this.toFixed))+" "+this.toSB))),l.a.createElement("dd",null,l.a.createElement(c.Link,{to:"/miningHistory",target:"_blank"},i.a.lang("mining.log"),">"))),l.a.createElement("div",{className:"mining-foot flex-box flex-jc"},l.a.createElement("span",null,i.a.lang("mining.status0")),l.a.createElement("span",{onClick:this.onChangeStatus.bind(this),className:v?"mining-open-btn on":"mining-open-btn off"},l.a.createElement("i",null)),l.a.createElement("span",null,i.a.lang("mining.status1"))))))}}]),t}(u.a);k.defaultProps={type:"futures",onConfirm:function(){}},k.propTypes={type:m.a.string.isRequired,onConfirm:m.a.func.isRequired},t.a=k},328:function(e,t,n){"use strict";(function(e){function a(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return K}),n.d(t,"b",function(){return G});var s=n(2),l=n(0),c=n.n(l),u=n(17),d=n.n(u),p=n(24),h=n(228),f=n.n(h),m=n(149),g=n.n(m),v=n(26),y=n(565),b=n(229),E=n(29),w=n(16),C=n(15),P=n(566),S=n(572),k=(n.n(S),n(164)),T=n(130),D=n(9),A=n(3),x=n(12),O=n(20),N=n(28),_=n.n(N),M=n(27),R=n(5),I=n(125),L=n.n(I),j=n(30),B=n(227),U=n(10),F=n(1),z="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),W=function e(t,n,a){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,a)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(a)},H=e,K=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.toggleSelection=function(e){var t=n.selection,a=t.indexOf(e);a>=0?t.splice(a,1):t.push(e),n.refs.reactTable.tableRowsUpdate()},n.toggleAll=function(){var e=!n.selectAll,t=[];if(e){n.refs.reactTable.getResolvedState().sortedData.forEach(function(e){t.push(e._original.ID)})}n.selectAll=e,n.selection=t,n.refs.reactTable.forceUpdate()},n.isSelected=function(e){return n.selection.includes(e)},n.onContextMenuRow=function(e,t){t.preventDefault(),t.stopPropagation();var a=e.ID;if(n.isSelected(a)||n.selectOneRow(a),v.a.closeByDomID("context-menu"),-1==[4,5].indexOf(n.state.tab)){var r=[];n.state.data.forEach(function(e){n.isSelected(e.ID)&&r.push(e)}),r.length>0&&v.a.open(c.a.createElement($,{rows:r,tab:n.state.tab,x:t.clientX,y:t.clientY,pnComponent:n}),"context-menu",!1,!1)}},n.selectRowColumn=function(e,t,a,r,o){if(o.preventDefault(),a){var i=t.original.ID;"_selector"!=a.id||n.toggleSelection(i)}},n.checkDataEqual=function(e,t){return e.style.height!=t.style.height};var a=n.getData(2);return n.selection=[],n.selectAll=!1,n.hideContextMenu=n.hideContextMenu.bind(n),n.onKeyPress=n.onKeyPress.bind(n),n.editAttrMap={VolumeDesc:"Volume",ScaleTxt:"Scale",MarginTotalDesc:"MarginTotal",ForceDesc:"Force",SLDesc:"SL.Param",TPDesc:"TP.Param",TriggerPrice:"Constant",PriceDistance:"PriceDistance"},n.updateCount=0,n.orderUpdateTimer=0,n.isEdit=!1,n.state={tab:2,data:a,columns:n.getColumns(2),history:{Total:0,PageCount:0,Page:1,PageSize:n.getHistoryPageSize(),List:[]},pHistory:{Total:0,PageCount:0,Page:1,PageSize:n.getHistoryPageSize(),List:[]}},n}return i(t,e),V(t,[{key:"componentWillMount",value:function(){A.a.addListener(A.a.EventName.FUT_ORDER_UPDATE,this.onUpdateOrdersDelay.bind(this),this),A.a.addListener(A.a.EventName.LANG_SELECT,this.onChangeLang.bind(this),this),A.a.addListener(A.a.EventName.SET_MERGED,this.onChangeMerged.bind(this),this),this.onUpdateOrdersDelay()}},{key:"onChangeMerged",value:function(e){this.forceUpdate()}},{key:"onChangeLang",value:function(){5==this.state.tab?this.loadHistory(this.state.history.Page):6==this.state.tab&&this.loadPositionHistory(this.state.pHistory.Page)}},{key:"onUpdateOrdersDelay",value:function(e){var t=this;this.state.tab;this.updateCount++,this.orderUpdateTimer||(this.orderUpdateTimer=A.a.setTimer(function(){t.onUpdateOrders()},100,this))}},{key:"onUpdateOrders",value:function(){var e=this.state.tab;this.updateCount&&!this.isEdit&&(-1!=[1,2,3].indexOf(e)?this.setState({data:this.getData(e)}):this.forceUpdate(),this.updateCount=0,this.showKlineArrow())}},{key:"getData",value:function(e){return 1==e?E.a.posSummaryList:2==e?E.a.positionList:3==e?E.a.orderList:void(5==e?this.loadHistory(1,this.getHistoryPageSize()):6==e&&this.loadPositionHistory(1,this.getHistoryPageSize()))}},{key:"loadHistory",value:function(e,t){var n=this;x.a.checkUserAuth()&&(t||(t=this.state.history.PageSize),E.a.loadHistory(e,t,this,function(e){n.setState({history:e})}))}},{key:"loadPositionHistory",value:function(e,t){var n=this;x.a.checkUserAuth()&&(t||(t=this.state.pHistory.PageSize),E.a.loadPositionHistory(e,t,this,function(e){n.setState({pHistory:e})}))}},{key:"getHistoryPageSize",value:function(){var e=parseInt((this.props.height-53-36)/19);return e>0?e:1}},{key:"moveHeightEnd",value:function(){5==this.state.tab?this.loadHistory(1,this.getHistoryPageSize()):6==this.state.tab&&this.loadPositionHistory(1,this.getHistoryPageSize())}},{key:"getColumns",value:function(e){var t=[];if(F.k){if(1==e){var n=["CName","SideTxt","BVOL_AVOL","Volume","ScaleTxt","MarginTotalDesc","Price","ProfitLossDesc","FeeDesc"];t=this._getColumns(e,n,[],[],[],!0,this.delRecord)}else if(2==e){var n=["ID","CName","SideTxt","ScaleTxt","Volume","PriceDesc","MarginTotalDesc","SLDesc","TPDesc","ProfitLossDesc","FeeDesc","ForceDesc","Notes"],a=["ScaleTxt","MarginTotalDesc","ForceDesc","SLDesc","TPDesc"],r=["Notes"];t=this._getColumns(e,n,a,r,[],!0,this.delRecord)}else if(3==e){var n=["CreatedAt","PID","CName","SideTxt","ScaleTxt","VolumeDesc","TypeDesc","OrderPrice","DealPrice","TimelyDesc","StateTxt","Notes"],a=["TriggerPrice"],r=["Notes"];t=this._getColumns(e,n,a,r,[],!0,this.delRecord)}}else if(1==e){var n=["CName","SideTxt","BVOL_AVOL","Volume","ScaleTxt","MarginTotalDesc","Price","Mark","ProfitLossDesc","FeeDesc"];t=this._getColumns(e,n,[],[],[],!0,this.delRecord)}else if(2==e){var n=["ID","CName","SideTxt","Volume","ScaleTxt","MarginTotalDesc","PriceDesc","Mark","ForceDesc","SLDesc","TPDesc","ProfitLossDesc","FeeDesc","Notes"],a=["ScaleTxt","MarginTotalDesc","ForceDesc","SLDesc","TPDesc"],r=["Notes"];t=this._getColumns(e,n,a,r,[],!0,this.delRecord)}else if(3==e){var n=["CreatedAt","PID","ID","CName","AttemptName","SideTxt","VolumeDesc","ScaleTxt","TriggerPrice","PriceDistance","PriceTxt","TypeDesc","StateTxt","TimelyDesc","Notes"],a=["TriggerPrice"],r=["Notes"];t=this._getColumns(e,n,a,r,[],!0,this.delRecord)}return t}},{key:"_getColumns",value:function(e,t,n,a,r,o,i){var l=this,u=function(e){return function(t){return c.a.createElement("span",{title:s.a.lang("trade.history."+t.column.id+(3==e?"_O":""))},s.a.lang("trade.history."+t.column.id+(3==e?"_O":"")))}},d=function(e,t,n,a){e.Header=function(e){return c.a.createElement(c.a.Fragment,null,u(t)(e),c.a.createElement("i",{className:"iconfont icon-question fem75 pos-a r0","data-tip":s.a.lang(a)}))}},p=[];if(o){var h={id:"_selector",accessor:function(){return"x"},Header:this.selectInputHeadSelector.bind(this),Cell:function(e){return l.selectInputRowSelector.bind(l)(e.original)},width:25,filterable:!1,sortable:!1,resizable:!1,style:{textAlign:"center"}};p.push(h)}for(var f=0,m=t.length;f<m;f++){var g=t[f],v={minWidth:30,accessor:g,Header:u(e),className:"column-body"};-1!=n.indexOf(g)?(v.id=g,v.accessor=function(e){return e},v.Cell=function(e){if(E.a.isMergedByCid(e.original.CID)&&-1!=["SLDesc","TPDesc"].indexOf(e.column.id))return c.a.createElement("div",null);var t=l.editAttrMap[e.column.id],n=l.getAttrValue(e.value,t),a=-1!=["Volume"].indexOf(t)?1:"Scale"==t?C.a.getDotDigit(n)>2?1e-6:.01:0,r="Scale"==t?20:void 0;"SL.Param"==t&&e.value.Side==w.a.FUT.Side.BUY&&e.value.SLorder&&e.value.SLorder.Strategy==w.a.FUT.Strategy.Trail&&(a=-1*E.a.priceMax,r=0);var o="Scale"==t?.01:"Volume"==t?1:"MarginTotal"==t?1e-6:0;return c.a.createElement(J,{value:e.value[e.column.id],disabled:e.original.PID&&(!E.a.checkCanModify(e.original,t)||!n),isRequire:-1==["SLDesc","TPDesc"].indexOf(e.column.id),step:o,min:Number(a),max:r,num:n,type:"number",rows:[e.original],onConfirm:l.onConfirmEditDiv.bind(l,t,e.value.ID),onFocusBlur:l.onChangeEdit.bind(l)})}):-1!=a.indexOf(g)?(v.id=g,v.accessor=function(e){return e},v.Cell=function(e){return c.a.createElement(J,{value:e.value[e.column.id],type:"text",rows:[e.original],onConfirm:l.onConfirmEditDiv.bind(l,e.column.id,e.value.ID),onFocusBlur:l.onChangeEdit.bind(l)})}):-1!=r.indexOf(g)?(v.id=g,v.accessor=function(e){return e},v.Cell=function(e){return c.a.createElement(J,{value:e.value[e.column.id],type:"popup",rows:[e.original],column:e.column.id,onFocusBlur:l.onChangeEdit.bind(l)})}):"SideTxt"==g?(v.id=g,v.accessor=function(e){return e},v.Cell=function(e){return c.a.createElement("span",{className:e.original.Side==w.a.FUT.Side.BUY?"green6":e.original.Side==w.a.FUT.Side.SELL?"red6":""},e.value[e.column.id])}):"ProfitLossDesc"==g?(v.id=g,d(v,2,0,"trade.order.pl.tip"),v.accessor=function(e){return e},v.Cell=function(e){return c.a.createElement(Z,{value:e.original.ProfitLoss,text:e.value[e.column.id],overValue:e.original.ProfitLossMark,overText:e.original.ProfitLossMarkDesc})}):"VolumeDesc"==g?(v.id=g,d(v,3,0,"trade.order.volume.tip"),v.accessor=function(e){return e},v.Cell=function(e){return c.a.createElement(Z,{value:e.original.VolumeDesc,text:e.value[e.column.id],overValue:e.original.VolumeHide,overText:e.original.VolumeHide})}):"FeeDesc"==g&&d(v,2,0,"trade.order.fee.tip"),-1!=["CreatedAt","TriggerPrice","TimelyDesc","ProfitLossDesc"].indexOf(g)?v.minWidth=36:-1!=["CName","SideTxt","Volume","ScaleTxt","AttemptName"].indexOf(g)&&(v.minWidth=20),p.push(v)}return i&&p.push({className:"red6",Header:"",accessor:"ID",width:25,Cell:function(e){return c.a.createElement("i",{className:"iconfont icon-close fem875 ver-md",onClick:i.bind(l,e.value,e.original)})}}),p}},{key:"onChangeEdit",value:function(e){this.isEdit=e,!e&&this.updateCount&&(this.setState({data:this.getData(this.state.tab)}),this.updateCount=0)}},{key:"getAttrValue",value:function(e,t){if(-1!=t.indexOf(".")){var n=t.split("."),a=e[n[0]];return a?a[n[1]]:this.getPLDefaultValue(e,n[0])}return e[t]}},{key:"getPLDefaultValue",value:function(e,t){var n=E.a.getProductByID(e.CID),a=E.a.getPriceOnePointValue(n.UnitPrice),r=a<1?Number(C.a.accMul(a,50)):50*a;return"SL"==t?e.Side==w.a.TRADE.DIRECTION.BID&&(r*=-1):e.Side==w.a.TRADE.DIRECTION.ASK&&(r*=-1),Number(C.a.accAdd(n.price.LAST,r))}},{key:"showKlineArrow",value:function(){B.a.showAllPosition(E.a.positions,this.delRecord.bind(this,null))}},{key:"componentDidMount",value:function(){window.addEventListener("mousedown",this.hideContextMenu),window.addEventListener("keydown",this.onKeyPress)}},{key:"componentDidUpdate",value:function(e,t){g.a.rebuild()}},{key:"componentWillUnmount",value:function(){B.a.posLines={},B.a.arrowList={},window.removeEventListener("mousedown",this.hideContextMenu),window.removeEventListener("keydown",this.onKeyPress),this.hideContextMenu(),v.a.closeAll(),W(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentWillUnmount",this).call(this)}},{key:"onKeyPress",value:function(e){var t=e||window.event||arguments.callee.caller.arguments[0];if((3==this.state.tab||2==this.state.tab||1==this.state.tab)&&this.selection[0]&&t&&67==t.keyCode){t.stopPropagation(),t.preventDefault();try{var n=[];H(".rt-tr-group.current").each(function(e,t){n.push(t.innerText.replace(/[\n]/g,"\t"))});var a=n.join("\r\n");H(document.body).append("<textarea id='clipboardTxt' style='position: absolute;left: -1000px;top: -1000px;'/>"),H("#clipboardTxt").val(a).select(),document.execCommand("copy",!1,null),H("#clipboardTxt").remove()}catch(t){}}}},{key:"selectInputRowSelector",value:function(e){var t=this;if(!e||!e.hasOwnProperty("ID"))return null;var n=function(){return t.isSelected(e.ID)},a={isChecked:n,onChange:this.toggleSelection.bind(this),id:e.ID,row:e};return c.a.createElement(Q,a)}},{key:"selectInputHeadSelector",value:function(e){var t=this,n=function(){return t.selectAll},a={isChecked:n,onChange:this.toggleAll.bind(this)};return c.a.createElement(Q,a)}},{key:"onConfirmEditDiv",value:function(e,t,n,a,r){var o={},i=n[0];if(-1!=["Notes"].indexOf(e))o[e]=a,this.submitModify(i,o,r);else{var s={};s[e]=""===a?a:Number(a),this.modifyStructData(i,s,r)}}},{key:"modifyStructData",value:function(e,t,n){var a=e,r={};for(var o in t){var i=t[o];if(-1==["Notes","SL.Param","TP.Param"].indexOf(o)&&(!i||!isNaN(i)&&Number(i)<=0)){var l=o;return l="MarginTotal"==l?"Margin":"TriggerPrice"==l?"Constant":l,void j.a.error(s.a.lang("trade.openError."+l))}if("MarginTotal"==o)r.Margin=F.k?Number(i):Number(C.a.accDiv(i,e.Volume));else if("Force"==o)r.Force=Number(i);else if("SL.Param"==o){if(!e.SL){if(e.Side==w.a.FUT.Side.BUY){if(Number(i)>=e.Product.price.LAST||Number(i)<=0)return void j.a.error(s.a.lang("trade.openError.SLParam.sl"))}else if(e.Side==w.a.FUT.Side.SELL&&Number(i)<=e.Product.price.LAST)return void j.a.error(s.a.lang("trade.openError.SLParam.bl"));var c={Strategy:w.a.FUT.Strategy.Line,Variable:w.a.FUT.Variable.LastPrice,Constant:i};return r.CID=e.CID,r.ID=e.ID,r.Visible=-1,Object.assign(r,c),void D.a.httpRequest("futures/setsl",r,function(e){e.Status},this)}var u=e.SLorder;if(u&&""===i)return void this.cancelOrders(u);if(e.Side==w.a.FUT.Side.BUY){if(u.Strategy==w.a.FUT.Strategy.Line&&(Number(i)>=e.Product.price.LAST||Number(i)<=0))return void j.a.error(s.a.lang("trade.openError.SLParam.sl"));if(u.Strategy==w.a.FUT.Strategy.Trail&&Number(i)>=0)return void j.a.error(s.a.lang("trade.openError.SLParam.sz"))}else if(e.Side==w.a.FUT.Side.SELL){if(u.Strategy==w.a.FUT.Strategy.Line&&Number(i)<=e.Product.price.LAST)return void j.a.error(s.a.lang("trade.openError.SLParam.bl"));if(u.Strategy==w.a.FUT.Strategy.Trail&&Number(i)<=0)return void j.a.error(s.a.lang("trade.openError.SLParam.bz"))}var c={Constant:i};r=c,a=u}else if("TP.Param"==o){if(e.TP&&""===i)return void this.cancelOrders(e.TPorder);if(e.Side==w.a.FUT.Side.BUY){if(Number(i)<=e.Product.price.LAST)return void j.a.error(s.a.lang("trade.openError.TPParam.bl"))}else if(e.Side==w.a.FUT.Side.SELL&&(Number(i)>=e.Product.price.LAST||Number(i)<=0))return void j.a.error(s.a.lang("trade.openError.TPParam.sl"));if(!e.TP)return r.CID=e.CID,r.ID=e.ID,r.Visible=-1,r.Strategy=w.a.FUT.Strategy.Line,r.Variable=w.a.FUT.Variable.LastPrice,r.Constant=i,r.Relative=!1,void D.a.httpRequest("futures/settp",r,function(e){e.Status},this);var u=e.TPorder,c={Constant:i,Relative:!1};r=c,a=u}else if("TriggerPrice"==o){var c={Constant:i};r=c}else r[o]=i}this.submitModify(a,r,n)}},{key:"submitModify",value:function(e,t,n){var a=this;if(e&&t){var r={CID:Number(e.CID),ID:Number(e.ID),Target:e.PID?w.a.FUT.Target.ORDER:w.a.FUT.Target.POSITION,Options:t};D.a.httpRequest("futures/setup",r,function(e){var t=0==e.Status;if(n&&n(t),t){a.state.tab}},this)}}},{key:"delRecord",value:function(e,t,n,a){var r=this,o=t.CID,i=!1;t.List&&(t=t.List,i=!0);var s={tab:this.state.tab,data:t};if(E.a.setting.isOneKeyTrade)"order"==t.orderType?this.cancelOrders(t):this.closePositions(t,i);else{var l={};n&&(l.x=n.clientX,l.y=n.clientY),v.a.open(c.a.createElement(k.g,Object.assign({product:E.a.getProductByID(o),action:"close",data:s},l,{onConfirm:function(e){e&&("order"==t.orderType?r.cancelOrders(t):r.closePositions(t,i)),a&&"function"==typeof a&&a(e)}})),"order-preview",!0,!1)}}},{key:"cancelOrders",value:function(e){var t=[];e.CID?t.push({CID:Number(e.CID),ID:Number(e.ID)}):t=e.map(function(e,t){return{CID:Number(e.CID),ID:Number(e.ID)}}),D.a.httpRequest("futures/cancel",{List:t},function(e){e.Status},this)}},{key:"closePositions",value:function(e,t){var n=[];if(t){if(e.CID)n.push(Number(e.CID));else{var a=e;a.forEach(function(e,t){-1==n.indexOf(Number(e.CID))&&n.push(Number(e.CID))})}D.a.httpRequest("futures/closeAll",{List:n},function(e){if(0==e.Status){var t=e.Data.Result;for(var n in t){var a=t[n];if(a&&a.Code>0){var r=E.a.getProductByID(n);j.a.error((a.Error,""+s.a.lang("trade.error.closePositionAll",r.Code,s.a.lang("server.status."+a.Code))))}}}},this)}else{if(e.CID)n.push({CID:Number(e.CID),ID:Number(e.ID)});else{var a=e;n=a.map(function(e,t){return{CID:Number(e.CID),ID:Number(e.ID)}})}D.a.httpRequest("futures/close",{List:n},function(e){if(0==e.Status){var t=e.Data.Result;for(var n in t){var a=t[n];a&&a.Code>0&&j.a.error((a.Error,""+s.a.lang("trade.error.closePosition",n,s.a.lang("server.status."+a.Code))))}}},this)}}},{key:"mergePosition",value:function(e){var t=Number(e[0].CID),n=e.map(function(e){return e.ID});D.a.httpRequest("futures/merge",{CID:t,List:n},function(e){e.Status},this)}},{key:"changeTab",value:function(e){e!=this.state.tab&&(this.updateCount=0,this.isEdit=!1,this.setState({tab:e,columns:this.getColumns(e),data:this.getData(e)}))}},{key:"changeInput",value:function(e){e.stopPropagation(),e.preventDefault()}},{key:"hideContextMenu",value:function(){v.a.closeByDomID("context-menu")}},{key:"selectOneRow",value:function(e){this.selectAll=!1,this.selection=[e],this.refs.reactTable.tableRowsUpdate()}},{key:"closeMobileLog",value:function(){this.props.onChange()}},{key:"render",value:function(){var e=this,t=this.props,n=t.style,r=t.className,o=t.code,i=t.height,l=t.hideStatBar,u=t.showIcon,d=t.hideAssetIcon,p=s.a.getLang(),h=this.state,m=h.tab,g=h.data,v=h.columns,y=h.history,b=h.pHistory,C=0;E.a.msgs.forEach(function(e,t){C+=e.m.length});return c.a.createElement("div",{className:r,style:n?n.history:{},onContextMenu:function(e){e.preventDefault(),e.stopPropagation()}},c.a.createElement("div",{className:"ff-history-nav fs11 f-clear asset-"+p},c.a.createElement("div",{className:"ff-history-nav-l fl f-clear"},c.a.createElement("span",{className:1==m?"current":null,onClick:function(){return e.changeTab(1)}},s.a.lang("futures.hist_nav1")+s.a.lang("common.bracket",E.a.posSummaryList.length),c.a.createElement("i",{className:"iconfont icon-question fem75","data-tip":s.a.lang("futures.nav1_tip")})),c.a.createElement("span",{className:2==m?"current":null,onClick:function(){return e.changeTab(2)}},s.a.lang("futures.hist_nav2")+s.a.lang("common.bracket",E.a.positionList.length),c.a.createElement("i",{className:"iconfont icon-question fem75","data-tip":s.a.lang("futures.nav2_tip")})),c.a.createElement("span",{className:3==m?"current":null,onClick:function(){return e.changeTab(3)}},s.a.lang("futures.hist_nav3")+s.a.lang("common.bracket",E.a.orderList.length),c.a.createElement("i",{className:"iconfont icon-question fem75","data-tip":s.a.lang("futures.nav2_tip")})),!F.k&&c.a.createElement("span",{className:4==m?"current":null,onClick:function(){return e.changeTab(4)}},s.a.lang("futures.hist_nav4")+s.a.lang("common.bracket",C)),c.a.createElement("span",{className:5==m?"current":null,onClick:function(){return e.changeTab(5)}},s.a.lang("futures.hist_nav5")),F.k&&c.a.createElement("span",{className:6==m?"current":null,onClick:function(){return e.changeTab(6)}},s.a.lang("futures.hist_nav6"),c.a.createElement("i",{className:"iconfont icon-question fem75","data-tip":s.a.lang("futures.nav6_tip")}))),!l&&c.a.createElement(G,{code:o,showIcon:u,hideAssetIcon:d,onChange:function(){return e.closeMobileLog()}})),c.a.createElement("div",{className:"futures-fullTrade-history-detail fs11 pos-rz"},(1==m||2==m||3==m)&&c.a.createElement(P.a,{ref:"reactTable",data:g,equalData:this.checkDataEqual,tabIndex:String(m),columns:v,className:"ft-order-log ft-log-w1 ft-log-opt",showPagination:!1,showPageJump:!1,minRows:g.length,pageSize:g.length,style:{height:i-31+"px"},getTrGroupProps:function(t,n,a){var r=e.isSelected(n.original.ID)?"current":"",o=!r&&(n.original.hasOwnProperty("Attempt")&&n.original.Attempt!=w.a.FUT.Action.OPEN||n.original.hasOwnProperty("Bankrupt")&&n.original.Bankrupt>0);return{className:L()(r,o?"disable":""),onContextMenu:e.onContextMenuRow.bind(e,n.original)}},getTdProps:function(t,n,a,r){return{onClick:e.selectRowColumn.bind(e,t,n,a,r)}},TbodyComponent:function(e){var t=e.children,n=e.className,r=a(e,["children","className"]);if(r){var o=Object.getOwnPropertyDescriptor(r.style,"height");o&&!o.writable||(r.style.height=i-53+"px")}return c.a.createElement(f.a,Object.assign({className:L()("log-list","ft-can-edit",n),contentClassName:"order-content"},r),t)},TheadComponent:function(e){var t=e.children,n=e.className,r=a(e,["children","className"]);return c.a.createElement("dl",Object.assign({className:L()("rt-thead","ft-log-theme","f-clear",n)},r),t)},ThComponent:function(e){var t=e.toggleSort,n=e.className,r=e.children,o=a(e,["toggleSort","className","children"]);return c.a.createElement("dd",Object.assign({className:L()("rt-th",n),onClick:function(e){return t&&t(e)},role:"columnheader",tabIndex:"-1"},o),r)},TrGroupComponent:function(e){var t=e.children,n=e.className,r=a(e,["children","className"]);return c.a.createElement("dl",Object.assign({className:L()("rt-tr-group","f-clear",n),role:"rowgroup"},r),t)},TdComponent:function(e){var t=(e.toggleSort,e.className),n=e.children,r=a(e,["toggleSort","className","children"]);return c.a.createElement("dd",Object.assign({className:L()("rt-td",t),role:"gridcell"},r),n)},NoDataComponent:function(e){var t=(e.children,e.className);a(e,["children","className"]);return c.a.createElement("div",{className:L()("rt-noData","ft-log-theme","f-clear","log-contain",t)},c.a.createElement("p",{className:"mt-30 tc"},s.a.lang("bank.1_27")))}}),4==m&&c.a.createElement(Y,{height:i}),5==m&&c.a.createElement(q,Object.assign({},y,{height:i,onChange:this.loadHistory.bind(this)})),6==m&&c.a.createElement(X,Object.assign({},b,{height:i,onChange:this.loadPositionHistory.bind(this)}))))}}]),t}(p.a),Y=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={list:E.a.msgs},n}return i(t,e),V(t,[{key:"parseData",value:function(e){for(var t=[],n=0,a=e.length;n<a;n++){var r=e[n];if(r)for(var o=r.m,i=0,l=o.length;i<l;i++){var c,u=o[i];if("Order"==u.Type)if("Create"==u.Event){var d=E.a.parseOrderToText(u);c=s.a.lang("trade.event.order_create",u.ID,d.join(" "))}else if("Update"==u.Event){var d=[],p=u.full;for(var h in u){var f=u[h];if("Filled"==h)d.push(s.a.lang("trade.event.orderFilled",Number(f)));else if("Kind"==h)p&&(p.Kind==w.a.FUT.Kind.LMT?(p.Attempt!=w.a.FUT.Action.TP&&p.Attempt!=w.a.FUT.Action.SL||p.Strategy==w.a.FUT.Strategy.Trail?d.push(p.Strategy==w.a.FUT.Strategy.Immediate?s.a.lang("trade.order.Strategy10"):s.a.lang(p.Strategy==w.a.FUT.Strategy.Line?"trade.order.Strategy11":"trade.order.Strategy12")):d.push(s.a.lang("trade.order.Strategy10")),d.push(s.a.lang("trade.event.Price",Number(p.Price)))):p.Attempt!=w.a.FUT.Action.TP&&p.Attempt!=w.a.FUT.Action.SL||p.Strategy==w.a.FUT.Strategy.Trail?d.push(p.Strategy==w.a.FUT.Strategy.Immediate?s.a.lang("trade.order.Strategy00"):s.a.lang(p.Strategy==w.a.FUT.Strategy.Line?"trade.order.Strategy01":"trade.order.Strategy02")):d.push(s.a.lang("trade.order.Strategy00")));else if("Constant"==h){if(p){var m=p.Side==w.a.FUT.Side.BUY&&p.Attempt!=w.a.FUT.Action.TP||p.Side==w.a.FUT.Side.SELL&&p.Attempt==w.a.FUT.Action.TP?"common.symbol.ge":"common.symbol.le";d.push(s.a.lang("trade.event.Constant",E.a.VariableTxtMap[p.Variable]+s.a.lang(m)+Number(p.Constant)+(p.Relative?s.a.lang("trade.open.delegateOption2"):"")))}}else"State"==h?p&&d.push(s.a.lang("trade.event.orderState",E.a.getOrderStateTxt(p))):"Timely"==h?p&&d.push(s.a.lang("trade.event.Timely",p.Timely==w.a.FUT.Timely.GTC?"GTC":p.Timely==w.a.FUT.Timely.LIFE?_.a.unix(_()(p.CreatedAt).unix()+p.TimelyParam).format("MM-DD HH:mm:ss"):O.a.ts2Server(p.TimelyParam,"MM-DD HH:mm:ss"))):-1!=["FinalPrice","XVolume","Fee","Scale","Volume","Notes"].indexOf(h)?d.push(s.a.lang("trade.event."+h,isNaN(f)?f:C.a.toFixed(Number(f)))):"Visible"==h?p&&(p.Visible>=0?d.push(s.a.lang(0==p.Visible?"trade.order.preview_hideDelegate":"trade.order.preview_showDelegate",Number(p.Visible))):d.push(s.a.lang("trade.event.Visiblelq0"))):"Passive"==h?p&&p.Passive&&d.push(s.a.lang("trade.open.beidong")):"Reason"==h&&d.push(s.a.lang("trade.event.orderReason",E.a.getOrderReason(u)))}c=s.a.lang("trade.event.order_update",u.ID,d.join(" "))}else"Delete"==u.Event&&(c=s.a.lang("trade.event.order_delete",u.ID));else if("Position"==u.Type)if("Create"==u.Event){var d=E.a.parsePositionToText(u);c=s.a.lang("trade.event.position_create",u.ID,d.join(" "))}else if("Update"==u.Event){var d=[];for(var h in u){var f=u[h];-1!=["Scale","Margin","Repay","Force","Notes"].indexOf(h)&&d.push(s.a.lang("trade.event."+h,isNaN(f)?f:Number(f)))}c=s.a.lang("trade.event.position_update",u.ID,d.join(" "))}else"Delete"==u.Event&&(c=s.a.lang("trade.event.position_delete",u.ID));else"Rank"==u.Type?c=s.a.lang("trade.event.rank",u.ID,Number(u.Rank)):"Mining"==u.Type&&(c=s.a.lang("mining.msg."+u.Event,u.Msg));t.unshift({t:r.t,m:c})}}return t}},{key:"componentWillMount",value:function(){A.a.addListener(A.a.EventName.TRADE_EVENT_UPDATE,this.onUpdateEvent.bind(this),this)}},{key:"onUpdateEvent",value:function(e){var t=this.state.list;t.filter(function(t,n){return t.ID==e.ID})[0]||(t.unshift(e),this.setState({list:t}))}},{key:"render",value:function(){var e=this.state.list,t=this.parseData(e),n=this.props.height;return c.a.createElement("div",{className:"ft-order-log ft-log-w4",style:{height:n-30+"px"}},c.a.createElement("dl",{className:"ft-log-theme f-clear"},c.a.createElement("dd",{style:{width:"10%"}},s.a.lang("trade.history.CreatedAt_O")),c.a.createElement("dd",{style:{width:"90%"}},s.a.lang("trade.history.tab4_t2"))),c.a.createElement(f.a,{className:L()("log-list","ft-can-edit"),contentClassName:"order-content",style:{height:n-53+"px"}},c.a.createElement("div",{className:"log-list ft-can-edit"},t&&t.map(function(e,t){return c.a.createElement("dl",{className:"f-clear",key:t},c.a.createElement("dd",{style:{width:"10%"}},e.t),c.a.createElement("dd",{style:{width:"90%",paddingLeft:"10px"},className:"tl"},e.m))}))))}}]),t}(p.a),q=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return i(t,e),V(t,[{key:"render",value:function(){var e=this.props,t=e.List,n=e.onChange,a=e.height,r=t,o=!!r&&!!r[0];return c.a.createElement("div",{className:"ft-order-log ft-log-w5",style:{height:a-30+"px"}},c.a.createElement("dl",{className:"ft-log-theme f-clear"},c.a.createElement("dd",{style:{width:"14%"}},s.a.lang("trade.history.CreatedAt_O")),c.a.createElement("dd",null,s.a.lang("trade.history.PID_O")),c.a.createElement("dd",null,s.a.lang("trade.history.CName_O")),c.a.createElement("dd",null,s.a.lang("trade.history.SideTxt_O")),c.a.createElement("dd",null,s.a.lang("trade.history.ScaleTxt_O")),c.a.createElement("dd",{style:{width:"9%"}},s.a.lang("trade.history.VolumeDesc_O")),c.a.createElement("dd",null,s.a.lang("trade.history.TypeDesc_O")),c.a.createElement("dd",null,s.a.lang("trade.history.OrderPrice_O")),c.a.createElement("dd",null,s.a.lang("trade.history.DealPrice_O")),c.a.createElement("dd",null,s.a.lang("trade.history.TimelyDesc_O")),c.a.createElement("dd",null,s.a.lang("trade.history.StateTxt_O")),c.a.createElement("dd",null,s.a.lang("trade.history.Notes"))),c.a.createElement("div",{className:"log-list ft-can-edit",style:{height:a-53+"px"}},o&&r.map(function(e,t){E.a.getProductByID(e.CID);return c.a.createElement("dl",{className:"f-clear",key:t},c.a.createElement("dd",{style:{width:"14%"}},e.CreatedAt),c.a.createElement("dd",null,e.PID),c.a.createElement("dd",null,e.CName),c.a.createElement("dd",{className:e.Side==w.a.FUT.Side.BUY?"green6":"red6"},e.SideTxt),c.a.createElement("dd",null,e.ScaleTxt),c.a.createElement("dd",{style:{width:"9%"}},e.VolumeDesc),c.a.createElement("dd",null,e.TypeDesc),c.a.createElement("dd",null,e.OrderPrice),c.a.createElement("dd",null,e.DealPrice),c.a.createElement("dd",null,e.TimelyDesc),c.a.createElement("dd",null,e.StateTxt),c.a.createElement("dd",null,e.Notes))}),o&&c.a.createElement(T.a,{data:this.props,onChange:n}),!o&&c.a.createElement("dl",{className:"f-clear",key:"h_no_data",style:{height:a-53+"px"}},c.a.createElement("dd",{style:{width:"100%"},className:"pd-30 border-none"},s.a.lang("bank.1_27")))))}}]),t}(p.a),X=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return i(t,e),V(t,[{key:"onContextMenu",value:function(e){e.preventDefault(),e.stopPropagation(),v.a.closeByDomID("context-menu"),v.a.open(c.a.createElement($,{tab:6,rows:[],x:e.clientX,y:e.clientY,pnComponent:this}),"context-menu",!1,!1)}},{key:"render",value:function(){var e=this.props,t=e.List,n=e.onChange,a=e.height,r=t,o=!!r&&!!r[0];return c.a.createElement("div",{className:"ft-order-log ft-log-w5",style:{height:a-30+"px"}},c.a.createElement("dl",{className:"ft-log-theme f-clear"},c.a.createElement("dd",null,s.a.lang("trade.history.ID")),c.a.createElement("dd",null,s.a.lang("trade.history.CName")),c.a.createElement("dd",null,s.a.lang("trade.history.SideTxt")),c.a.createElement("dd",null,s.a.lang("trade.history.ScaleTxt")),c.a.createElement("dd",null,s.a.lang("trade.history.Volume")),c.a.createElement("dd",null,s.a.lang("trade.history.PriceDesc")),c.a.createElement("dd",null,s.a.lang("trade.history.MarginTotalDesc")),c.a.createElement("dd",null,s.a.lang("trade.history.TypeDesc_O")),c.a.createElement("dd",{title:s.a.lang("trade.history.tab5_t11")},s.a.lang("trade.history.tab5_t11")),c.a.createElement("dd",null,s.a.lang("trade.history.tab5_t14")),c.a.createElement("dd",null,s.a.lang("trade.history.FeeDesc")),c.a.createElement("dd",null,s.a.lang("trade.history.CreatedAt_O")),c.a.createElement("dd",null,s.a.lang("trade.history.Notes"))),c.a.createElement("div",{className:"log-list ft-can-edit",style:{height:a-53+"px"},onContextMenu:this.onContextMenu.bind(this)},o&&r.map(function(e,t){E.a.getProductByID(e.CID);return c.a.createElement("dl",{className:"f-clear",key:t},c.a.createElement("dd",null,e.ID),c.a.createElement("dd",null,e.CName),c.a.createElement("dd",{className:e.Side==w.a.FUT.Side.BUY?"green6":"red6"},e.SideTxt),c.a.createElement("dd",null,e.ScaleTxt),c.a.createElement("dd",null,e.Volume),c.a.createElement("dd",null,e.PriceDesc),c.a.createElement("dd",null,e.MarginTotalDesc),c.a.createElement("dd",null,e.OperateDesc),c.a.createElement("dd",null,e.DealPrice),c.a.createElement("dd",{className:e.Profit>0?"green6":e.Profit<0?"red6":""},e.ProfitDesc),c.a.createElement("dd",null,e.FeeDesc),c.a.createElement("dd",null,e.CreatedAt),c.a.createElement("dd",null,e.Notes))}),o&&c.a.createElement(T.a,{data:this.props,onChange:n}),!o&&c.a.createElement("dl",{className:"f-clear",key:"h_no_data",style:{height:a-53+"px"}},c.a.createElement("dd",{style:{width:"100%"},className:"pd-30 border-none"},s.a.lang("bank.1_27")))))}}]),t}(p.a),G=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.isDesktop=!1,n.state={assetBox:!1,robotActivityOpen:!0},n}return i(t,e),V(t,[{key:"componentWillMount",value:function(){A.a.addListener(A.a.EventName.WALLET_UPDATE,this.onWalletUpdate.bind(this),this),A.a.addListener(A.a.EventName.WALLET_TOTAL_UPDATE,this.onWalletUpdate.bind(this),this)}},{key:"onWalletUpdate",value:function(){this.forceUpdate()}},{key:"toggleAsset",value:function(){var e=this.state.assetBox;this.setState({assetBox:!e})}},{key:"hideMobileLog",value:function(){this.props.onChange()}},{key:"render",value:function(){var e=this,t=this.props,n=t.code,a=t.showIcon,r=t.hideAssetIcon,o=this.state,i=o.assetBox,l=o.robotActivityOpen;if(n){var u=E.a.getProduct(n);if(u){var d=u[0],p=d.Currency,h=Object(R.c)(p),f=M.a.getWalletInfo(w.a.WALLET.TYPE.FUT),m=x.a.checkUserAuth(),g="--",v="--",y="--",b="--";if(m&&(g=0,v=0,y=0,b=0,f&&f[p])){var P=f[p],S=U.c.getCoinInfo(p),T=S?S.ShowDigits:4;g=C.a.addCommas(C.a.format(P.gross,T)),v=C.a.addCommas(C.a.format(P.net,T)),y=C.a.addCommas(C.a.format(P.canUse,T)),b=C.a.addCommas(C.a.format(P.PL,T))}return c.a.createElement("div",{className:"ff-history-nav-r fr lh-25"},!r&&c.a.createElement("span",{className:"iconfont icon-money asset-icon fem125",onClick:function(){return e.toggleAsset()}}),c.a.createElement("div",{className:"sm-asset-box "+(i?"asShow":"asHide")},!l&&c.a.createElement("span",null,s.a.lang("tradeHistory.2_69")+": ","Taker (",c.a.createElement("span",{className:"trade-order-head-unline"},"0.10%")," 0.00%)",c.a.createElement("span",{className:"trade-order-head-span"}),"Maker (",c.a.createElement("span",{className:"trade-order-head-unline"},"0.10%")," 0.00%)"),c.a.createElement("span",null,s.a.lang("futures.quantity")+": "+h.sb+g),c.a.createElement("span",null,s.a.lang("futures.asset")+": "+h.sb+v),c.a.createElement("span",null,s.a.lang("futures.can_use")+": "+h.sb+y,m&&!this.isDesktop&&c.a.createElement("a",{href:"/recharge",target:"_blank"},c.a.createElement("i",{className:"iconfont icon-add-bg dis-inb pdl-5"}))),c.a.createElement("span",null,s.a.lang("futures.float")+": "+h.sb+b)),!F.k&&c.a.createElement("span",null,d&&c.a.createElement(k.i,{code:this.props.code,name:"history"})),a&&c.a.createElement("p",{className:"iconfont icon-down mb-icon-down",onClick:function(){return e.hideMobileLog()}}))}}return c.a.createElement("div",{className:"ff-history-nav-r fr lh-25"})}}]),t}(p.a),Q=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return i(t,e),V(t,[{key:"render",value:function(){var e=this,t=this.props.isChecked();return c.a.createElement("label",{className:"custom-checkbox"},c.a.createElement("div",{style:{margin:"3px 1px"}},c.a.createElement("input",{type:"checkbox",className:"input_check",checked:t,onChange:function(t){t.stopPropagation(),e.props.onChange(e.props.id)}}),c.a.createElement("i",null)))}}]),t}(p.a),J=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onMouseClick=function(e){if(n.state.editMode){e.stopPropagation();var t=d.a.findDOMNode(n);H.contains(t,e.target)||(n.setState({editMode:!1}),n.props.onFocusBlur&&n.props.onFocusBlur(!1),window.removeEventListener("keydown",n.onKeyPress))}},n.isClose=!1,n.onMouseClick=n.onMouseClick.bind(n),n.onKeyPress=n.onKeyPress.bind(n),n.state={editMode:!1,value:n.props.value,inputValue:n.props.value},n}return i(t,e),V(t,[{key:"componentWillReceiveProps",value:function(e){e.value!=this.state.value&&this.setState({value:e.value})}},{key:"componentDidMount",value:function(){window.addEventListener("click",this.onMouseClick)}},{key:"componentWillUnmount",value:function(){this.isClose=!0,window.removeEventListener("click",this.onMouseClick),window.removeEventListener("keydown",this.onKeyPress),W(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentWillUnmount",this).call(this)}},{key:"toggle",value:function(e){var t=this;e.preventDefault(),e.stopPropagation();var n=this.props.type;"popup"!=n&&(this.state.editMode||(this.setState({editMode:!0,inputValue:"number"==n?this.props.num:this.state.value},function(){var e=d.a.findDOMNode(t);H(e).find("input").focus()}),this.props.onFocusBlur&&this.props.onFocusBlur(!0)),window.addEventListener("keydown",this.onKeyPress))}},{key:"onChangeTextValue",value:function(e){var t=e.target.value;this.setState({inputValue:t})}},{key:"onChangeNumberValue",value:function(e){this.setState({inputValue:e})}},{key:"onKeyPress",value:function(e){var t=this;if(!this.state.editMode)return!1;var n=e||window.event||arguments.callee.caller.arguments[0];if(n&&13==n.keyCode){n.stopPropagation(),n.preventDefault();var a=this.state.inputValue;("number"==this.props.type?this.props.num:this.props.value)!=a||!this.props.value&&a==this.props.num?(this.setState({value:a,editMode:!1}),this.props.onConfirm(this.props.rows,a,function(e){e||t.isClose||t.setState({editMode:!1,value:t.props.value,inputValue:t.props.value})})):this.setState({editMode:!1,value:this.props.value,inputValue:this.props.value}),window.removeEventListener("keydown",this.onKeyPress),this.props.onFocusBlur&&this.props.onFocusBlur(!1)}}},{key:"render",value:function(){var e=this,t=this.props,n=t.type,a=t.disabled,r=t.step,o=t.min,i=t.max,s=t.isRequire,l=this.state,u=l.editMode,d=l.value,p=l.inputValue,h=!a;return c.a.createElement("div",{style:{width:"100%",height:"100%"},onDoubleClick:function(t){h&&e.toggle(t)},className:h?"slider-number-box":""},u?"text"==n?c.a.createElement("div",{className:"editDiv"},c.a.createElement("input",{type:"text",className:"wp-100",value:p,onChange:this.onChangeTextValue.bind(this)})):c.a.createElement(b.a,{value:p,isRequire:s,step:r,min:o,max:i,className:"slider-number-box editDiv",onChange:this.onChangeNumberValue.bind(this)}):c.a.createElement("span",null,d))}}]),t}(p.a),Z=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isOver:!1,value:n.props.value,text:n.props.text},n}return i(t,e),V(t,[{key:"componentWillReceiveProps",value:function(e){this.state.isOver?this.setState({value:e.overValue,text:e.overText}):this.setState({value:e.value,text:e.text})}},{key:"onMouseEnter",value:function(e){e.stopPropagation(),this.setState({isOver:!0,value:this.props.overValue,text:this.props.overText})}},{key:"onMouseLeave",value:function(e){e.stopPropagation(),this.setState({isOver:!1,value:this.props.value,text:this.props.text})}},{key:"render",value:function(){var e=this.props.className,t=this.state,n=t.isOver,a=t.value,r=t.text,o=Number(a);return c.a.createElement("span",{className:L()(o>0?"green6":o<0?"red6":"","wp-100",n?"bg-black":"",e),onMouseOver:this.onMouseEnter.bind(this),onMouseOut:this.onMouseLeave.bind(this)},r)}}]),t}(p.a),$=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.getMenuPosition=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a={top:t,left:e};if(!n.menu)return a;var r=window,o=r.innerWidth,i=r.innerHeight,s=n.menu.getBoundingClientRect();return t+s.height>i&&(a.top-=s.height),e+s.width>o&&(a.left-=s.width),a.top<0&&(a.top=s.height<i?(i-s.height)/2:0),a.left<0&&(a.left=s.width<o?(o-s.width)/2:0),a},n.menuRef=function(e){n.menu=e};var a=n.props.tab;return n.state={menuMap:n.getMenuMap(a)},n}return i(t,e),V(t,[{key:"getMenuMap",value:function(e){var t=this.props.rows;return 1==e?this.getTab1Menu(t):2==e?this.getTab2Menu(t):3==e?this.getTab3Menu(t):6==e?this.getTab6Menu():void 0}},{key:"getTab1Menu",value:function(e){var t={closePosition:1,mergePosition:1};return!e[1]&&e[0].List[1]||(t.mergePosition=0),t}},{key:"getTab2Menu",value:function(e){var t={closePosition:1,conditionClose:0,splitPosition:0,mergePosition:0,"placeholder.1":1,adjustLever:0,addDeposit:0,adjustForce:0,"placeholder.2":1,setSL:0,editSL:0,cancelSL:1,"placeholder.3":1,setTP:0,editTP:0,cancelTP:1};if(e[1]){var n,a=!1,r=!1,o=!1;e.forEach(function(e){e.TP&&(a=!0),e.SL&&(r=!0),n&&n.CID!=e.CID&&(o=!0),n=e}),a||(t.cancelTP=0),r||(t.cancelSL=0),t.mergePosition=o?0:1}else{var i=e[0];t.conditionClose=1,t.adjustLever=1,t.addDeposit=1,t.adjustForce=1,t.splitPosition=i.Volume>1?1:0,i.TP?(t.editTP=1,t.cancelTP=1):(t.setTP=1,t.editTP=0,t.cancelTP=0),i.SL?(t.editSL=1,t.cancelSL=1):(t.setSL=1,t.editSL=0,t.cancelSL=0)}return t}},{key:"getTab3Menu",value:function(e){var t=this.groupByOrders(e),n=t[w.a.FUT.Action.OPEN],a=t[w.a.FUT.Action.SL],r=t[w.a.FUT.Action.TP],o=t[w.a.FUT.Action.CLOSE],i=t[w.a.FUT.Action.CLEAR],s={};if(n)if(s={cancelOrder:1,editOrder:1,"placeholder.1":1,setSL:1,editSL:1,cancelSL:1,"placeholder.2":1,setTP:1,editTP:1,cancelTP:1},1==n.length){var l=n[0];l.TP?s.setTP=0:(s.editTP=0,s.cancelTP=0),l.SL?s.setSL=0:(s.editSL=0,s.cancelSL=0)}else if(!a&&!r){for(var c=!1,u=!1,d=0,p=n.length;d<p;d++){var l=n[d];if(l.TP&&(c=!0),l.SL&&(u=!0),c&&u)break}c||(s.cancelTP=0),u||(s.cancelSL=0)}if(a&&(s.hasOwnProperty("cancelSL")?s.cancelSL=1:s={cancelOrder:1,"placeholder.1":1,editSL:1,cancelSL:1}),r&&(s.hasOwnProperty("cancelTP")?s.cancelTP=1:Object.assign(s,{cancelOrder:1,"placeholder.1":1,editTP:1,cancelTP:1})),(o||i)&&Object.assign(s,{cancelOrder:1}),e[1])for(var h in s)-1==["cancelOrder","cancelSL","cancelTP"].indexOf(h)&&-1==h.indexOf("placeholder")&&(s[h]=0);return s}},{key:"getTab6Menu",value:function(){return{positionLog:{href:"/history?t=2",target:"_blank"}}}},{key:"getTab1AllRows",value:function(){var e=[];return this.props.rows.forEach(function(t){e=e.concat(t.List)}),e}},{key:"groupByOrders",value:function(e){for(var t={},n=0,a=e.length;n<a;n++){var r=e[n],o=r.Attempt;t[o]||(t[o]=[]),t[o].push(r)}return t}},{key:"findFilterOrders",value:function(e){var t=[];return-1!=["SL","TP"].indexOf(e)&&this.props.rows.forEach(function(n){n.hasOwnProperty("Attempt")&&n.Attempt==w.a.FUT.Action[e]?t.push(n):n[e+"order"]&&t.push(n[e+"order"])}),t}},{key:"selectMenu",value:function(e,t){e.stopPropagation(),e.preventDefault(),this.close();var n=this.props.pnComponent,a=this.props.tab;switch(t){case"closePosition":var r=1==a?this.getTab1AllRows():this.props.rows;n.closePositions(r,1==a);break;case"cancelOrder":n.cancelOrders(this.props.rows);break;case"mergePosition":var r=1==a?this.getTab1AllRows():this.props.rows;n.mergePosition(r);break;case"cancelSL":n.cancelOrders(this.findFilterOrders("SL"));break;case"cancelTP":n.cancelOrders(this.findFilterOrders("TP"));break;case"conditionClose":case"splitPosition":case"adjustLever":case"addDeposit":case"adjustForce":case"setSL":case"editSL":case"setTP":case"editTP":case"editOrder":this.popUpDialog(t)}}},{key:"popUpDialog",value:function(e){v.a.closeByDomID("order-edit"),v.a.open(c.a.createElement(y.a,{option:e,data:this.props.rows}),"order-edit",!0)}},{key:"componentDidMount",value:function(){var e=this.props,t=e.x,n=e.y,a=this.menu.parentNode;a.style.top=t+"px",a.style.left=n+"px",a.style.position="absolute",a.style.visibility="hidden";var r=this.getMenuPosition(t,n),o=r.top,i=r.left;a.style.top=o+"px",a.style.left=i+"px",a.style.visibility="visible"}},{key:"close",value:function(){v.a.closeByDomID("context-menu")}},{key:"preventEvent",value:function(e){e.stopPropagation(),e.preventDefault()}},{key:"render",value:function(){var e=this,t=this.props,n=t.rows,a=t.tab,r=this.state.menuMap,o=E.a.getSkin(),i=Object.keys(r),l=n.length,u=["closePosition","mergePosition","cancelOrder"];return c.a.createElement("div",{className:"futures-bg-"+o,id:"context-menu",ref:this.menuRef},c.a.createElement("ul",{className:"menu-list",onClick:this.close.bind(this)},i.map(function(t,n){var o=r[t],i="undefined"===typeof o?"undefined":z(o);if("number"==i){var d=o;return-1!=t.indexOf("placeholder")?c.a.createElement("li",{className:"bd-b",key:n}):c.a.createElement("li",{onMouseDown:function(n){d&&e.selectMenu(n,t)},key:n,className:d?"":"disable"},s.a.lang("trade.contextMenu."+t)+(1!=a&&l>1&&-1!=u.indexOf(t)?"("+l+")":""))}if("object"==i&&o.href)return c.a.createElement("li",{key:n,onMouseDown:e.preventEvent.bind(e)},c.a.createElement("a",{href:o.href,target:o.target},s.a.lang("trade.contextMenu."+t)))})))}}]),t}(p.a)}).call(t,n(13))},329:function(e,t,n){"use strict";function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=n(0),c=n.n(l),u=n(187),d=function(){function e(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(a=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{!a&&s.return&&s.return()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.a=function(e){return function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),p(t,[{key:"getResolvedState",value:function(e,t){return Object.assign({},u.a.compactObject(this.state),u.a.compactObject(this.props),u.a.compactObject(t),u.a.compactObject(e))}},{key:"getDataModel",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=e.columns,i=e.pivotBy,s=void 0===i?[]:i,l=e.data,p=e.pivotIDKey,h=e.pivotValKey,f=e.subRowsKey,m=e.aggregatedKey,g=e.nestingLevelKey,v=e.originalKey,y=e.indexKey,b=e.groupedByPivotKey,E=e.SubComponent,w=Object.assign({},e),C=void 0,P=void 0,S=void 0;if(n)P=e.allDecoratedColumns,C=e.allVisibleColumns;else{var k=!1;o.forEach(function(e){e.columns&&(k=!0)});var T=[].concat(r(o)),D=o.find(function(e){return e.expander||e.columns&&e.columns.some(function(e){return e.expander})});D&&!D.expander&&(D=D.columns.find(function(e){return e.expander})),E&&!D&&(D={expander:!0},T=[D].concat(r(T)));var A=function(e,n){var a=void 0;if(a=e.expander?Object.assign({},t.props.column,t.props.expanderDefaults,e):Object.assign({},t.props.column,e),a.maxWidth<a.minWidth&&(a.minWidth=a.maxWidth),n&&(a.parentColumn=n),"string"===typeof a.accessor){a.id=a.id||a.accessor;var r=a.accessor;return a.accessor=function(e){return u.a.get(e,r)},a}if(a.accessor&&!a.id)throw console.warn(a),new Error("A column id is required if using a non-string accessor for column above.");return a.accessor||(a.accessor=function(){}),a};P=[];var x=function(e,t){var n=A(e,t);return P.push(n),n},O=T.map(function(e){return e.columns?Object.assign({},e,{columns:e.columns.map(function(t){return x(t,e)})}):x(e)}),N=O.slice();C=[],N=N.map(function(e){if(e.columns){var t=e.columns.filter(function(e){return!(s.indexOf(e.id)>-1)&&u.a.getFirstDefined(e.show,!0)});return Object.assign({},e,{columns:t})}return e}),N=N.filter(function(e){return e.columns?e.columns.length:!(s.indexOf(e.id)>-1)&&u.a.getFirstDefined(e.show,!0)});var _=N.findIndex(function(e){return e.pivot});if(s.length){var M=[];s.forEach(function(e){var t=P.find(function(t){return t.id===e});t&&M.push(t)});var R=M.reduce(function(e,t){return e&&e===t.parentColumn&&t.parentColumn},M[0].parentColumn),I=k&&R.Header;I=I||function(){return c.a.createElement("strong",null,"Pivoted")};var L={Header:I,columns:M.map(function(e){return Object.assign({},t.props.pivotDefaults,e,{pivoted:!0})})};_>=0?(L=Object.assign({},N[_],L),N.splice(_,1,L)):N.unshift(L)}var j=[],B=[],U=function(e,n){j.push(Object.assign({},t.props.column,n,{columns:e})),B=[]};N.forEach(function(e){if(e.columns)return C=C.concat(e.columns),B.length>0&&U(B),void U(e.columns,e);C.push(e),B.push(e)}),k&&B.length>0&&U(B),w.headerGroups=j,w.hasHeaderGroups=k,w.allVisibleColumns=C,w.allDecoratedColumns=P}var F=function e(t,n){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=(r={},a(r,v,t),a(r,y,n),a(r,f,t[f]),a(r,g,o),r);return P.forEach(function(e){e.expander||(i[e.id]=e.accessor(t))}),i[f]&&(i[f]=i[f].map(function(t,n){return e(t,n,o+1)})),i};S=l.map(function(e,t){return F(e,t)});var z=C.filter(function(e){return!e.expander&&e.aggregate}),V=function(e){var t={};return z.forEach(function(n){var a=e.map(function(e){return e[n.id]});t[n.id]=n.aggregate(a,e)}),t};if(s.length){S=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(r===n.length)return t;var o=Object.entries(u.a.groupBy(t,n[r])).map(function(e){var t,o=d(e,2),i=o[0],s=o[1];return t={},a(t,p,n[r]),a(t,h,i),a(t,n[r],i),a(t,f,s),a(t,g,r),a(t,b,!0),t});return o=o.map(function(t){var o,i=e(t[f],n,r+1);return Object.assign({},t,(o={},a(o,f,i),a(o,m,!0),o),V(i))})}(S,s)}return w.resolvedData=S,w.noReset=n,w}},{key:"getSortedData",value:function(e){var t=e.manual,n=e.sorted,a=e.filtered,r=e.defaultFilterMethod,o=e.resolvedData,i=e.allVisibleColumns,s=e.allDecoratedColumns,l={};return s.filter(function(e){return e.sortMethod}).forEach(function(e){l[e.id]=e.sortMethod}),{sortedData:t?o:this.sortData(this.filterData(o,a,r,i),n,l)}}},{key:"fireFetchData",value:function(){this.props.onFetchData(this.getResolvedState(),this)}},{key:"checkDataEqual",value:function(e,t){return this.props.equalData(e,t)}},{key:"getPropOrState",value:function(e){return u.a.getFirstDefined(this.props[e],this.state[e])}},{key:"getStateOrProp",value:function(e){return u.a.getFirstDefined(this.state[e],this.props[e])}},{key:"filterData",value:function(e,t,n,r){var o=this,i=e;return t.length&&(i=t.reduce(function(e,t){var a=r.find(function(e){return e.id===t.id});if(!a||!1===a.filterable)return e;var o=a.filterMethod||n;return a.filterAll?o(t,e,a):e.filter(function(e){return o(t,e,a)})},i),i=i.map(function(e){return e[o.props.subRowsKey]?Object.assign({},e,a({},o.props.subRowsKey,o.filterData(e[o.props.subRowsKey],t,n,r))):e}).filter(function(e){return!e[o.props.subRowsKey]||e[o.props.subRowsKey].length>0})),i}},{key:"sortData",value:function(e,t){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t.length)return e;var r=(this.props.orderByMethod||u.a.orderBy)(e,t.map(function(e){return a[e.id]?function(t,n){return a[e.id](t[e.id],n[e.id],e.desc)}:function(t,a){return n.props.defaultSortMethod(t[e.id],a[e.id],e.desc)}}),t.map(function(e){return!e.desc}),this.props.indexKey);return r.forEach(function(e){e[n.props.subRowsKey]&&(e[n.props.subRowsKey]=n.sortData(e[n.props.subRowsKey],t,a))}),r}},{key:"getMinRows",value:function(){return u.a.getFirstDefined(this.props.minRows,this.getStateOrProp("pageSize"))}},{key:"onPageChange",value:function(e){var t=this.props,n=t.onPageChange,a=t.collapseOnPageChange,r={page:e};a&&(r.expanded={}),this.setStateWithData(r,function(){return n&&n(e)})}},{key:"onPageSizeChange",value:function(e){var t=this.props.onPageSizeChange,n=this.getResolvedState(),a=n.pageSize,r=n.page,o=a*r,i=Math.floor(o/e);this.setStateWithData({pageSize:e,page:i},function(){return t&&t(e,i)})}},{key:"sortColumn",value:function(e,t){var n=this.getResolvedState(),a=n.sorted,r=n.skipNextSort,o=n.defaultSortDesc,i=Object.prototype.hasOwnProperty.call(e,"defaultSortDesc")?e.defaultSortDesc:o,s=!i;if(r)return void this.setStateWithData({skipNextSort:!1});var l=this.props.onSortedChange,c=u.a.clone(a||[]).map(function(e){return e.desc=u.a.isSortingDesc(e),e});if(u.a.isArray(e)){var d=c.findIndex(function(t){return t.id===e[0].id});if(d>-1){c[d].desc===s?t?c.splice(d,e.length):e.forEach(function(e,t){c[d+t].desc=i}):e.forEach(function(e,t){c[d+t].desc=s}),t||(c=c.slice(d,e.length))}else c=t?c.concat(e.map(function(e){return{id:e.id,desc:i}})):e.map(function(e){return{id:e.id,desc:i}})}else{var p=c.findIndex(function(t){return t.id===e.id});if(p>-1){var h=c[p];h.desc===s?t?c.splice(p,1):(h.desc=i,c=[h]):(h.desc=s,t||(c=[h]))}else t?c.push({id:e.id,desc:i}):c=[{id:e.id,desc:i}]}this.setStateWithData({page:!a.length&&c.length||!t?0:this.state.page,sorted:c},function(){return l&&l(c,e,t)})}},{key:"filterColumn",value:function(e,t){var n=this.getResolvedState(),a=n.filtered,r=this.props.onFilteredChange,o=(a||[]).filter(function(t){return t.id!==e.id});""!==t&&o.push({id:e.id,value:t}),this.setStateWithData({filtered:o},function(){return r&&r(o,e,t)})}},{key:"setStateWithData",value:function(e,t){var n=this,a=this.getResolvedState(),r=this.getResolvedState({},e),o=r.freezeWhenExpanded;if(r.frozen=!1,o)for(var i=Object.keys(r.expanded),s=0;s<i.length;s+=1)if(r.expanded[i[s]]){r.frozen=!0;break}return(a.frozen&&!r.frozen||a.sorted!==r.sorted||a.filtered!==r.filtered||a.showFilters!==r.showFilters||!r.frozen&&a.resolvedData!==r.resolvedData)&&((a.sorted!==r.sorted&&this.props.collapseOnSortingChange||a.filtered!==r.filtered||a.showFilters!==r.showFilters||a.sortedData&&!r.frozen&&a.resolvedData!==r.resolvedData&&this.props.collapseOnDataChange)&&(r.expanded={}),Object.assign(r,this.getSortedData(r))),a.filtered!==r.filtered&&(r.page=0),r.sortedData&&(r.pages=r.manual?r.pages:Math.ceil(r.sortedData.length/r.pageSize),r.page=Math.max(r.page>=r.pages?r.pages-1:r.page,0)),this.setState(r,function(){t&&t(),a.page===r.page&&a.pageSize===r.pageSize&&a.sorted===r.sorted&&a.filtered===r.filtered||n.fireFetchData()})}},{key:"resizeColumnStart",value:function(e,t,n){var a=this;e.stopPropagation();var r=e.target.parentElement.getBoundingClientRect().width,o=void 0;o=n?e.changedTouches[0].pageX:e.pageX,this.trapEvents=!0,this.setStateWithData({currentlyResizing:{id:t.id,startX:o,parentWidth:r}},function(){n?(document.addEventListener("touchmove",a.resizeColumnMoving),document.addEventListener("touchcancel",a.resizeColumnEnd),document.addEventListener("touchend",a.resizeColumnEnd)):(document.addEventListener("mousemove",a.resizeColumnMoving),document.addEventListener("mouseup",a.resizeColumnEnd),document.addEventListener("mouseleave",a.resizeColumnEnd))})}},{key:"resizeColumnMoving",value:function(e){e.stopPropagation();var t=this.props.onResizedChange,n=this.getResolvedState(),a=n.resized,r=n.currentlyResizing,o=a.filter(function(e){return e.id!==r.id}),i=void 0;"touchmove"===e.type?i=e.changedTouches[0].pageX:"mousemove"===e.type&&(i=e.pageX);var s=Math.max(r.parentWidth+i-r.startX,11);o.push({id:r.id,value:s}),this.setStateWithData({resized:o},function(){return t&&t(o,e)})}},{key:"resizeColumnEnd",value:function(e){e.stopPropagation();var t="touchend"===e.type||"touchcancel"===e.type;t&&(document.removeEventListener("touchmove",this.resizeColumnMoving),document.removeEventListener("touchcancel",this.resizeColumnEnd),document.removeEventListener("touchend",this.resizeColumnEnd)),document.removeEventListener("mousemove",this.resizeColumnMoving),document.removeEventListener("mouseup",this.resizeColumnEnd),document.removeEventListener("mouseleave",this.resizeColumnEnd),t||this.setStateWithData({skipNextSort:!0,currentlyResizing:!1})}}]),t}(e)}},330:function(e,t,n){"use strict";(function(e){function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(2),s=n(0),l=n.n(s),c=n(25),u=n(228),d=n.n(u),p=n(24),h=n(9),f=n(16),m=n(15),g=n(5),v=n(3),y=n(28),b=n.n(y),E=n(36),w=n(12),C=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),P=e,S=function(e){function t(e){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.isDesktop=!1,n.historyPageSize=50,n.state={tab:1,orders:{List:[]},historys:{List:[],PageSize:n.historyPageSize}},n}return o(t,e),C(t,[{key:"componentWillMount",value:function(){v.a.addListener(v.a.EventName.ORDER_UPDATE,this.loadAll.bind(this),this),this.loadOrders()}},{key:"loadAll",value:function(){this.loadOrders(),2!=this.state.tab||this.state.historys.Page&&1!=this.state.historys.Page||this.loadHistory(1)}},{key:"loadOrders",value:function(){if(w.a.checkUserAuth()){var e=this;h.a.httpRequest("spot/orders","",function(t){0==t.Status&&t.Data&&(null!=t.Data.List?e.setState({orders:t.Data}):e.setState({orders:{List:[]}}))},this)}}},{key:"loadHistory",value:function(e){if(w.a.checkUserAuth()&&!(e<1)){this.state&&this.state.historys&&this.state.historys.PageCount&&e>this.state.historys.PageCount&&(e=this.state.historys.PageCount);var t=this;h.a.httpRequest("spot/history",{PageSize:this.historyPageSize,Page:parseInt(e),BeginTime:b()().format("YYYY-MM-DD"),EndTime:b()().format("YYYY-MM-DD")},function(e){0==e.Status&&e.Data&&(null!=e.Data.List?t.setState({historys:e.Data}):t.setState({historys:{List:[],PageSize:t.historyPageSize,Total:0}}))},this)}}},{key:"changeTab",value:function(e){this.state.tab!=e&&(this.setState({tab:e}),1==e?this.loadOrders():this.loadHistory(1))}},{key:"cancelOrder",value:function(e,t){t.preventDefault(),t.stopPropagation();var n=P(t.target);if(!n.hasClass("disable")){n.addClass("disable"),h.a.httpRequest("spot/cancel",{ID:parseInt(e.Id),Currency:e.Currency,Rid:e.Rid},function(e){n.removeClass("disable")},this)}}},{key:"render",value:function(){var e=this.props,t=e.isExpert,n=(e.user,e.uInfo,e.isMobile),a=this.state,r=a.orders,o=a.historys,s=a.tab,u=this,p=t?"":" border-l",h=null!=r.List[0];return l.a.createElement("div",{className:t?"trade-full-log":"trade-history-box trade-log pos-r mt-30 pdb-50",style:n?null:t?{position:"absolute",right:"465px",bottom:0,height:"300px",marginLeft:"5px",width:"calc(100% - 460px)",overflow:"hidden",backgroundColor:"#272d33"}:null},l.a.createElement("div",{className:"trade-history-box trade-log"},!(this.isDesktop||n)&&l.a.createElement("div",{className:"trade-history-log-btn tc"},l.a.createElement(c.Link,{to:"/history",target:"_blank"},i.a.lang("TradeHistory.100"))),l.a.createElement("ul",{className:t?"trade-order-head head-border-full f-clear":"trade-full-order-head f-clear"},l.a.createElement("li",{className:"his-li",onClick:this.changeTab.bind(u,1)},l.a.createElement("span",{className:1==s?"his-box current"+p:"his-box"},i.a.lang("TradeHistory.101")+" ("+r.List.length+")")),l.a.createElement("li",{className:"his-li",onClick:this.changeTab.bind(u,2)},l.a.createElement("span",{className:2==s?"his-box current":"his-box"},i.a.lang("TradeHistory.102")))),1==s&&l.a.createElement("div",{className:"trade-order-log"},l.a.createElement("dl",{className:"f-clear"},l.a.createElement("dd",null,i.a.lang("accountSafe.1_102")),l.a.createElement("dd",null,i.a.lang("TradeHistory.103")),l.a.createElement("dd",null,i.a.lang("TradeHistory.104")),l.a.createElement("dd",null,i.a.lang("TradeHistory.105")),l.a.createElement("dd",null,i.a.lang("tradeHistory.1_9")),l.a.createElement("dd",null,i.a.lang("TradeHistory.106")),l.a.createElement("dd",{className:"tc"},i.a.lang("accountSafe.1_99"))),l.a.createElement(d.a,{className:t?"log-contain t2-sa-f":"log-contain log-list t2-sa",contentClassName:"order-content"},!h&&l.a.createElement("p",{className:"mt-30 tc"},i.a.lang("bank.1_27")),h&&r.List.map(function(e,t){var n=Object(g.c)(e.Currency),a=E.a.getOrderCode(e.Rid,e.Currency),r=E.a.getProduct(a);if(r){var o=m.a.accMul(e.Price,e.Quantity,r.PriceFixed);return l.a.createElement("dl",{className:"f-clear",key:t},l.a.createElement("dd",null,e.CreateTime.substring(5,16)),l.a.createElement("dd",null,e.Rid?a:""),l.a.createElement("dd",null,e.Direction==f.a.TRADE.DIRECTION.BID?i.a.lang("TradeForm.108"):i.a.lang("TradeForm.109")),l.a.createElement("dd",null,m.a.toFixed(e.Price,r.PriceFixed)),l.a.createElement("dd",null,m.a.toFixed(e.Quantity,r.VolFixed)),l.a.createElement("dd",null,n.sb+o),l.a.createElement("dd",{className:"tc"},l.a.createElement("a",{href:"javascript:;",className:"blue1 cursor",onClick:function(t){return u.cancelOrder(e,t)}},i.a.lang("tradeHistory.1_18"))))}}))),2==s&&l.a.createElement("div",{className:"trade-order-log"},l.a.createElement("dl",{className:"trade-new f-clear"},l.a.createElement("dd",{style:{width:""}},i.a.lang("accountSafe.1_102")),l.a.createElement("dd",null,i.a.lang("TradeHistory.103")),l.a.createElement("dd",null,i.a.lang("TradeHistory.104")),l.a.createElement("dd",null,i.a.lang("TradeHistory.105")),l.a.createElement("dd",null,i.a.lang("tradeHistory.1_9")),l.a.createElement("dd",null,i.a.lang("TradeHistory.106")),l.a.createElement("dd",null,i.a.lang("tradeHistory.2_69")),l.a.createElement("dd",null,i.a.lang("recharge.1_23"))),l.a.createElement(d.a,{className:"t2-sa-f",contentClassName:"order-content"},o.hasOwnProperty("Total")&&0==o.Total&&l.a.createElement("p",{className:"mt-30 tc"},i.a.lang("bank.1_27")),o.hasOwnProperty("Total")&&o.Total>0&&o.List.map(function(e,t){var n=Object(g.c)(e.Currency),a=E.a.getOrderCode(e.Rid,e.Currency),r=E.a.getProduct(a);if(r){var o=m.a.accMul(e.Reality,e.Quantity,r.PriceFixed),s=m.a.toFixed(e.Commission,r.PriceFixed);return l.a.createElement("dl",{className:"trade-new f-clear",key:t},l.a.createElement("dd",null,e.CreateTime.substring(11,19)),l.a.createElement("dd",null,e.Rid?a:""),l.a.createElement("dd",null,e.Direction==f.a.TRADE.DIRECTION.BID?i.a.lang("TradeForm.108"):i.a.lang("TradeForm.109")),l.a.createElement("dd",null,m.a.toFixed(e.Reality,r.PriceFixed)),l.a.createElement("dd",null,m.a.toFixed(e.Quantity,r.VolFixed)),l.a.createElement("dd",null,n.sb+o),l.a.createElement("dd",null,n.sb+s),l.a.createElement("dd",null,i.a.lang("SORDER.STATE."+e.State)))}})))))}}]),t}(p.a);t.a=S}).call(t,n(13))},331:function(e,t,n){"use strict";(function(e){function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(2),s=n(0),l=n.n(s),c=n(24),u=n(36),d=n(3),p=n(15),h=n(5),f=n(16),m=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),g=function e(t,n,a){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,a)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(a)},v=e,y=function(e){function t(e){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onWindowResize=function(){n.changeShowCount()},n.code=n.props.code,n.state={product:n.code?u.a.getProduct(n.code):null,depth:u.a.getCurrDepth(),showCount:n.props.isExpert?19:10},n}return o(t,e),m(t,[{key:"componentWillMount",value:function(){d.a.addListener(d.a.EventName.DEPTH_UPDATE,this.onUpdateProductPrice.bind(this),this),d.a.addListener(d.a.EventName.PRICE_UPDATE,this.onUpdateProductPrice.bind(this),this),this.onUpdateProductPrice(u.a.getProducts())}},{key:"componentDidMount",value:function(){this.changeShowCount(),v(window).on("resize",this.onWindowResize)}},{key:"componentWillUnmount",value:function(){v(window).off("resize",this.onWindowResize),g(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentWillUnmount",this).call(this)}},{key:"changeShowCount",value:function(){var e=v("#depthDiv").height(),t=v("#depthPriceDiv").height()+50,n=parseInt((e-t)/2),a=parseInt(n/16);this.state.showCount!=a&&this.setState({showCount:a})}},{key:"componentWillReceiveProps",value:function(e){var t=e.code;t!=this.props.code&&this.onChangeCode(t)}},{key:"onChangeCode",value:function(e){this.code=e,this.setState({product:u.a.getProduct(this.code),depth:u.a.getCurrDepth()})}},{key:"onUpdateProductPrice",value:function(e){e&&this.code&&e[this.code]&&this.setState({product:u.a.getProduct(this.code)})}},{key:"selectPrice",value:function(e,t,n){e.preventDefault(),d.a.dispatch(d.a.EventName.PRICE_SELECT,{Direction:t,Price:n})}},{key:"changeDepth",value:function(e){e.preventDefault(),e.stopPropagation();var t=v(e.target).val();if("-1"==t)return!1;u.a.changeDepthSubscribe(t),this.state.depth!=t&&this.setState({depth:parseInt(t)})}},{key:"render",value:function(){var e,t,n,a,r,o=this,s=this.props,c=(s.isExpert,s.isMobile,i.a.getLang()),d=this.state,m=d.product,g=d.depth,v=d.showCount,y=Object.keys(Array.apply(null,{length:v})).map(function(e,t){return v-t}),b=Object.keys(Array.apply(null,{length:v})).map(function(e,t){return t+1}),E=0,w=0,C=0;if(m){if(t=m.price,n=m.VolFixed,a=Object(h.c)(f.a.CURRENCY[m.toCode]),r=Object(h.c)(f.a.CURRENCY.CNY),t){parseFloat(t.change),E=t.chg,w=t&&t.hasOwnProperty("LAST_CHANGED")?t.LAST_CHANGED:0,w=w==t.LAST?0:w;for(var P=0,S=y.length;P<S;P++){var k=y[P];t.hasOwnProperty("ASK"+k)&&(C=p.a.toFixed(p.a.accAdd(C,p.a.round(t["AVOL"+k],m.VolFixed)),m.VolFixed))}}e=u.a.getDepthList(this.code);var T=this}return l.a.createElement("div",{className:"trade-order-detail flex-box flex-md flex-jc",id:"depthDiv"},l.a.createElement("div",{className:"order-deep-select book-order-deep-select "+c},l.a.createElement("span",null,i.a.lang("CommOrderBook.103")),l.a.createElement("select",{onChange:this.changeDepth.bind(T),className:"deep-select sel-cus",value:g},e&&e.map(function(e,t){return l.a.createElement("option",{value:e,key:t,className:g==e?"red1":null},i.a.lang("CommOrderBook.102",e))}))),l.a.createElement("dl",{className:"trade-full-price-title"},l.a.createElement("dd",null,l.a.createElement("span",null,i.a.lang("TradeHistory.105")),l.a.createElement("span",null,i.a.lang("tradeHistory.1_9")),l.a.createElement("span",null,i.a.lang("TradeExpert.100")))),l.a.createElement("div",{className:"t3-sa order-sell-box f-oh"},l.a.createElement("ul",{className:"order-sell fem75"},y.map(function(e,i){if(!t||!t.hasOwnProperty("ASK"+e))return l.a.createElement("li",{key:i},l.a.createElement("span",null),l.a.createElement("span",null),l.a.createElement("span",null));var s=u.a.calcPriceToCny(T.code,t["ASK"+e]);return l.a.createElement("li",{key:i,onClick:function(n){return o.selectPrice(n,f.a.TRADE.DIRECTION.BID,t["ASK"+e])}},l.a.createElement("span",null,t["ASK"+e]?a.sb+p.a.formatAmount(t["ASK"+e],g):"--"),l.a.createElement("span",null,t["AVOL"+e]?p.a.formatAmount(t["AVOL"+e],n):"--"),l.a.createElement("span",null,s?r.sb+String(p.a.formatAmount(s,2)):"--"))}))),l.a.createElement("div",{className:"order-current order-center-full f-clear",id:"depthPriceDiv"},l.a.createElement("span",null,l.a.createElement("span",{className:"fem15"+(w>0?" green5":w<0?" hotpink1":"")},t&&t.LAST>0?p.a.formatAmount(t.LAST,m.PriceFixed):"--",l.a.createElement("i",{className:w<0?"iconfont icon-down red1":w>0?"iconfont icon-up green4":"iconfont"})),l.a.createElement("span",{className:"pdl-10"+(Number(E)>0?" green5":Number(E)<0?" hotpink1":"")},(t&&t.LAST>0?Number(E)>0?"+ "+E:E:"--")+"%"))),l.a.createElement("div",{className:"t3-sa f-oh"},l.a.createElement("ul",{className:"order-buy fem75"},b.map(function(e,i){if(!t||!t.hasOwnProperty("BID"+e))return l.a.createElement("li",{key:i},l.a.createElement("span",null),l.a.createElement("span",null),l.a.createElement("span",null));var s=u.a.calcPriceToCny(T.code,t["BID"+e]);return l.a.createElement("li",{key:i,onClick:function(n){return o.selectPrice(n,f.a.TRADE.DIRECTION.ASK,t["BID"+e])}},l.a.createElement("span",null,t["BID"+e]?a.sb+p.a.formatAmount(t["BID"+e],g):"--"),l.a.createElement("span",null,t["BVOL"+e]?p.a.formatAmount(t["BVOL"+e],n):"--"),l.a.createElement("span",null,s?r.sb+String(p.a.formatAmount(s,2)):"--"))}))))}}]),t}(c.a);t.a=y}).call(t,n(13))},332:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),s=n.n(i),l=n(24),c=n(36),u=n(3),d=n(28),p=n.n(d),h=n(15),f=n(16),m=n(5),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),v=function(e){function t(e){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={trade:n.props.code?c.a.getTradeInfo(n.props.code):null},n}return o(t,e),g(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.code;t!=this.props.code&&this.setState({trade:c.a.getTradeInfo(t)||[]})}},{key:"componentWillMount",value:function(){u.a.addListener(u.a.EventName.TRADE_UPDATE,this.onUpdateProductTrade.bind(this),this),this.onUpdateProductTrade(c.a.getTradeMap())}},{key:"onUpdateProductTrade",value:function(e){e[this.props.code]?this.setState({trade:e[this.props.code]}):this.setState({trade:null})}},{key:"selectPrice",value:function(e,t,n){e.preventDefault()}},{key:"render",value:function(){var e=this,t=this.props,n=t.isExpert,a=t.className,r=t.code,o=this.state.trade,i=n?46:23;if(r){var l=c.a.getProduct(r);if(l){var u=l.PriceFixed,d=l.VolFixed,g=l.toCode,v=Object(m.c)(f.a.CURRENCY[g]);return s.a.createElement("div",{className:a},s.a.createElement("ul",{className:"fem75 order-book"},o&&o.map(function(t,n){if(n<i)return s.a.createElement("li",{key:n,onClick:function(n){return e.selectPrice(n,t.Side,t.LastPrice)}},s.a.createElement("span",{className:t.Side==f.a.TRADE.DIRECTION.BID?"hotpink1":"green5"},v.sb+h.a.formatAmount(t.LastPrice,u)),s.a.createElement("span",null,h.a.formatAmount(t.Volume,d)),s.a.createElement("span",null,p()(Number(t.Time)).format("HH:mm:ss")))})))}}return s.a.createElement("div",{className:a},s.a.createElement("ul",{className:"fem75 order-book"}))}}]),t}(l.a);t.a=v},333:function(e,t,n){"use strict";(function(e){function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),s=n.n(i),l=n(24),c=n(36),u=n(27),d=n(12),p=n(10),h=n(3),f=n(15),m=n(5),g=n(16),v=n(230),y=n(9),b=n(2),E=n(575),w=n(147),C=n(26),P=n(327),S=n(1),k=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),T=e,D=function(e){function t(e){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.directionKey="trDirect",n.orderTypeKey="trOT",n.code=n.props.code,n.state={direction:d.a.loadPreference(n.directionKey)||g.a.TRADE.DIRECTION.BID,percent:0,walletMap:u.a.getWalletInfo(g.a.WALLET.TYPE.SPOT),orderType:d.a.loadPreference(n.orderTypeKey)||1,price:"",quantity:"",amount:"",askPrice:"",askQuantity:"",askAmount:"",askPercent:0,robotActivityOpen:S.i},n}return o(t,e),k(t,[{key:"componentWillMount",value:function(){h.a.addListener(h.a.EventName.WALLET_UPDATE,this.onUpdateWallet.bind(this),this),h.a.addListener(h.a.EventName.PRICE_SELECT,this.onSelectPrice.bind(this),this),h.a.addOnce(h.a.EventName.PRICE_UPDATE,this.onPriceUpdate.bind(this),this),this.onUpdateWallet(),this.onPriceUpdate()}},{key:"componentWillReceiveProps",value:function(e){var t=e.code;t!=this.code&&this.onChangeCode(t)}},{key:"onPriceUpdate",value:function(){this.state.orderType&&this.onUpdatePriceState(this.state.orderType)}},{key:"getCurrencyWalletInfo",value:function(e,t){var n;return e&&(n=e[g.a.CURRENCY[t]]),n||{}}},{key:"onUpdateWallet",value:function(){var e=u.a.getWalletInfo(g.a.WALLET.TYPE.SPOT),t={walletMap:e};this.setState(t)}},{key:"onSelectPrice",value:function(e){this.onChangeOrderType(2),this.onChangePrice(1,e.Price),this.onChangePrice(2,e.Price)}},{key:"onChangeCode",value:function(e){this.code=e,2==this.state.orderType&&this.updatePrice(),this.setState({quantity:"",amount:"",percent:0,askQuantity:"",askAmount:"",askPercent:0})}},{key:"updatePrice",value:function(){var e,t,n=c.a.getProduct(this.code);n&&n.price&&n.price.ASK&&(e=n.price.ASK),n&&n.price&&n.price.BID&&(t=n.price.BID),e&&this.state.price!=e&&this.onChangePrice(1,e),t&&this.state.askPrice!=t&&this.onChangePrice(2,t)}},{key:"redirectPay",value:function(e){u.a.redirectPay(parseInt(e))}},{key:"changeOrderTab",value:function(e,t){t&&(t.preventDefault(),t.stopPropagation()),this.onChangeOrderType(e)}},{key:"changeOrderType",value:function(e){e.preventDefault(),e.stopPropagation();var t=T(e.target).val();this.state.orderType!=t&&this.onChangeOrderType(t)}},{key:"onUpdatePriceState",value:function(e){2!=e||this.state.price?1==e&&this.state.price&&this.setState({price:""}):this.updatePrice()}},{key:"onChangeOrderType",value:function(e){this.setState({orderType:e,percent:0,amount:"",quantity:"",askPercent:0,askAmount:"",askQuantity:""}),this.onUpdatePriceState(e),d.a.savePreference(this.orderTypeKey,e)}},{key:"onChangePrice",value:function(e,t){if(1==e){if(this.state.price!=t){var n=c.a.getProduct(this.code),a=String(t),r=f.a.getDotDigit(a),o={price:r>n.PriceFixed?String(f.a.toFixed(a,n.PriceFixed)):a};this.setState(o)}}else if(this.state.askPrice!=t){var n=c.a.getProduct(this.code),a=String(t),r=f.a.getDotDigit(a),o={askPrice:r>n.PriceFixed?String(f.a.toFixed(a,n.PriceFixed)):a};this.setState(o)}}},{key:"onChangeQuantity",value:function(e,t){if(1==e){if(this.state.quantity!=t){var n={quantity:t};this.setState(n)}}else if(this.state.askQuantity!=t){var n={askQuantity:t};this.setState(n)}}},{key:"onChangeAmount",value:function(e,t){if(1==e){if(this.state.amount!=t){var n=this.getBalanceCode(),a=this.getCurrencyWalletInfo(this.state.walletMap,n.balanceCode),r=String(f.a.accMul(f.a.accDiv(t||0,a.canUse||1),100));r=Number(f.a.toFixed(r,0)),this.state.percent!=r?this.setState({amount:t,percent:r}):this.setState({amount:t})}}else if(this.state.askAmount!=t){var n=this.getBalanceCode(),o=this.getCurrencyWalletInfo(this.state.walletMap,n.askCode),i=String(f.a.accMul(f.a.accDiv(t||0,o.canUse||1),100)),i=Number(f.a.toFixed(i,0));this.state.percent!=i?this.setState({askAmount:t,askPercent:i}):this.setState({askAmount:t})}}},{key:"onChangePercent",value:function(e,t){this.changePercent(t,e)}},{key:"changePercent",value:function(e,t){if(!e)return void(1==t?this.setState({percent:e}):this.setState({askPercent:e}));var n=this.getBalanceCode(t),a=1==t?this.getCurrencyWalletInfo(this.state.walletMap,n.balanceCode):this.getCurrencyWalletInfo(this.state.walletMap,n.askCode),r=a.canUse||0;if(1==this.state.orderType){var o=String(f.a.accMul((e||0)/100,r));1==t?this.setState({amount:o,percent:e}):this.setState({askAmount:o,askPercent:e})}else if(1==t){var i=this.state.price;if(i>0){var s=String(f.a.accDiv(f.a.accMul(f.a.accDiv(r,i),e||0),100));this.setState({quantity:s,percent:e})}}else{var l=String(f.a.accDiv(f.a.accMul(r,e||0),100));this.setState({askQuantity:l,askPercent:e})}}},{key:"getBalanceCode",value:function(e,t,n){if(!t||!n){var a=c.a.getProduct(this.code);t=a.fromCode,n=a.toCode}return{balanceCode:n,askCode:t}}},{key:"onArrowUp",value:function(e,t){t.preventDefault(),t.stopPropagation(),1==this.state.orderType?1==e?this.refs.amount.onArrowUp():this.refs.askAmount.onArrowUp():1==e?this.refs.price.onArrowUp():this.refs.askPrice.onArrowUp()}},{key:"onArrowDown",value:function(e,t){t.preventDefault(),t.stopPropagation(),1==this.state.orderType?1==e?this.refs.amount.onArrowDown():this.refs.askAmount.onArrowDown():1==e?this.refs.price.onArrowDown():this.refs.askPrice.onArrowDown()}},{key:"onTrade",value:function(e,t){var n=this;if(t.preventDefault(),t.stopPropagation(),!d.a.checkUserAuth())return void d.a.redirectLogin();var a=T(t.target);if(!a.hasClass("bg-gray")){var r=c.a.getProduct(this.code),o=r.fromCode,i=r.toCode,l=0,u=c.a.getMinQuantity(o),p=g.a.CURRENCY[o],h=g.a.CURRENCY[i],f=this;if(1==this.state.orderType){if(1==e){var l=this.state.amount;if(!l)return void Object(m.g)(b.a.lang("TradeForm.110"),!0);if(r&&r.price&&r.price.ASK&&(u=c.a.getMinQuantity(i),l<u))return void Object(m.g)(b.a.lang("TradeForm.error.marketBuy",u,i),!0)}else{var l=this.state.askAmount;if(!l)return void Object(m.g)(b.a.lang("TradeForm.112"),!0);if(l<u)return void Object(m.g)(o+b.a.lang("TradeForm.111")+u,!0)}a.addClass("bg-gray"),y.a.httpRequest(1==e?"spot/buy":"spot/sell",{Rid:p,Amount:parseFloat(l),Price:0,Currency:h},function(e){a.removeClass("bg-gray"),0==e.Status&&f.placeOrderSuccess()},this)}else{var v;if(1==e){v=this.state.quantity;var E=this.state.price}else{v=this.state.askQuantity;var E=this.state.askPrice}if(!E||Number(E)<=0)return void Object(m.g)(b.a.lang("tradeHistory.2_113"),!0);if(!v)return void Object(m.g)(b.a.lang("tradeInfo.2_25"),!0);if(Number(v)<u)return void Object(m.g)(o+b.a.lang("TradeForm.111")+u,!0);var P=function(){a.addClass("bg-gray"),y.a.httpRequest(1==e?"spot/buy":"spot/sell",{Rid:p,Amount:parseFloat(v),Price:parseFloat(E),Currency:h},function(e){a.removeClass("bg-gray"),0==e.Status&&f.placeOrderSuccess()},n)};c.a.checkDelegateAvgPrice(E,r.price)?P():C.a.open(s.a.createElement(w.a,{skin:"dialog-bg-blue",title:b.a.lang("Recharge.note"),content:b.a.lang("trade.delegate.avgLimit"),yestxt:b.a.lang("trade.delegate.confirm"),notxt:b.a.lang("trade.delegate.cancel"),callback:function(){P()}}),"alert_panel")}}}},{key:"placeOrderSuccess",value:function(){Object(m.g)(b.a.lang("tradeInfo.2_27"))}},{key:"onMiningRobotConfirm",value:function(e,t){C.a.open(s.a.createElement(w.a,{skin:"dialog-bg-blue",title:b.a.lang("mining.robot"),content:b.a.lang(e?"mining.confirm.open":"mining.confirm.close2"),callback:function(){t&&t(!0)}}),"alert_panel")}},{key:"render",value:function(){var e=this.props,t=e.code,n=e.isMobile,a=this.state,r=(a.direction,a.percent),o=a.walletMap,i=a.orderType,l=a.price,h=a.quantity,y=a.amount,w=a.askPrice,C=a.askQuantity,k=a.askAmount,T=a.askPercent,D=a.robotActivityOpen,A=d.a.checkUserAuth(),x="--",O="--",N="--",_="--",M=0,R=0;if(t){var I=c.a.getProduct(t);if(I){x=I.fromCode,O=I.toCode;var L=this.getBalanceCode(x,O);N=L.balanceCode,_=L.askCode;var j,B=this.getCurrencyWalletInfo(o,N),U={};B&&(B.Currency&&(U=p.c.getCoinInfo(B.Currency)),j=f.a.round(B.canUse||0,U.ShowDigits||4));var F,z=this.getCurrencyWalletInfo(o,_);z&&(z.Currency&&(U=p.c.getCoinInfo(z.Currency)),F=f.a.round(z.canUse||0,U.ShowDigits||4));var V=Object(m.c)(g.a.CURRENCY[N]),W=Object(m.c)(g.a.CURRENCY[_]),H=c.a.getMinQuantity(N),K=(c.a.getMinQuantity(_),c.a.getMinQuantity(x)),Y=c.a.getMinQuantity(O),q=String(f.a.toFixed(1/Math.pow(10,I.PriceFixed))),X=String(f.a.toFixed(1/Math.pow(10,I.VolFixed)));l&&h&&(M=f.a.accMul(l,h,I.PriceFixed)),w&&C&&(R=f.a.accMul(w,C,I.PriceFixed));var G=0,Q=0;2==i&&(l&&Number(l)&&(G=Number(f.a.accDiv(B.canUse||0,l,I.VolFixed))),z&&z.canUse&&(Q=Number(F)));var J="--",Z="--";if(S.i){var $=u.a.getDiscountFee();if($){var ee=$.taker,te=$.maker;J=ee.discount?s.a.createElement(s.a.Fragment,null,s.a.createElement("span",{className:"trade-order-head-unline"},ee.base,"%")," ",ee.discount,"%"):s.a.createElement(s.a.Fragment,null,ee.discount,"%"),Z=te.discount?s.a.createElement(s.a.Fragment,null,s.a.createElement("span",{className:"trade-order-head-unline"},te.base,"%")," ",te.discount,"%"):s.a.createElement(s.a.Fragment,null,te.discount,"%")}}}}var ne=[25,50,75,100],ae=this;return s.a.createElement("div",{style:n?{backgroundColor:"#272d33"}:{position:"absolute",bottom:0,right:0,width:"460px",backgroundColor:"#272d33"}},s.a.createElement("div",{className:"full-trade-sellbox"},s.a.createElement("ul",{className:"trade-order-head head-border-full f-clear full-form-border"},s.a.createElement("li",{className:1==i?"fl current":"fl",onClick:this.changeOrderTab.bind(ae,1)},b.a.lang("TradeForm.101")),s.a.createElement("li",{className:2==i?"fl current":"fl",onClick:this.changeOrderTab.bind(ae,2)},b.a.lang("TradeForm.102")),!!D&&s.a.createElement(P.a,{type:"spot",code:t,onConfirm:this.onMiningRobotConfirm.bind(this)})),s.a.createElement("div",{className:"fem875 f-clear"},s.a.createElement("div",{className:"flex-box flex-jc"},s.a.createElement("dl",{className:"form-box wp-50 trade-form-full"},s.a.createElement("dt",null,N+" "+b.a.lang("TradeForm.115")),s.a.createElement("dd",null,s.a.createElement("span",{className:"form-span"},A&&V?V.sb+j:"--"))),s.a.createElement("dl",{className:"form-box wp-50 trade-form-full"},s.a.createElement("dt",null,_+" "+b.a.lang("TradeForm.115")),s.a.createElement("dd",null,s.a.createElement("span",{className:"form-span"},A&&W?W.sb+F:"--")))),s.a.createElement("div",{className:n?"tc":"flex-box flex-jc pos-r pdr-5"},S.i&&!D&&s.a.createElement("p",{className:"trade-order-head-p m-hide"},s.a.createElement("i",{className:"iconfont icon-question"}),b.a.lang("tradeHistory.2_69")+": ","Taker (",J,")",s.a.createElement("span",{className:"trade-order-head-span"}),"Maker (",Z,")"),s.a.createElement("div",{className:"wp-50 mb-spot-buy"},1==i&&s.a.createElement("dl",{className:"form-box f-clear mt-10"},s.a.createElement("dt",{className:"lh-32"},b.a.lang("TradeForm.103")),s.a.createElement("dd",{className:"trade-tc-number-full"},s.a.createElement("div",{className:"numberBox"},s.a.createElement(v.a,{value:y,onChange:this.onChangeAmount.bind(ae,1),ref:"amount",step:q,min:Y,max:A?j||0:0}),s.a.createElement("div",{className:"number-title"},O),s.a.createElement("div",{className:"arrow-box"},s.a.createElement("span",{className:"iconfont icon-dropUp arrowup",onMouseDown:this.onArrowUp.bind(ae,1)}),s.a.createElement("span",{className:"iconfont icon-dropDown arrowdown",onMouseDown:this.onArrowDown.bind(ae,1)}))))),2==i&&s.a.createElement("dl",{className:"form-box f-clear mt-10"},s.a.createElement("dt",{className:"lh-32",dangerouslySetInnerHTML:{__html:b.a.lang("TradeForm.105")}}),s.a.createElement("dd",{className:"trade-tc-number-full"},s.a.createElement("div",{className:"numberBox"},s.a.createElement(v.a,{name:"price",id:"price",value:l,onChange:this.onChangePrice.bind(ae,1),ref:"price",step:q,min:q}),s.a.createElement("div",{className:"number-title"},O),s.a.createElement("div",{className:"arrow-box"},s.a.createElement("span",{className:"iconfont icon-dropUp arrowup",onMouseDown:this.onArrowUp.bind(ae,1)}),s.a.createElement("span",{className:"iconfont icon-dropDown arrowdown",onMouseDown:this.onArrowDown.bind(ae,1)}))))),2==i&&s.a.createElement("dl",{className:"form-box f-clear mt-10"},s.a.createElement("dt",{className:"lh-32",dangerouslySetInnerHTML:{__html:b.a.lang("TradeForm.106")}}),s.a.createElement("dd",{className:"trade-tc-number-full"},s.a.createElement("div",{className:"numberBox"},s.a.createElement(v.a,{className:"w-100",step:X,value:h,onChange:this.onChangeQuantity.bind(ae,1),min:K>G?G:K,max:G}),s.a.createElement("div",{className:"number-title"},x)))),s.a.createElement("dl",{className:"form-box f-clear mt-5"},s.a.createElement("dt",{className:"w-40"},"\xa0"),s.a.createElement("dd",{className:"trade-full-percent"},s.a.createElement(E.a,{className:"trade-full-percent",dataArr:ne,value:r,onChange:this.onChangePercent.bind(ae,1)}))),2==i&&s.a.createElement("dl",{className:"form-box mt-10 f-clear"},s.a.createElement("dt",{dangerouslySetInnerHTML:{__html:b.a.lang("TradeForm.107")}}),s.a.createElement("dd",null,M+" "+O)),s.a.createElement("div",{className:"trade-tc-number-full mt-40 tr"},s.a.createElement("button",{className:"btn btn-green trade-buy",onClick:this.onTrade.bind(ae,1)},b.a.lang("TradeForm.108")))),s.a.createElement("div",{className:"wp-50 ask"},1==i&&s.a.createElement("dl",{className:"form-box f-clear mt-10"},s.a.createElement("dt",{className:"lh-32"},b.a.lang("TradeForm.104")),s.a.createElement("dd",{className:"trade-tc-number-full"},s.a.createElement("div",{className:"numberBox"},s.a.createElement(v.a,{value:k,onChange:this.onChangeAmount.bind(ae,2),ref:"askAmount",step:X,min:H,max:A?F||0:0}),s.a.createElement("div",{className:"number-title"},x),s.a.createElement("div",{className:"arrow-box"},s.a.createElement("span",{className:"iconfont icon-dropUp arrowup",onMouseDown:this.onArrowUp.bind(ae,2)}),s.a.createElement("span",{className:"iconfont icon-dropDown arrowdown",onMouseDown:this.onArrowDown.bind(ae,2)}))))),2==i&&s.a.createElement("dl",{className:"form-box f-clear mt-10"},s.a.createElement("dt",{className:"lh-32",dangerouslySetInnerHTML:{__html:b.a.lang("TradeForm.105")}}),s.a.createElement("dd",{className:"trade-tc-number-full"},s.a.createElement("div",{className:"numberBox"},s.a.createElement(v.a,{name:"price",id:"price",value:w,onChange:this.onChangePrice.bind(ae,2),ref:"askPrice",step:q,min:q}),s.a.createElement("div",{className:"number-title"},O),s.a.createElement("div",{className:"arrow-box"},s.a.createElement("span",{className:"iconfont icon-dropUp arrowup",onMouseDown:this.onArrowUp.bind(ae,2)}),s.a.createElement("span",{className:"iconfont icon-dropDown arrowdown",onMouseDown:this.onArrowDown.bind(ae,2)}))))),2==i&&s.a.createElement("dl",{className:"form-box f-clear mt-10"},s.a.createElement("dt",{className:"lh-32",dangerouslySetInnerHTML:{__html:b.a.lang("TradeForm.106")}}),s.a.createElement("dd",{className:"trade-tc-number-full"},s.a.createElement("div",{className:"numberBox"},s.a.createElement(v.a,{className:"w-100",step:X,value:C,onChange:this.onChangeQuantity.bind(ae,2),min:K>Q?Q:K,max:Q}),s.a.createElement("div",{className:"number-title"},x)))),s.a.createElement("dl",{className:"form-box f-clear mt-5"},s.a.createElement("dt",{className:"w-40"},"\xa0"),s.a.createElement("dd",{className:"trade-full-percent"},s.a.createElement(E.a,{className:"trade-full-percent",dataArr:ne,value:T,onChange:this.onChangePercent.bind(ae,2)}))),2==i&&s.a.createElement("dl",{className:"form-box mt-10 f-clear"},s.a.createElement("dt",{dangerouslySetInnerHTML:{__html:b.a.lang("TradeForm.107")}}),s.a.createElement("dd",null,R+" "+O)),s.a.createElement("div",{className:"trade-tc-number-full mt-40 tr"},s.a.createElement("button",{className:"btn btn-hotpink trade-buy",onClick:this.onTrade.bind(ae,2)},b.a.lang("TradeForm.109"))))))))}}]),t}(l.a);t.a=D}).call(t,n(13))},542:function(e,t,n){"use strict";(function(e){function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=(n(2),n(0)),s=n.n(i),l=n(24),c=n(543),u=n(549),d=(n.n(u),n(325)),p=n(226),h=n(328),f=n(164),m=n(12),g=n(29),v=n(140),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),b=e,E=function(e){function t(e){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));w.call(n),n.SkinMore=g.a.skinMore,n.klineTheme=g.a.getSkin(),n.preferenceKey="fut_lo",n.prefUpdateHKey="uh",n.isDrag=!1,n.updateH=m.a.loadPreference(n.prefUpdateHKey,0),n.layoutName=m.a.loadPreference(n.preferenceKey,"KlineDiv");var o=n.getRGLConf(n.layoutName);return n.state=Object.assign({klineTheme:n.klineTheme},o),n}return o(t,e),y(t,[{key:"getMinWidth",value:function(){return 1220}},{key:"getRGLConf",value:function(e){e="FuturesNewOrder"==e?"FuturesNewOrder":"KlineDiv";var t=b(window).width(),n=b(window).height();t=t>this.getMinWidth()?t:this.getMinWidth();var a,r=n-54-4,o=236-this.updateH,i=r-o-8;return i<200&&(i=200,o=r-i-8),o=o<150?150:o,a={KlineDiv:[{i:"KlineDiv",x:0,y:0,w:t-325-8,h:r-o-8},{i:"horizontalBar",x:0,y:r-o-8,w:t-325-8,h:8},{i:"FuturesHistory",x:0,y:r-o,w:t-325-8,h:o},{i:"verticalBar",x:t-325,y:0,w:8,h:r},{i:"FuturesNewOrder",x:t-325,y:0,w:325,h:r}],FuturesNewOrder:[{i:"FuturesNewOrder",x:0,y:0,w:325,h:r},{i:"verticalBar",x:325,y:0,w:8,h:r},{i:"KlineDiv",x:333,y:0,w:t-325-8,h:r-o-8},{i:"horizontalBar",x:333,y:r-o-8,w:t-325-8,h:8},{i:"FuturesHistory",x:333,y:r-o,w:t-325-8,h:o}]},{layout:a[e],width:t,height:r,historyHeight:o}}},{key:"componentDidMount",value:function(){b(window).on("resize",this.onWindowResize),this.onWindowResize()}},{key:"componentWillUnmount",value:function(){b(window).off("resize",this.onWindowResize)}},{key:"getBackgroundConfig",value:function(){return{gray:{kLine:{width:"100%",height:"100%",overflow:"hidden"},history:{width:"100%",height:"100%"},hist_log:{width:"100%",height:"100%"},book:{width:"100%",height:"100%"},form:{width:"100%",height:"100%"},order:{width:"100%",height:"100%"}},primary:{kLine:{width:"100%",height:"100%",overflow:"hidden"},history:{width:"100%",height:"100%"},hist_log:{width:"100%",height:"100%"},book:{width:"100%",height:"100%"},form:{width:"100%",height:"100%"},order:{width:"100%",height:"100%"}},white:{kLine:{width:"100%",height:"100%",overflow:"hidden"},history:{width:"100%",height:"100%"},hist_log:{width:"100%",height:"100%"},book:{width:"100%",height:"100%"},form:{width:"100%",height:"100%"},order:{width:"100%",height:"100%"}},default:{kLine:{width:"100%",height:"100%",overflow:"hidden"},history:{width:"100%",height:"100%"},hist_log:{width:"100%",height:"100%"},book:{width:"100%",height:"100%"},form:{width:"100%",height:"100%"},order:{width:"100%",height:"100%"}}}[this.klineTheme]}},{key:"changeSetting",value:function(e,t){t&&(this.klineTheme=e,this.setState({klineTheme:e}),m.a.savePreference("klineTheme",e))}},{key:"onDragStart",value:function(){b("#klineMask").removeClass("hide")}},{key:"onDragStop",value:function(e){b("#klineMask").addClass("hide"),e.sort(function(e,t){return e.x>=t.x&&e.y>=t.y?1:-1});var t=e[0];if(t&&t.i!=this.layoutName){this.layoutName=t.i,m.a.savePreference(this.preferenceKey,this.layoutName);return this.getRGLConf(this.layoutName).layout}return!1}},{key:"render",value:function(){var e=this.props,t=e.user,n=e.uInfo,a=e.code,r=this.state,o=r.layout,i=r.width,l=(r.height,r.historyHeight),u=this.getBackgroundConfig();return s.a.createElement("div",{className:"futures-pos bounds f-oh unselect futures-bg-"+this.klineTheme,style:{minWidth:this.getMinWidth(),overflow:"auto"}},s.a.createElement(d.a,{user:t,uInfo:n,skinInfo:this.SkinMore,onChange:this.changeSetting.bind(this),code:a}),s.a.createElement(c.a,{id:"futures_trade_container",className:"layout bounds f-oh",layout:o,cols:i,rowHeight:1,width:i,containerPadding:[0,3],margin:[0,0],draggableHandle:".move",isResizable:!1,compactType:"horizontal",onDragStart:this.onDragStart.bind(this),onDragStop:this.onDragStop.bind(this)},s.a.createElement("div",{key:"KlineDiv",className:"KlineDiv"},s.a.createElement(p.a,{style:u.kLine,code:a,className:"futures-c ft-bd-78 widget",theme:this.klineTheme})),s.a.createElement("div",{key:"horizontalBar",className:"placeholder1 curs-nr"},s.a.createElement("div",{style:{width:"100%",height:"100%"},onMouseDown:this.dragStart})),s.a.createElement("div",{key:"FuturesHistory",className:"FuturesHistory"},s.a.createElement(v.a,{showError:!0},s.a.createElement(h.a,{ref:"futuresHistory",className:"futures-fullTrade-history widget",style:u.history,code:a,isExpert:!0,height:l}))),s.a.createElement("div",{key:"verticalBar",className:"placeholder1"},s.a.createElement("div",{style:{width:"100%",height:"100%"}})),s.a.createElement("div",{key:"FuturesNewOrder",className:"FuturesNewOrder"},s.a.createElement(f.l,{className:"ft-order-box pd010 fs11 widget",style:u.order,code:a,isExpert:!0}),s.a.createElement("div",{className:"move",style:{top:0,width:"320px",height:"25px"}}))),s.a.createElement("span",{id:"drag-order-panel"}))}}]),t}(l.a),w=function(){var e=this;this.onWindowResize=function(){var t=e.getRGLConf(e.layoutName);e.state.width==t.width&&e.state.height==t.height||e.setState(t)},this.dragStart=function(t){t.preventDefault(),t.stopPropagation(),e.isDrag||(e.currentY=t.screenY,e.isDrag=!0,b("#klineMask").removeClass("hide"),b(document).on("mouseup",e.dragEnd),b(document).on("mousemove",e.dragMove))},this.dragMove=function(t){if(t.preventDefault(),t.stopPropagation(),e.isDrag){var n=t.screenY;e.updateH=e.updateH+n-e.currentY,e.currentY=n;var a=e.getRGLConf(e.layoutName);e.setState(a)}},this.dragEnd=function(t){t.preventDefault(),t.stopPropagation(),e.isDrag&&(b("#klineMask").addClass("hide"),e.isDrag=!1,b(document).off("mousemove",e.dragMove),b(document).off("mouseup",e.dragEnd),m.a.savePreference(e.prefUpdateHKey,e.updateH),e.refs.futuresHistory.moveHeightEnd())}};t.a=E}).call(t,n(13))},543:function(e,t,n){"use strict";var a=(n(225),n(544));n.d(t,"a",function(){return a.a})},544:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),s=n.n(i),l=n(14),c=n.n(l),u=n(322),d=n.n(u),p=n(125),h=n.n(p),f=n(225),m=n(545),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),v=function(e){function t(e,n){a(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return y.call(o),Object(f.a)(o,["onDragStart","onDrag","onDragStop","onResizeStart","onResize","onResizeStop"]),o}return o(t,e),g(t,[{key:"componentDidMount",value:function(){this.setState({mounted:!0}),this.onLayoutMaybeChanged(this.state.layout,this.props.layout)}},{key:"componentWillReceiveProps",value:function(e){var t=void 0;if(d()(e.layout,this.props.layout)&&e.compactType===this.props.compactType?Object(f.c)(this.props.children,e.children)||(t=this.state.layout):t=e.layout,t){var n=Object(f.n)(t,e.children,e.cols,this.compactType(e)),a=this.state.layout;this.setState({layout:n}),this.onLayoutMaybeChanged(n,a)}}},{key:"containerHeight",value:function(){if(this.props.autoSize){var e=Object(f.b)(this.state.layout),t=this.props.containerPadding?this.props.containerPadding[1]:this.props.margin[1];return e*this.props.rowHeight+(e-1)*this.props.margin[1]+2*t+"px"}}},{key:"compactType",value:function(e){return e||(e=this.props),!1===e.verticalCompact?null:e.compactType}},{key:"onDragStart",value:function(e,t,n,a){var r=a.e,o=a.node,i=this.state.layout,s=Object(f.h)(i,e);if(s)return this.setState({oldDragItem:Object(f.e)(s),oldLayout:Object(f.d)(i)}),this.props.onDragStart(i,s,s,null,r,o)}},{key:"onDrag",value:function(e,t,n,a){var r=a.e,o=a.node,i=this.state.oldDragItem,s=this.state.layout,l=this.props.cols,c=Object(f.h)(s,e);if(c){var u={w:c.w,h:c.h,x:c.x,y:c.y,placeholder:!0,i:e};s=Object(f.i)(s,c,t,n,!0,this.props.preventCollision,this.compactType(),l),this.props.onDrag(s,i,c,u,r,o),this.setState({layout:Object(f.f)(s,this.compactType(),l),activeDrag:u})}}},{key:"onDragStop",value:function(e,t,n,a){var r=(a.e,a.node,this.state.oldDragItem,this.state.layout),o=this.props,i=o.cols,s=o.preventCollision,l=Object(f.h)(r,e);if(l){r=Object(f.i)(r,l,t,n,!0,s,this.compactType(),i);var c=Object(f.f)(r,this.compactType(),i),u=this.props.onDragStop(c);if(u){var d=u,p=this.state.oldLayout;this.setState({activeDrag:null,layout:d,oldDragItem:null,oldLayout:null}),this.onLayoutMaybeChanged(d,p)}else{var h=this.state.oldLayout;this.setState({activeDrag:null,layout:h,oldDragItem:null,oldLayout:null})}}}},{key:"onLayoutMaybeChanged",value:function(e,t){t||(t=this.state.layout),d()(t,e)||this.props.onLayoutChange(e)}},{key:"onResizeStart",value:function(e,t,n,a){var r=a.e,o=a.node,i=this.state.layout,s=Object(f.h)(i,e);s&&(this.setState({oldResizeItem:Object(f.e)(s),oldLayout:this.state.layout}),this.props.onResizeStart(i,s,s,null,r,o))}},{key:"onResize",value:function(e,t,n,a){var r=a.e,o=a.node,i=this.state,s=i.layout,l=i.oldResizeItem,c=this.props,u=c.cols,d=c.preventCollision,p=Object(f.h)(s,e);if(p&&(!d||!Object(f.g)(s,Object.assign({},p,{w:t,h:n})))){p.w=t,p.h=n;var h={w:t,h:n,x:p.x,y:p.y,static:!0,i:e};this.props.onResize(s,l,p,h,r,o),this.setState({layout:Object(f.f)(s,this.compactType(),u),activeDrag:h})}}},{key:"onResizeStop",value:function(e,t,n,a){var r=a.e,o=a.node,i=this.state,s=i.layout,l=i.oldResizeItem,c=this.props.cols,u=Object(f.h)(s,e);this.props.onResizeStop(s,l,u,null,r,o);var d=Object(f.f)(s,this.compactType(),c),p=this.state.oldLayout;this.setState({activeDrag:null,layout:d,oldResizeItem:null,oldLayout:null}),this.onLayoutMaybeChanged(d,p)}},{key:"placeholder",value:function(){var e=this.state.activeDrag;if(!e)return null;var t=this.props,n=t.width,a=t.cols,r=t.margin,o=t.containerPadding,i=t.rowHeight,l=t.maxRows,c=t.useCSSTransforms;return s.a.createElement(m.a,{w:e.w,h:e.h,x:e.x,y:e.y,i:e.i,className:"react-grid-placeholder",containerWidth:n,cols:a,margin:r,containerPadding:o||r,maxRows:l,rowHeight:i,isDraggable:!1,isResizable:!1,useCSSTransforms:c},s.a.createElement("div",null))}},{key:"processGridItem",value:function(e){if(e&&e.key){var t=Object(f.h)(this.state.layout,String(e.key));if(!t)return null;var n=this.props,a=n.width,r=n.cols,o=n.margin,i=n.containerPadding,l=n.rowHeight,c=n.maxRows,u=n.isDraggable,d=n.isResizable,p=n.useCSSTransforms,h=n.draggableCancel,g=n.draggableHandle,v=this.state.mounted,y=Boolean(!t.static&&u&&(t.isDraggable||null==t.isDraggable)),b=Boolean(!t.static&&d&&(t.isResizable||null==t.isResizable));return s.a.createElement(m.a,{containerWidth:a,cols:r,margin:o,containerPadding:i||o,maxRows:c,rowHeight:l,cancel:h,handle:g,onDragStop:this.onDragStop,onDragStart:this.onDragStart,onDrag:this.onDrag,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,isDraggable:y,isResizable:b,useCSSTransforms:p&&v,usePercentages:!v,w:t.w,h:t.h,x:t.x,y:t.y,i:t.i,minH:t.minH,minW:t.minW,maxH:t.maxH,maxW:t.maxW,static:t.static},e)}}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,a=t.style,r=t.id,o=void 0===r?"react-grid-layout":r,i=h()("react-grid-layout",n),l=Object.assign({height:this.containerHeight()},a);return s.a.createElement("div",{id:o,className:i,style:l},s.a.Children.map(this.props.children,function(t){return e.processGridItem(t)}),this.placeholder())}}]),t}(s.a.Component);v.displayName="ReactGridLayout",v.propTypes={className:c.a.string,style:c.a.object,width:c.a.number,autoSize:c.a.bool,cols:c.a.number,draggableCancel:c.a.string,draggableHandle:c.a.string,verticalCompact:function(e){e.verticalCompact,1},compactType:c.a.oneOf(["vertical","horizontal"]),layout:function(e){var t=e.layout;void 0!==t&&Object(f.o)(t,"layout")},margin:c.a.arrayOf(c.a.number),containerPadding:c.a.arrayOf(c.a.number),rowHeight:c.a.number,maxRows:c.a.number,isDraggable:c.a.bool,isResizable:c.a.bool,preventCollision:c.a.bool,useCSSTransforms:c.a.bool,onLayoutChange:c.a.func,onDragStart:c.a.func,onDrag:c.a.func,onDragStop:c.a.func,onResizeStart:c.a.func,onResize:c.a.func,onResizeStop:c.a.func,children:function(e,t){var n=e[t],a={};s.a.Children.forEach(n,function(e){if(a[e.key])throw new Error('Duplicate child key "'+e.key+'" found! This will cause problems in ReactGridLayout.');a[e.key]=!0})}},v.defaultProps={autoSize:!0,cols:12,className:"",style:{},draggableHandle:"",draggableCancel:"",containerPadding:null,rowHeight:150,maxRows:1/0,layout:[],margin:[10,10],isDraggable:!0,isResizable:!0,useCSSTransforms:!0,verticalCompact:!0,compactType:"vertical",preventCollision:!1,onLayoutChange:f.j,onDragStart:f.j,onDrag:f.j,onDragStop:f.j,onResizeStart:f.j,onResize:f.j,onResizeStop:f.j};var y=function(){this.state={activeDrag:null,layout:Object(f.n)(this.props.layout,this.props.children,this.props.cols,this.compactType()),mounted:!1,oldDragItem:null,oldLayout:null,oldResizeItem:null}};t.a=v},545:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),s=n.n(i),l=n(14),c=n.n(l),u=n(323),d=(n.n(u),n(546)),p=(n.n(d),n(225)),h=n(125),f=n.n(h),m=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),g=function(e){function t(){var e,n,o,i;a(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=o=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),o.state={resizing:null,dragging:null,className:""},i=n,r(o,i)}return o(t,e),m(t,[{key:"calcColWidth",value:function(){var e=this.props,t=e.margin,n=e.containerPadding,a=e.containerWidth,r=e.cols;return(a-t[0]*(r-1)-2*n[0])/r}},{key:"calcPosition",value:function(e,t,n,a,r){var o=this.props,i=o.margin,s=o.containerPadding,l=o.rowHeight,c=this.calcColWidth(),u={left:Math.round((c+i[0])*e+s[0]),top:Math.round((l+i[1])*t+s[1]),width:n===1/0?n:Math.round(c*n+Math.max(0,n-1)*i[0]),height:a===1/0?a:Math.round(l*a+Math.max(0,a-1)*i[1])};return r&&r.resizing&&(u.width=Math.round(r.resizing.width),u.height=Math.round(r.resizing.height)),r&&r.dragging&&(u.top=Math.round(r.dragging.top),u.left=Math.round(r.dragging.left)),u}},{key:"calcXY",value:function(e,t){var n=this.props,a=n.margin,r=n.cols,o=n.rowHeight,i=n.w,s=n.h,l=n.maxRows,c=this.calcColWidth(),u=Math.round((t-a[0])/(c+a[0])),d=Math.round((e-a[1])/(o+a[1]));return u=Math.max(Math.min(u,r-i),0),d=Math.max(Math.min(d,l-s),0),{x:u,y:d}}},{key:"calcWH",value:function(e){var t=e.height,n=e.width,a=this.props,r=a.margin,o=a.maxRows,i=a.cols,s=a.rowHeight,l=a.x,c=a.y,u=this.calcColWidth(),d=Math.round((n+r[0])/(u+r[0])),p=Math.round((t+r[1])/(s+r[1]));return d=Math.max(Math.min(d,i-l),0),p=Math.max(Math.min(p,o-c),0),{w:d,h:p}}},{key:"createStyle",value:function(e){var t=this.props,n=t.usePercentages,a=t.containerWidth,r=t.useCSSTransforms,o=void 0;return r?o=Object(p.m)(e):(o=Object(p.l)(e),n&&(o.left=Object(p.k)(e.left/a),o.width=Object(p.k)(e.width/a))),o}},{key:"mixinDraggable",value:function(e){return s.a.createElement(u.DraggableCore,{onStart:this.onDragHandler("onDragStart"),onDrag:this.onDragHandler("onDrag"),onStop:this.onDragHandler("onDragStop"),handle:this.props.handle,cancel:".react-resizable-handle"+(this.props.cancel?","+this.props.cancel:"")},e)}},{key:"mixinResizable",value:function(e,t){var n=this.props,a=n.cols,r=n.x,o=n.minW,i=n.minH,l=n.maxW,c=n.maxH,u=this.calcPosition(0,0,a-r,0).width,p=this.calcPosition(0,0,o,i),h=this.calcPosition(0,0,l,c),f=[p.width,p.height],m=[Math.min(h.width,u),Math.min(h.height,1/0)];return s.a.createElement(d.Resizable,{width:t.width,height:t.height,minConstraints:f,maxConstraints:m,onResizeStop:this.onResizeHandler("onResizeStop"),onResizeStart:this.onResizeHandler("onResizeStart"),onResize:this.onResizeHandler("onResize")},e)}},{key:"onDragHandler",value:function(e){var t=this;return function(n,a){var r=a.node,o=a.deltaX,i=a.deltaY,s=t.props[e];if(s){var l={top:0,left:0};switch(e){case"onDragStart":var c=r.offsetParent;if(!c)return;var u=c.getBoundingClientRect(),d=r.getBoundingClientRect();l.left=d.left-u.left+c.scrollLeft,l.top=d.top-u.top+c.scrollTop,t.setState({dragging:l});break;case"onDrag":if(!t.state.dragging)throw new Error("onDrag called before onDragStart.");l.left=t.state.dragging.left+o,l.top=t.state.dragging.top+i,t.setState({dragging:l});break;case"onDragStop":if(!t.state.dragging)throw new Error("onDragEnd called before onDragStart.");l.left=t.state.dragging.left,l.top=t.state.dragging.top,t.setState({dragging:null});break;default:throw new Error("onDragHandler called with unrecognized handlerName: "+e)}var p=t.calcXY(l.top,l.left),h=p.x,f=p.y;return s.call(t,t.props.i,h,f,{e:n,node:r,newPosition:l})}}}},{key:"onResizeHandler",value:function(e){var t=this;return function(n,a){var r=a.node,o=a.size,i=t.props[e];if(i){var s=t.props,l=s.cols,c=s.x,u=s.i,d=s.maxW,p=s.minW,h=s.maxH,f=s.minH,m=t.calcWH(o),g=m.w,v=m.h;g=Math.min(g,l-c),g=Math.max(g,1),g=Math.max(Math.min(g,d),p),v=Math.max(Math.min(v,h),f),t.setState({resizing:"onResizeStop"===e?null:o}),i.call(t,u,g,v,{e:n,node:r,size:o})}}}},{key:"render",value:function(){var e=this.props,t=e.x,n=e.y,a=e.w,r=e.h,o=e.isDraggable,i=e.isResizable,l=e.useCSSTransforms,c=this.calcPosition(t,n,a,r,this.state),u=s.a.Children.only(this.props.children),d=s.a.cloneElement(u,{className:f()("react-grid-item",u.props.className,this.props.className,{static:this.props.static,resizing:Boolean(this.state.resizing),"react-draggable":o,"react-draggable-dragging":Boolean(this.state.dragging),cssTransforms:l}),style:Object.assign({},this.props.style,u.props.style,this.createStyle(c))});return i&&(d=this.mixinResizable(d,c)),o&&(d=this.mixinDraggable(d)),d}}]),t}(s.a.Component);g.propTypes={children:c.a.element,cols:c.a.number.isRequired,containerWidth:c.a.number.isRequired,rowHeight:c.a.number.isRequired,maxRows:c.a.number,containerPadding:c.a.array.isRequired,x:c.a.number.isRequired,y:c.a.number.isRequired,w:c.a.number.isRequired,h:c.a.number.isRequired,minW:function(e,t){var n=e[t];return"number"!==typeof n?new Error("minWidth not Number"):n>e.w||n>e.maxW?new Error("minWidth larger than item width/maxWidth"):void 0},maxW:function(e,t){var n=e[t];return"number"!==typeof n?new Error("maxWidth not Number"):n<e.w||n<e.minW?new Error("maxWidth smaller than item width/minWidth"):void 0},minH:function(e,t){var n=e[t];return"number"!==typeof n?new Error("minHeight not Number"):n>e.h||n>e.maxH?new Error("minHeight larger than item height/maxHeight"):void 0},maxH:function(e,t){var n=e[t];return"number"!==typeof n?new Error("maxHeight not Number"):n<e.h||n<e.minH?new Error("maxHeight smaller than item height/minHeight"):void 0},i:c.a.string.isRequired,onDragStop:c.a.func,onDragStart:c.a.func,onDrag:c.a.func,onResizeStop:c.a.func,onResizeStart:c.a.func,onResize:c.a.func,isDraggable:c.a.bool.isRequired,isResizable:c.a.bool.isRequired,static:c.a.bool,useCSSTransforms:c.a.bool.isRequired,className:c.a.string,handle:c.a.string,cancel:c.a.string},g.defaultProps={className:"",cancel:"",handle:"",minH:1,minW:1,maxH:1/0,maxW:1/0},t.a=g},546:function(e,t,n){"use strict";e.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")},e.exports.Resizable=n(324).default,e.exports.ResizableBox=n(548).default},547:function(e,t,n){"use strict";var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(r);e.exports=function(e,t){return t.style&&e.props.style&&(t.style=a({},e.props.style,t.style)),t.className&&e.props.className&&(t.className=e.props.className+" "+t.className),o.default.cloneElement(e,t)}},548:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},c=n(0),u=a(c),d=n(14),p=a(d),h=n(324),f=a(h),m=function(e){function t(){var n,a,r;o(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=a=i(this,e.call.apply(e,[this].concat(l))),a.state={width:a.props.width,height:a.props.height},a.onResize=function(e,t){var n=t.size;n.width,n.height;a.props.onResize?(e.persist&&e.persist(),a.setState(n,function(){return a.props.onResize&&a.props.onResize(e,t)})):a.setState(n)},r=n,i(a,r)}return s(t,e),t.prototype.componentWillReceiveProps=function(e){e.width===this.props.width&&e.height===this.props.height||this.setState({width:e.width,height:e.height})},t.prototype.render=function(){var e=this.props,t=e.handleSize,n=(e.onResize,e.onResizeStart),a=e.onResizeStop,o=e.draggableOpts,i=e.minConstraints,s=e.maxConstraints,c=e.lockAspectRatio,d=e.axis,p=(e.width,e.height,r(e,["handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height"]));return u.default.createElement(f.default,{handleSize:t,width:this.state.width,height:this.state.height,onResizeStart:n,onResize:this.onResize,onResizeStop:a,draggableOpts:o,minConstraints:i,maxConstraints:s,lockAspectRatio:c,axis:d},u.default.createElement("div",l({style:{width:this.state.width+"px",height:this.state.height+"px"}},p)))},t}(u.default.Component);m.propTypes={height:p.default.number,width:p.default.number},m.defaultProps={handleSize:[20,20]},t.default=m},549:function(e,t,n){var a=n(550);"string"===typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0};r.transform=void 0,r.insertInto=void 0;n(77)(a,r);a.locals&&(e.exports=a.locals)},550:function(e,t,n){t=e.exports=n(76)(!0),t.push([e.i,'.react-grid-layout{position:relative;-webkit-transition:height .2s ease;-o-transition:height .2s ease;transition:height .2s ease}.react-grid-item{-webkit-transition:all .2s ease;-o-transition:all .2s ease;transition:all .2s ease;-webkit-transition-property:left,top;-o-transition-property:left,top;transition-property:left,top}.react-grid-item.cssTransforms{-webkit-transition-property:-webkit-transform;transition-property:-webkit-transform;-o-transition-property:transform;transition-property:transform;transition-property:transform,-webkit-transform}.react-grid-item.resizing{z-index:1;will-change:width,height}.react-grid-item.react-draggable-dragging{-webkit-transition:none;-o-transition:none;transition:none;z-index:3;will-change:transform}.react-grid-item.react-grid-placeholder{background:red;opacity:.2;-webkit-transition-duration:.1s;-o-transition-duration:.1s;transition-duration:.1s;z-index:2;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none}.react-grid-item .react-resizable-handle{position:absolute;width:20px;height:20px;bottom:0;right:0;cursor:se-resize;opacity:0}.react-grid-item .react-resizable-handle:after{content:"";position:absolute;right:3px;bottom:3px;width:9px;height:9px;border-right:2px solid #979797;border-bottom:2px solid #979797}.react-grid-item:hover .react-resizable-handle{opacity:1}.react-grid-item .move{cursor:move;position:absolute}',"",{version:3,sources:["D:/Project/webclient/web_okk/src/css/grid-layout.css"],names:[],mappings:"AAAA,mBACE,kBAAmB,AACnB,mCAAsC,AACtC,8BAAiC,AACjC,0BAA8B,CAC/B,AACD,iBACE,gCAAmC,AACnC,2BAA8B,AAC9B,wBAA2B,AAC3B,qCAAuC,AACvC,gCAAkC,AAClC,4BAA+B,CAChC,AACD,+BACE,8CAA+C,AAC/C,sCAAuC,AACvC,iCAAkC,AAClC,8BAA+B,AAC/B,+CAAkD,CACnD,AACD,0BACE,UAAW,AACX,wBAA2B,CAC5B,AACD,0CACE,wBAAyB,AACzB,mBAAoB,AACpB,gBAAiB,AACjB,UAAW,AACX,qBAAuB,CACxB,AACD,wCACE,eAAgB,AAChB,WAAa,AACb,gCAAmC,AAC9B,2BAA8B,AAC3B,wBAA2B,AACnC,UAAW,AACX,yBAA0B,AAC1B,sBAAuB,AACvB,qBAAsB,AACtB,oBAAqB,AACrB,gBAAkB,CACnB,AACD,yCACE,kBAAmB,AACnB,WAAY,AACZ,YAAa,AACb,SAAU,AACV,QAAS,AACT,iBAAkB,AAClB,SAAW,CACZ,AACD,+CACE,WAAY,AACZ,kBAAmB,AACnB,UAAW,AACX,WAAY,AACZ,UAAW,AACX,WAAY,AACZ,+BAAgC,AAChC,+BAAiC,CAClC,AACD,+CACE,SAAW,CACZ,AACD,uBACE,YAAa,AACb,iBAAmB,CACpB",file:"grid-layout.css",sourcesContent:['.react-grid-layout {\n  position: relative;\n  -webkit-transition: height 200ms ease;\n  -o-transition: height 200ms ease;\n  transition: height 200ms ease;\n}\n.react-grid-item {\n  -webkit-transition: all 200ms ease;\n  -o-transition: all 200ms ease;\n  transition: all 200ms ease;\n  -webkit-transition-property: left, top;\n  -o-transition-property: left, top;\n  transition-property: left, top;\n}\n.react-grid-item.cssTransforms {\n  -webkit-transition-property: -webkit-transform;\n  transition-property: -webkit-transform;\n  -o-transition-property: transform;\n  transition-property: transform;\n  transition-property: transform, -webkit-transform;\n}\n.react-grid-item.resizing {\n  z-index: 1;\n  will-change: width, height;\n}\n.react-grid-item.react-draggable-dragging {\n  -webkit-transition: none;\n  -o-transition: none;\n  transition: none;\n  z-index: 3;\n  will-change: transform;\n}\n.react-grid-item.react-grid-placeholder {\n  background: red;\n  opacity: 0.2;\n  -webkit-transition-duration: 100ms;\n       -o-transition-duration: 100ms;\n          transition-duration: 100ms;\n  z-index: 2;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  -o-user-select: none;\n  user-select: none;\n}\n.react-grid-item .react-resizable-handle {\n  position: absolute;\n  width: 20px;\n  height: 20px;\n  bottom: 0;\n  right: 0;\n  cursor: se-resize;\n  opacity: 0;\n}\n.react-grid-item .react-resizable-handle:after {\n  content: "";\n  position: absolute;\n  right: 3px;\n  bottom: 3px;\n  width: 9px;\n  height: 9px;\n  border-right: 2px solid #979797;\n  border-bottom: 2px solid #979797;\n}\n.react-grid-item:hover .react-resizable-handle {\n  opacity: 1;\n}\n.react-grid-item .move {\n  cursor: move;\n  position: absolute;\n}\n'],sourceRoot:""}])},551:function(e,t,n){(function(e,t){var n=e,a={};a.UDFCompatibleDatafeed=function(e,t){this._mgr=e,this._configuration=void 0,this._barsPulseUpdater=new a.DataPulseUpdater(this,t||1e3),this.update=this._barsPulseUpdater.update,this._enableLogging=!1,this._initializationFinished=!1,this._callbacks={},this._initialize()},a.UDFCompatibleDatafeed.prototype.defaultConfiguration=function(){return{supports_search:!1,supports_group_request:!1,supported_resolutions:["1","5","15","30","60","D"],supports_marks:!0,supports_timescale_marks:!0,supports_time:!0,exchanges:[{value:"",name:"All Exchanges",desc:""}],symbols_types:[{name:"All types",value:""}]}},a.UDFCompatibleDatafeed.prototype.getServerTime=function(e){if(this._configuration.supports_time){var t=this;setTimeout(function(){e(t._mgr.getServerTime())},10)}},a.UDFCompatibleDatafeed.prototype.on=function(e,t){return this._callbacks.hasOwnProperty(e)||(this._callbacks[e]=[]),this._callbacks[e].push(t),this},a.UDFCompatibleDatafeed.prototype._fireEvent=function(e,t){if(this._callbacks.hasOwnProperty(e)){for(var n=this._callbacks[e],a=0;a<n.length;++a)n[a](t);this._callbacks[e]=[]}},a.UDFCompatibleDatafeed.prototype.onInitialized=function(){this._initializationFinished=!0,this._fireEvent("initialized")},a.UDFCompatibleDatafeed.prototype._logMessage=function(e){if(this._enableLogging){var t=new Date;console.log(t.toLocaleTimeString()+"."+t.getMilliseconds()+"> "+e)}},a.UDFCompatibleDatafeed.prototype._send=function(e,t){var a=e;if(t)for(var r=0;r<Object.keys(t).length;++r){var o=Object.keys(t)[r],i=encodeURIComponent(t[o]);a+=(0===r?"?":"&")+o+"="+i}return this._logMessage("New request: "+a),n.ajax({type:"GET",url:a,contentType:"text/plain"})},a.UDFCompatibleDatafeed.prototype._initialize=function(){var e=this._mgr.getTVConfig(),t=this.defaultConfiguration();if(e){var n=Object.assign({},t,e);this._setupWithConfiguration(n)}else this._setupWithConfiguration(t)},a.UDFCompatibleDatafeed.prototype.onReady=function(e){var t=this;this._configuration?setTimeout(function(){e(t._configuration)},0):this.on("configuration_ready",function(){e(t._configuration)})},a.UDFCompatibleDatafeed.prototype._setupWithConfiguration=function(e){this._configuration=e,e.exchanges||(e.exchanges=[]);var t=e.supported_resolutions||e.supportedResolutions;e.supported_resolutions=t;var n=e.symbols_types||e.symbolsTypes;e.symbols_types=n,e.supports_search||(this._symbolSearch=new a.SymbolSearchComponent(this)),e.supports_group_request||this.onInitialized(),this._fireEvent("configuration_ready"),this._logMessage("Initialized with "+JSON.stringify(e))},a.UDFCompatibleDatafeed.prototype.resolveSymbol=function(e,t,n){function a(e){var n=e;r.postProcessSymbolInfo&&(n=r.postProcessSymbolInfo(n)),r._logMessage("Symbol resolved: "+(Date.now()-o)),t(n)}var r=this;if(!this._initializationFinished)return void this.on("initialized",function(){r.resolveSymbol(e,t,n)});var o=Date.now();r._logMessage("Resolve requested"),this._configuration.supports_group_request||setTimeout(function(){var t=r._mgr.resolveTVSymbol(e?e.toUpperCase():"");t?a(t):(r._logMessage("Error resolving symbol: "+e),n("unknown_symbol"))},10)},a.UDFCompatibleDatafeed.prototype.getBars=function(e,t,n,a,r,o){if(n>0&&(n+"").length>10)throw new Error(["Got a JS time instead of Unix one.",n,a]);var i=function(e){if(e){var t="no_data"===e.s;if("ok"!==e.s&&!t)return void(o&&o(e.s));var n=e.bars||[];r(n,{noData:t,nextTime:e.nb||e.nextTime})}else console.warn(["getBars(): error"]),o&&o(" error: ")};this._mgr.getBars(e.ticker.toUpperCase(),t,n,a,i)},a.UDFCompatibleDatafeed.prototype.subscribeBars=function(e,t,n,a,r){this._barsPulseUpdater.subscribeDataListener(e,t,n,a,r)},a.UDFCompatibleDatafeed.prototype.unsubscribeBars=function(e){this._barsPulseUpdater.unsubscribeDataListener(e)},a.UDFCompatibleDatafeed.prototype.calculateHistoryDepth=function(e,t,n){},a.SymbolSearchComponent=function(e){this._datafeed=e},a.DataPulseUpdater=function(e,t){this._datafeed=e,this._datafeed._logMessage("DataPulseUpdater init "+t),this._subscribers={},this._requestsPending=0;var n=this;this.update=function(){if(!(n._requestsPending>0))for(var e in n._subscribers){var t=n._subscribers[e],a=t.resolution,r=n._datafeed._mgr.getServerTime(),o=r-n.periodLengthSeconds(a,10);n._requestsPending++,function(t){n._datafeed.getBars(t.symbolInfo,a,o,r,function(a){if(n._requestsPending--,n._subscribers.hasOwnProperty(e)&&0!==a.length){var r=a[a.length-1];if(isNaN(t.lastBarTime)||!(r.time<t.lastBarTime)){var o=t.listeners;if(!isNaN(t.lastBarTime)&&r.time>t.lastBarTime){if(a.length<2)throw new Error("Not enough bars in history for proper pulse update. Need at least 2.");for(var i=a[a.length-2],s=0;s<o.length;++s)o[s](i)}t.lastBarTime=r.time;for(var l=0;l<o.length;++l)o[l](r)}}},function(){n._requestsPending--})}(t)}}},a.DataPulseUpdater.prototype.unsubscribeDataListener=function(e){this._datafeed._logMessage("Unsubscribing "+e),delete this._subscribers[e]},a.DataPulseUpdater.prototype.subscribeDataListener=function(e,t,n,a){this._datafeed._logMessage("Subscribing "+a),this._subscribers.hasOwnProperty(a)||(this._subscribers[a]={symbolInfo:e,resolution:t,lastBarTime:NaN,listeners:[]}),this._subscribers[a].listeners.push(n)},a.DataPulseUpdater.prototype.periodLengthSeconds=function(e,t){return 24*("D"===e?t:"M"===e?31*t:"W"===e?7*t:t*e/1440)*60*60},"undefined"!==typeof t&&t&&t.exports&&(t.exports={UDFCompatibleDatafeed:a.UDFCompatibleDatafeed})}).call(t,n(13),n(154)(e))},552:function(e,t,n){var a,r,o,i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(n,s){"object"==i(t)&&"undefined"!=typeof e?s(t):(r=[t],a=s,void 0!==(o="function"===typeof a?a.apply(t,r):a)&&(e.exports=o))}(0,function(e){"use strict";function t(e,n){var a=r({},e);for(var o in n)"object"!=i(e[o])||null===e[o]||Array.isArray(e[o])?void 0!==n[o]&&(a[o]=n[o]):a[o]=t(e[o],n[o]);return a}function n(){return"1.12 (internal id e816a7a6 @ 2018-03-26 08:21:11.837530)"}function a(e){window.addEventListener("DOMContentLoaded",e,!1)}var r=Object.assign||function(e){for(var t,n=arguments,a=1,r=arguments.length;a<r;a++){t=n[a];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},o={mobile:{disabled_features:["left_toolbar","header_widget","timeframes_toolbar","edit_buttons_in_legend","context_menus","control_bar","border_around_the_chart"],enabled_features:[]}},s={width:800,height:500,symbol:"AA",interval:"D",timezone:"UTC",container_id:"",library_path:"",locale:"en",widgetbar:{details:!1,watchlist:!1,watchlist_settings:{default_symbols:[]}},overrides:{"mainSeriesProperties.showCountdown":!1},studies_overrides:{},brokerConfig:{configFlags:{}},fullscreen:!1,autosize:!1,disabled_features:[],enabled_features:[],debug:!1,logo:{},time_frames:[{text:"5y",resolution:"W"},{text:"1y",resolution:"W"},{text:"6m",resolution:"120"},{text:"3m",resolution:"60"},{text:"1m",resolution:"30"},{text:"5d",resolution:"5"},{text:"1d",resolution:"1"}],client_id:"0",user_id:"0",charts_storage_api_version:"1.0",skin_theme:"gray-theme",favorites:{intervals:[],chartTypes:[]}},l=function(){function e(e){if(this._id="tradingview_"+(1048576*(1+Math.random())|0).toString(16).substring(1),this._ready=!1,this._readyHandlers=[],this._onWindowResize=this._autoResizeChart.bind(this),!e.datafeed)throw new Error("Datafeed is not defined");if(this._options=t(s,e),e.preset){var n=o[e.preset];n?(void 0!==this._options.disabled_features?this._options.disabled_features=this._options.disabled_features.concat(n.disabled_features):this._options.disabled_features=n.disabled_features,void 0!==this._options.enabled_features?this._options.enabled_features=this._options.enabled_features.concat(n.enabled_features):this._options.enabled_features=n.enabled_features):console.warn("Unknown preset: `"+e.preset+"`")}this._create()}return e.prototype.onChartReady=function(e){this._ready?e.call(this):this._readyHandlers.push(e)},e.prototype.onGrayedObjectClicked=function(e){this._innerAPI().onGrayedObjectClicked(e)},e.prototype.onShortcut=function(e,t){this._innerWindow().createShortcutAction(e,t)},e.prototype.subscribe=function(e,t){this._innerAPI().subscribe(e,t)},e.prototype.unsubscribe=function(e,t){this._innerAPI().unsubscribe(e,t)},e.prototype.chart=function(e){return this._innerAPI().chart(e)},e.prototype.setLanguage=function(e){this.remove(),this._options.locale=e,this._create()},e.prototype.setSymbol=function(e,t,n){this._innerAPI().changeSymbol(e,t+"",n)},e.prototype.setTheme=function(e){this._options.skin_theme=e},e.prototype.remove=function(){window.removeEventListener("resize",this._onWindowResize),this._readyHandlers.splice(0,this._readyHandlers.length),delete window[this._id];var e=this._getIFrameElement();e.contentWindow.destroyChart(),e.parentNode&&e.parentNode.removeChild(e)},e.prototype.closePopupsAndDialogs=function(){this._innerAPI().closePopupsAndDialogs()},e.prototype.selectLineTool=function(e){this._innerAPI().selectLineTool(e)},e.prototype.selectedLineTool=function(){return this._innerAPI().selectedLineTool()},e.prototype.save=function(e){this._innerAPI().saveChart(e)},e.prototype.load=function(e,t){this._innerAPI().loadChart({json:e,extendedData:t})},e.prototype.getSavedCharts=function(e){this._innerAPI().getSavedCharts(e)},e.prototype.loadChartFromServer=function(e){this._innerAPI().loadChartFromServer(e)},e.prototype.saveChartToServer=function(e,t,n,a){this._innerAPI().saveChartToServer(e,t,n,a)},e.prototype.removeChartFromServer=function(e,t){this._innerAPI().removeChartFromServer(e,t)},e.prototype.onContextMenu=function(e){this._innerAPI().onContextMenu(e)},e.prototype.createButton=function(e){return this._innerWindow().createButton(e)},e.prototype.showNoticeDialog=function(e){this._innerAPI().showNoticeDialog(e)},e.prototype.showConfirmDialog=function(e){this._innerAPI().showConfirmDialog(e)},e.prototype.showLoadChartDialog=function(){this._innerAPI().showLoadChartDialog()},e.prototype.showSaveAsChartDialog=function(){this._innerAPI().showSaveAsChartDialog()},e.prototype.symbolInterval=function(){return this._innerAPI().getSymbolInterval()},e.prototype.mainSeriesPriceFormatter=function(){return this._innerAPI().mainSeriesPriceFormatter()},e.prototype.getIntervals=function(){return this._innerAPI().getIntervals()},e.prototype.getStudiesList=function(){return this._innerAPI().getStudiesList()},e.prototype.addCustomCSSFile=function(e){this._innerWindow().addCustomCSSFile(e)},e.prototype.applyOverrides=function(e){this._options=t(this._options,{overrides:e}),this._innerWindow().applyOverrides(e)},e.prototype.applyStudiesOverrides=function(e){this._options=t(this._options,{studies_overrides:e}),this._innerWindow().applyStudiesOverrides(e)},e.prototype.watchList=function(){return this._innerAPI().watchlist()},e.prototype.activeChart=function(){return this._innerAPI().activeChart()},e.prototype.chartsCount=function(){return this._innerAPI().chartsCount()},e.prototype.layout=function(){return this._innerAPI().layout()},e.prototype.setLayout=function(e){this._innerAPI().setLayout(e)},e.prototype._getIFrameElement=function(){var e=document.getElementById(this._id);if(null===e)throw new Error("There is no such iframe");return e},e.prototype._innerAPI=function(){return this._getIFrameElement().contentWindow.tradingViewApi},e.prototype._innerWindow=function(){return this._getIFrameElement().contentWindow},e.prototype._autoResizeChart=function(){this._options.fullscreen&&(this._getIFrameElement().style.height=window.innerHeight+"px")},e.prototype._create=function(){var e=this,t=this._render(),n=document.getElementById(this._options.container_id);if(null===n)throw new Error("There is no such element - #"+this._options.container_id);n.innerHTML=t;var a=this._getIFrameElement();(this._options.autosize||this._options.fullscreen)&&(a.style.width="100%",this._options.fullscreen||(a.style.height="100%")),window.addEventListener("resize",this._onWindowResize),this._onWindowResize();var r=function t(){a.removeEventListener("load",t,!1),a.contentWindow.widgetReady(function(){e._ready=!0;for(var t=0,n=e._readyHandlers;t<n.length;t++)n[t].call(e);a.contentWindow.initializationFinished()})};a.addEventListener("load",r,!1)},e.prototype._render=function(){var e=window;e[this._id]={datafeed:this._options.datafeed,customFormatters:this._options.customFormatters,brokerFactory:this._options.brokerFactory,overrides:this._options.overrides,studiesOverrides:this._options.studies_overrides,disabledFeatures:this._options.disabled_features,enabledFeatures:this._options.enabled_features,brokerConfig:this._options.brokerConfig,restConfig:this._options.restConfig,favorites:this._options.favorites,logo:this._options.logo,numeric_formatting:this._options.numeric_formatting,rss_news_feed:this._options.rss_news_feed,newsProvider:this._options.news_provider,loadLastChart:this._options.load_last_chart,saveLoadAdapter:this._options.save_load_adapter,loading_screen:this._options.loading_screen,settingsAdapter:this._options.settings_adapter},this._options.saved_data&&(e[this._id].chartContent={json:this._options.saved_data});var t=(this._options.library_path||"")+"static/tv-chart.e816a7a6edc9de3ed709.html#localserver=1&symbol="+encodeURIComponent(this._options.symbol)+"&interval="+encodeURIComponent(this._options.interval)+(this._options.timeframe?"&timeframe="+encodeURIComponent(this._options.timeframe):"")+(this._options.toolbar_bg?"&toolbarbg="+this._options.toolbar_bg.replace("#",""):"")+(this._options.studies_access?"&studiesAccess="+encodeURIComponent(JSON.stringify(this._options.studies_access)):"")+"&widgetbar="+encodeURIComponent(JSON.stringify(this._options.widgetbar))+(this._options.drawings_access?"&drawingsAccess="+encodeURIComponent(JSON.stringify(this._options.drawings_access)):"")+"&timeFrames="+encodeURIComponent(JSON.stringify(this._options.time_frames))+"&locale="+encodeURIComponent(this._options.locale)+"&uid="+encodeURIComponent(this._id)+"&clientId="+encodeURIComponent(String(this._options.client_id))+"&userId="+encodeURIComponent(String(this._options.user_id))+(this._options.charts_storage_url?"&chartsStorageUrl="+encodeURIComponent(this._options.charts_storage_url):"")+(this._options.charts_storage_api_version?"&chartsStorageVer="+encodeURIComponent(this._options.charts_storage_api_version):"")+(this._options.indicators_file_name?"&indicatorsFile="+encodeURIComponent(this._options.indicators_file_name):"")+(this._options.custom_css_url?"&customCSS="+encodeURIComponent(this._options.custom_css_url):"")+(this._options.auto_save_delay?"&autoSaveDelay="+encodeURIComponent(String(this._options.auto_save_delay)):"")+"&debug="+this._options.debug+(this._options.snapshot_url?"&snapshotUrl="+encodeURIComponent(this._options.snapshot_url):"")+(this._options.timezone?"&timezone="+encodeURIComponent(this._options.timezone):"")+(this._options.study_count_limit?"&studyCountLimit="+encodeURIComponent(String(this._options.study_count_limit)):"")+(this._options.symbol_search_request_delay?"&ssreqdelay="+encodeURIComponent(String(this._options.symbol_search_request_delay)):"")+"&skin_theme="+this._options.skin_theme;return'<iframe id="'+this._id+'" name="'+this._id+'"  src="'+t+'"'+(this._options.autosize||this._options.fullscreen?"":' width="'+this._options.width+'" height="'+this._options.height+'"')+' frameborder="0" allowTransparency="true" scrolling="no" allowfullscreen style="display:block;"></iframe>'},e}(),c=l;window.TradingView=window.TradingView||{},window.TradingView.version=n,e.version=n,e.onready=a,e.widget=c,Object.defineProperty(e,"__esModule",{value:!0})})},553:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),s=n.n(i),l=n(14),c=n.n(l),u=n(24),d=n(2),p=n(3),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),f=function(e){function t(e){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),o=n.props.format,i=-1!=o.indexOf("HH"),s=-1!=o.indexOf("mm"),l=-1!=o.indexOf("ss"),c=n.props.value,u=c.split(":");return c=(i?u[0]:"00")+":"+(s?u[1]:"00")+":"+(l?u[2]:"00"),n.upDownInterval=60,n.trigInterval=500,n.onMouseUp=n.onMouseUp.bind(n),n.state={value:c,focus:"",error:[],showH:i,showM:s,showS:l},n}return o(t,e),h(t,[{key:"onChangeFocus",value:function(e){this.state.focus!=e&&this.setState({focus:e})}},{key:"nextFocus",value:function(){var e;return"h"==this.state.focus?e="m":"m"==this.state.focus&&(e="s"),e&&this.refs[e]&&(this.setCurPos(this.refs[e],0),this.onChangeFocus(e)),e}},{key:"prevFocus",value:function(){"m"==this.state.focus?(this.setCurPos(this.refs.h,2),this.onChangeFocus("h")):"s"==this.state.focus&&(this.setCurPos(this.refs.m,2),this.onChangeFocus("m"))}},{key:"handleKeyPress",value:function(e){var t=this,n=e||window.event||arguments.callee.caller.arguments[0];if(n&&38==n.keyCode)this.onArrowUpOrDown(1),n.preventDefault();else if(n&&40==n.keyCode)this.onArrowUpOrDown(-1),n.preventDefault();else if(n&&37==n.keyCode){var a=this.getCurPos();0==a&&(n.preventDefault(),this.prevFocus())}else if(n&&39==n.keyCode){var a=this.getCurPos();2==a&&(n.preventDefault(),this.nextFocus())}else if(n&&(n.keyCode>=48&&n.keyCode<=57||n.keyCode>=96&&n.keyCode<=105)){n.preventDefault();var r,a=this.getCurPos(),o=a+1;2==a&&(r=this.nextFocus(),a=0,o=1);var r=r||this.state.focus;this.replaceValue(r,n.keyCode>=96?n.keyCode-48:n.keyCode,a,function(){t.refs[r]&&t.setCurPos(t.refs[r],o)})}else n.preventDefault();return!1}},{key:"replaceValue",value:function(e,t,n,a){if(this.refs[e]){var r=this.refs[e],o=r.value,i=o.substr(0,n),s=o.substr(n+1,o.length),l=i+String.fromCharCode(t)+s;this.onChangeValue(e,l,a)}}},{key:"getCurPos",value:function(){if(this.state.focus){var e=0,t=this.refs[this.state.focus];if(t)if(document.selection){t.focus();var n=document.selection.createRange();n.moveStart("character",-t.value.length),e=n.text.length}else(t.selectionStart||"0"==t.selectionStart)&&(e=t.selectionStart);return e}}},{key:"setCurPos",value:function(e,t){if(e.setSelectionRange)e.focus(),e.setSelectionRange(t,t);else if(e.createTextRange){var n=e.createTextRange();n.collapse(!0),n.moveEnd("character",t),n.moveStart("character",t),n.select()}}},{key:"onChangeNum",value:function(e,t){e.preventDefault();var n=e.target.value;if(isNaN(n))return!1;this.onChangeValue(t,n)}},{key:"onChangeValue",value:function(e,t,n){var a=this.state.value.split(":"),r=[];"h"==e?(a[0]!=t&&(a[0]=t),Number(t)>23&&r.push(d.a.lang("trade.tip.max",23))):"m"==e?(Number(t)>59&&(t=59),a[1]!=t&&(a[1]=t),Number(t)>59&&r.push(d.a.lang("trade.tip.max",59))):"s"==e&&(Number(t)>59&&(t=59),a[2]!=t&&(a[2]=t),Number(t)>59&&r.push(d.a.lang("trade.tip.max",59)));var o=a.join(":");if(this.state.value!=o){if(this.props.min){if(("function"==typeof this.props.min?this.props.min():this.props.min)>=o)return}this.setState({value:o,error:r},function(){n&&n()}),this.props.onChange&&this.props.onChange(o)}else n&&n()}},{key:"onArrowUpOrDown",value:function(e){this.step=0;var t=this.state.focus||"h",n=this.refs[t],a=n.value;this.state.focus||this.onChangeFocus(t),e>0?(a=Number(a)+1,a=Number(a)>23&&"h"==t?"00":Number(a)>59?"00":("0"+a).substr(-2),this.onChangeValue(t,a)):(a=Number(a)-1,a=Number(a)<0?"h"==t?"23":"59":("0"+a).substr(-2),this.onChangeValue(t,a))}},{key:"trigLoop",value:function(e){var t=this;this.releaseTimer(),this.upDownTimer=p.a.setTimer(function(){t.onArrowUpOrDown(e)},this.upDownInterval,this)}},{key:"releaseTimer",value:function(){this.upDownTrigTimer&&(clearTimeout(this.upDownTrigTimer),this.upDownTrigTimer=0),this.upDownTimer&&(clearInterval(this.upDownTimer),this.upDownTimer=0)}},{key:"onMouseDown",value:function(e){var t=this;this.step=e,this.releaseTimer(),this.upDownTrigTimer=p.a.setTimer(function(){t.trigLoop(e)},this.trigInterval,this,!0)}},{key:"onMouseUp",value:function(){this.releaseTimer(),this.step&&this.onArrowUpOrDown(this.step)}},{key:"componentDidMount",value:function(){window.addEventListener("mouseup",this.onMouseUp)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("mouseup",this.onMouseUp)}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,a=t.disabled,r=this.state,o=r.value,i=r.focus,l=r.error,c=r.showH,u=r.showM,d=r.showS,p=o.split(":"),h=n;return l.length>0&&(h=n?n+" slider-error":"slider-error"),s.a.createElement("div",{className:h},s.a.createElement("div",{className:"time-edit tc"},c&&s.a.createElement("input",{value:p[0],className:"h"==i?"bgon":"",disabled:a,onFocus:function(){e.onChangeFocus("h")},ref:"h",onKeyDown:this.handleKeyPress.bind(this),onChange:function(t){return e.onChangeNum(t,"h")}}),u&&s.a.createElement("span",null,":"),u&&s.a.createElement("input",{value:p[1],className:"m"==i?"bgon":"",disabled:a,onFocus:function(){e.onChangeFocus("m")},ref:"m",onKeyDown:this.handleKeyPress.bind(this),onChange:function(t){return e.onChangeNum(t,"m")}}),d&&s.a.createElement("span",null,":"),d&&s.a.createElement("input",{value:p[2],className:"s"==i?"bgon":"",disabled:a,onFocus:function(){e.onChangeFocus("s")},ref:"s",onKeyDown:this.handleKeyPress.bind(this),onChange:function(t){return e.onChangeNum(t,"s")}})),s.a.createElement("div",{className:"arrow-box"},s.a.createElement("span",{className:a?"iconfont icon-dropUp arrowup disable":"iconfont icon-dropUp arrowup",onMouseDown:function(){a||e.onMouseDown(1)}}),s.a.createElement("span",{className:a?"iconfont icon-dropDown arrowdown disable":"iconfont icon-dropDown arrowdown",onMouseDown:function(){a||e.onMouseDown(-1)}})))}}]),t}(u.a);f.defaultProps={format:"hh:mm:ss"},f.propTypes={className:c.a.string,onChange:c.a.func,disabled:c.a.bool,value:c.a.string,format:c.a.string,min:c.a.oneOfType([c.a.string,c.a.func])},t.a=f},562:function(e,t,n){"use strict";var a=n(563);t.a=a.a},563:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),s=n.n(i),l=n(14),c=n.n(l),u=n(564),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),p=document,h=function(e){function t(){var e;a(this,t);for(var n=arguments.length,o=Array(n),i=0;i<n;i++)o[i]=arguments[i];var s=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o)));return s.state={x:null,y:null,originX:0,originY:0,lastX:0,lastY:0,zIndex:0,post:"static"},s.move=s.move.bind(s),s.onDragEnd=s.onDragEnd.bind(s),s}return o(t,e),d(t,[{key:"move",value:function(e){var t=this.state,n=t.lastX,a=t.lastY,r=e.clientX-this.state.originX+n,o=e.clientY-this.state.originY+a;"touchmove"===e.type&&(r=e.touches[0].clientX-this.state.originX+n,o=e.touches[0].clientY-this.state.originY+a);var i=this.props.grid;Array.isArray(i)&&2===i.length&&(r=Math.round(r/i[0])*i[0],o=Math.round(o/i[1])*i[1]);var s=this.props.bounds;if(s){var l="string"===typeof s?s:Object(u.g)(s);"parent"===this.props.bounds&&(l={left:Object(u.c)(this.parent.style.paddingLeft)+Object(u.c)(this.self.style.marginLeft)-this.self.offsetLeft,top:Object(u.c)(this.parent.style.paddingTop)+Object(u.c)(this.self.style.marginTop)-this.self.offsetTop,right:Object(u.b)(this.parent)-Object(u.f)(this.self)-this.self.offsetLeft+Object(u.c)(this.parent.style.paddingRight)-Object(u.c)(this.self.style.marginRight),bottom:Object(u.a)(this.parent)-Object(u.e)(this.self)-this.self.offsetTop+Object(u.c)(this.parent.style.paddingBottom)-Object(u.c)(this.self.style.marginBottom)}),Object(u.d)(l.right)&&(r=Math.min(r,l.right)),Object(u.d)(l.bottom)&&(o=Math.min(o,l.bottom)),Object(u.d)(l.left)&&(r=Math.max(r,l.left)),Object(u.d)(l.top)&&(o=Math.max(o,l.top))}r=this.props.allowX?r:0,o=this.props.allowY?o:0,this.props.onMove&&this.props.onMove(e,r,o),this.setState({x:r,y:o})}},{key:"onDragStart",value:function(e){if((!this.props.hasDraggerHandle||"handle"===e.target.className)&&(!this.props.hasCancelHandle||"cancel"!==e.target.className)&&!0!==this.props.static){p.body.style.userSelect="none",p.addEventListener("mousemove",this.move),p.addEventListener("mouseup",this.onDragEnd),p.addEventListener("touchmove",this.move),p.addEventListener("touchend",this.onDragEnd),"parent"!==this.props.bounds||"undefined"!==typeof this.parent&&null!==this.parent||(this.parent=e.currentTarget.offsetParent,this.self=e.currentTarget),this.props.onDragStart&&this.props.onDragStart(e,this.state.x,this.state.y);var t=e.clientX,n=e.clientY;"touchstart"===e.type&&(t=e.touches[0].clientX,n=e.touches[0].clientY),this.setState({originX:t,originY:n,lastX:this.state.x,lastY:this.state.y,zIndex:9,post:"relative"})}}},{key:"onDragEnd",value:function(e){p.body.style.userSelect="",this.parent=null,this.self=null,p.removeEventListener("mousemove",this.move),p.removeEventListener("mouseup",this.onDragEnd),p.removeEventListener("touchmove",this.move),p.removeEventListener("touchend",this.onDragEnd),this.props.onDragEnd&&this.props.onDragEnd(e,this.state.x,this.state.y),this.props.resetXY&&this.setState({x:0,y:0,zIndex:0,post:"static"})}},{key:"componentDidMount",value:function(){"number"===typeof this.props.x&&"number"===typeof this.props.y&&this.setState({x:this.props.x,y:this.props.y})}},{key:"componentWillReceiveProps",value:function(e){e.isUserMove||"number"===typeof e.x&&"number"===typeof e.y&&this.setState({x:e.x,y:e.y,lastX:e.x,lastY:e.y})}},{key:"render",value:function(e){var t=this.state,n=t.x,a=t.y,r=t.zIndex,o=t.post,i=this.props,l=(i.bounds,i.style),c=i.className,u=i.others,d=i.isPop;this.props.isUserMove||(n=this.props.x,a=this.props.y);var p="undefined"===typeof c?"":c+" ",h="translate("+n+"px,"+a+"px)";("static"==o||e&&"mouseup"===e.type)&&(h="none");var f=l&&l.zIndex?l.zIndex:r,m=Object.assign({transform:h,zIndex:f,position:d?"absolute":o},l);return s.a.createElement("div",Object.assign({className:p+"WrapDragger",style:m,onMouseDown:this.onDragStart.bind(this),onMouseUp:this.onDragEnd.bind(this),onTouchStart:this.onDragStart.bind(this),onTouchEnd:this.onDragStart.bind(this)},u),s.a.cloneElement(s.a.Children.only(this.props.children),{}))}}]),t}(s.a.Component);h.propTypes={x:c.a.number,y:c.a.number,zIndex:c.a.number,resetXY:c.a.bool,bounds:c.a.oneOfType([c.a.shape({left:c.a.number,right:c.a.number,top:c.a.number,bottom:c.a.number}),c.a.string]),grid:c.a.arrayOf(c.a.number),allowX:c.a.bool,allowY:c.a.bool,hasDraggerHandle:c.a.bool,hasCancelHandle:c.a.bool,isUserMove:c.a.bool,static:c.a.bool,onDragStart:c.a.func,onMove:c.a.func,onDragEnd:c.a.func},h.defaultProps={allowX:!0,allowY:!0,hasDraggerHandle:!1,isUserMove:!0},t.a=h},564:function(e,t,n){"use strict";n.d(t,"c",function(){return a}),n.d(t,"b",function(){return r}),n.d(t,"f",function(){return o}),n.d(t,"a",function(){return i}),n.d(t,"e",function(){return s}),n.d(t,"g",function(){return l}),n.d(t,"d",function(){return c});var a=function(e){return""===e?0:parseInt(e,10)},r=function(e){var t=e.clientWidth,n=e.style;return t-=a(n.paddingLeft),t-=a(n.paddingRight)},o=function(e){var t=e.clientWidth,n=e.style;return t+=a(n.borderLeftWidth),t+=a(n.borderRightWidth)},i=function(e){var t=e.clientHeight,n=e.style;return t-=a(n.paddingTop),t-=a(n.paddingBottom)},s=function(e){var t=e.clientHeight,n=e.style;return t+=a(n.borderTopWidth),t+=a(n.borderBottomWidth)},l=function(e){return{left:-e.left,top:-e.top,right:e.right,bottom:e.bottom}},c=function(e){return"number"===typeof e}},565:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(2),s=n(0),l=n.n(s),c=n(24),u=n(186),d=(n.n(u),n(29)),p=n(164),h=n(229),f=n(16),m=n(26),g=n(9),v=n(15),y=n(326),b=n(1),E=n(30),w=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),C=function(e){function t(e){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),o=n.props.data,i=o[0],s=d.a.getProductByID(i.CID),l={row:i,product:s};if(!i.PID){n.deposit=i.Deposit,n.con=d.a.getCon(i.CID),n.risks=d.a.getRisks(i.CID),n.calcFixed=s.CalcFixed,n.MarginTotal=i.MarginTotal,n.addDeposit=String(v.a.accSubtr(i.Margin,i.Deposit));var c=v.a.accMul(d.a.rangePricePoint,d.a.getPriceOnePointValue(i.Product.UnitPrice));Object.assign(l,{closePositionPrice:i.CLOSEorder?Number(i.CLOSEorder.Price):Number(i.Side==f.a.FUT.Side.BUY?v.a.accAdd(s.price.BID,c):v.a.accSubtr(s.price.ASK,c)),volume:i.Volume,splitVolume:1,lever:i.Scale,margin:n.MarginTotal,forceClosePrice:String(i.Force),addDeposit:n.addDeposit})}return n.state=l,n}return o(t,e),w(t,[{key:"close",value:function(){m.a.closeByDomID("order-edit")}},{key:"onChangeClosePositionPrice",value:function(e){this.setState({closePositionPrice:e})}},{key:"onChangeSplitVolume",value:function(e){this.setState({splitVolume:e})}},{key:"onChangeLever",value:function(e){this.setState({lever:e})}},{key:"onChangeMargin",value:function(e){if(this.state.margin!=e){var t=(this.state.row,{margin:e});this.setState(t)}}},{key:"onChangeForceClosePrice",value:function(e){if(e!=this.state.forceClosePrice){var t=(this.state.row,{forceClosePrice:e});this.setState(t)}}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault(),e.stopPropagation();var n=this.props.option;if("setSL"==n||"editSL"==n||"setTP"==n||"editTP"==n){var a="setSL"==n||"editSL"==n?this.refs.editSL.val():this.refs.editTP.val();if(a&&a.ApiName){var r=a.ApiName;delete a.ApiName,"futures/replace"==r?d.a.replace(a,function(e){0==e.Status&&t.close()},this):g.a.httpRequest(r,a,function(e){0==e.Status&&t.close()},this)}}else if("conditionClose"==n){var o=this.state,s=o.row,l=o.closePositionPrice;if(s.CLOSEorder){var c=s.CLOSEorder,u={Price:Number(l)};if(this.refs.delegrateQtyExpireTimePart){var p=this.refs.delegrateQtyExpireTimePart.val();if(Object.assign(u,p),null===u.TimelyParam)return void E.a.error(i.a.lang("trade.openError.TimelyParam"));if(null===u.Visible)return void E.a.error(i.a.lang("trade.openError.Visible"))}var a={CID:Number(c.CID),ID:Number(c.ID),Target:f.a.FUT.Target.ORDER,Options:u};g.a.httpRequest("futures/setup",a,function(e){0==e.Status&&t.close()},this)}else{var h={CID:s.CID,ID:s.ID,Price:Number(l),Distance:!1};if(this.refs.delegrateQtyExpireTimePart){var p=this.refs.delegrateQtyExpireTimePart.val();if(Object.assign(h,p),null===h.TimelyParam)return void E.a.error(i.a.lang("trade.openError.TimelyParam"));if(null===h.Visible)return void E.a.error(i.a.lang("trade.openError.Visible"))}var a={List:[h]};g.a.httpRequest("futures/close",a,function(e){if(0==e.Status){t.close();var n=e.Data.Result;for(var a in n){var r=n[a];r&&r.Code>0&&E.a.error(i.a.lang("trade.error.closePosition",a,i.a.lang("server.status."+r.Code)+(r.Error,"")))}}},this)}}else if("splitPosition"==n){var m=this.state,s=m.row,y=m.splitVolume;if(Number(y)<=0)return void E.a.error(i.a.lang("trade.openError.SplitVolume"));g.a.httpRequest("futures/split",{CID:s.CID,ID:s.ID,Volume:Number(y)},function(e){0==e.Status&&t.close()},this)}else if("adjustLever"==n){var w=this.state,s=w.row,C=w.lever;if(Number(C)<.01)return void E.a.error(i.a.lang("trade.openError.Scale"));var a={CID:s.CID,ID:s.ID,Target:f.a.FUT.Target.POSITION,Options:{Scale:Number(C)}};g.a.httpRequest("futures/setup",a,function(e){0==e.Status&&t.close()},this)}else if("addDeposit"==n){var P=this.state,s=P.row,S=P.margin;if(Number(S)<=0)return void E.a.error(i.a.lang("trade.openError.Margin"));var k=b.k?Number(S):Number(v.a.accDiv(S,s.Volume)),a={CID:s.CID,ID:s.ID,Target:f.a.FUT.Target.POSITION,Options:{Margin:k}};g.a.httpRequest("futures/setup",a,function(e){0==e.Status&&t.close()},this)}else if("adjustForce"==n){var T=this.state,s=T.row,D=T.forceClosePrice,A=Number(D);if(A<=0)return void E.a.error(i.a.lang("trade.openError.Force"));var a={CID:s.CID,ID:s.ID,Target:f.a.FUT.Target.POSITION,Options:{Force:A}};g.a.httpRequest("futures/setup",a,function(e){0==e.Status&&t.close()},this)}}},{key:"editOrder",value:function(e,t,n){var a=this;if(this.state.row){var r=d.a.checkFormData(t),o=r.ok,i=r.error;o?(t.ID=this.state.row.ID,d.a.replace(t,function(e){n&&n(0==e.Status),0==e.Status&&a.close()},this)):(i.forEach(function(e,t){E.a.error(e)}),n&&n(!1))}}},{key:"render",value:function(){var e=this.props.option,t=this.state,n=t.row,a=t.product,r=t.closePositionPrice,o=t.volume,s=t.splitVolume,c=t.lever,u=t.margin,m=t.forceClosePrice,g=d.a.getPriceOnePointValue(a.UnitPrice),y=d.a.getSkin(),b=!0;return"conditionClose"==e&&(n.Side==f.a.FUT.Side.BUY?Number(r)<=Number(a.price.BID)&&(b=!1):Number(r)>=Number(a.price.ASK)&&(b=!1)),l.a.createElement("section",{className:"ft-trade-panel shadow-w futures-bg-"+y,id:"order-edit",style:{width:320}},l.a.createElement("header",{className:"dialog-head tc lh-25"},l.a.createElement("h3",{className:"ft-dialog-head fem875 tb"},l.a.createElement("span",null,i.a.lang("trade.contextMenu."+e))," ",l.a.createElement("span",null,n.ID)),l.a.createElement("i",{className:"iconfont icon-close transit fem875",onClick:this.close})),l.a.createElement("div",{className:"ft-order-box pd010 fem75 pdb-10 pdt-3 border-none"},"editOrder"!=e&&l.a.createElement("div",{className:"ft-order-market"},l.a.createElement(p.k,{product:a,isExpert:!0,order:n}),l.a.createElement("div",{className:"pos-r"},l.a.createElement(p.h,{product:a,disable:!0,order:n})),"conditionClose"==e&&l.a.createElement("div",null,l.a.createElement("div",{className:"mt-3 tr"},l.a.createElement("span",null,i.a.lang("trade.editOrder.closePosPrice")+":"),l.a.createElement(h.a,{className:"slider-number-box ml-10",value:r,step:Number(a.UnitPrice),min:g,onChange:this.onChangeClosePositionPrice.bind(this)})),b&&l.a.createElement(p.a,{quickDisable:!0,volume:o,ref:"delegrateQtyExpireTimePart",order:n.CLOSEorder})),"splitPosition"==e&&l.a.createElement("div",null,l.a.createElement("div",{className:"mt-3 tr disable"},l.a.createElement("span",null,i.a.lang("trade.editOrder.orderVol")+":"),l.a.createElement(h.a,{value:o,step:1,className:"slider-number-box ver-md",min:1,disabled:!0})),l.a.createElement("div",{className:"mt-3 tr"},l.a.createElement("span",null,i.a.lang("trade.editOrder.splitVol")+":"),l.a.createElement(h.a,{className:"slider-number-box ml-10",value:s,step:1,min:1,onChange:this.onChangeSplitVolume.bind(this)}))),"adjustLever"==e&&l.a.createElement("div",{className:"mt-3 tr"},l.a.createElement("span",null,i.a.lang("trade.open.lever")+":"),l.a.createElement(h.a,{value:c,options:this.leverOptions,labelFormat:"%sx",step:.01,unit:"x",className:"slider-number-box ver-md",min:v.a.getDotDigit(c)>2?1e-6:.01,max:20,onChange:this.onChangeLever.bind(this)})),"addDeposit"==e&&l.a.createElement("div",null,l.a.createElement("div",{className:"mt-3 tr"},l.a.createElement("span",null,i.a.lang("trade.history.MarginTotalDesc")+":"),l.a.createElement(h.a,{value:u,min:0,className:"slider-number-box ver-md",onChange:this.onChangeMargin.bind(this)}))),"adjustForce"==e&&l.a.createElement("div",null,l.a.createElement("div",{className:"mt-3 tr"},l.a.createElement("span",null,i.a.lang("trade.editOrder.forceClosePrice")+":"),l.a.createElement(h.a,{value:m,min:0,step:1,className:"slider-number-box ver-md",onChange:this.onChangeForceClosePrice.bind(this)}))),("setSL"==e||"editSL"==e)&&l.a.createElement(P,{row:n,product:a,ref:"editSL",option:e}),("setTP"==e||"editTP"==e)&&l.a.createElement(S,{row:n,product:a,ref:"editTP",option:e}),l.a.createElement("div",{className:"ft-order-limit lh-25"},l.a.createElement("div",{className:"limit-btn-box flex-box flex-jc mt-10"},l.a.createElement("button",{className:"btn btn-submit wp-100",onClick:this.onSubmit.bind(this)},i.a.lang("common.submit"))))),"editOrder"==e&&l.a.createElement(p.j,{product:a,order:n,onSubmit:this.editOrder.bind(this),className:"ft-order-market"})))}}]),t}(c.a);t.a=C;var P=function(e){function t(e){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.leverOptions=d.a.leverOptions,n.lossOptionsMap={1:"trade.open.condition1",3:"trade.editOrder.lossOption3"},b.k||(n.lossOptionsMap[2]="trade.open.condition2",n.lossOptionsMap[4]="trade.editOrder.lossOption4"),n.lossOptions=Object.keys(n.lossOptionsMap);var o,i=n.props.row,s=!i.hasOwnProperty("PID")||!!d.a.getPosition(i.PID);i.hasOwnProperty("PID")&&(o=s?d.a.getPosition(i.PID):d.a.getOpenOrder(i.PID));var l=o||n.props.row,c={hasPosition:s,product:d.a.getProductByID(i.CID),realRow:l};if(s){var u=l;if(u.SL){var p=u.SLorder;p.Strategy==f.a.FUT.Strategy.Line&&p.Kind==f.a.FUT.Kind.MKT?c.loss=1:p.Strategy==f.a.FUT.Strategy.Line&&p.Kind==f.a.FUT.Kind.LMT?c.loss=2:p.Strategy==f.a.FUT.Strategy.Trail&&p.Kind==f.a.FUT.Kind.MKT?c.loss=3:p.Strategy==f.a.FUT.Strategy.Trail&&p.Kind==f.a.FUT.Kind.LMT&&(c.loss=4);var h=n.getDefaultValue(u,c.loss);n._changeLoss(c.loss),-1!=[3,4].indexOf(Number(c.loss))?c.triggerPoint=Number(u.SL.Param):c.triggerPrice=u.SL.Distance?Number(v.a.accAdd(u.Price,u.SL.Param)):Number(u.SL.Param),c.delegatePriceType=p.Distance?2:1,c.delegatePrice=p.Distance?h.delegatePrice:Number(p.Price),c.delegatePoint=p.Distance?Number(p.Price):h.delegatePoint}else c.loss=1,Object.assign(c,n.getDefaultValue(u,c.loss))}return n.state=c,n}return o(t,e),w(t,[{key:"val",value:function(){var e=this.state,t=e.realRow,n=e.hasPosition,a=e.triggerPrice,r=e.triggerPoint,o=e.loss,s=e.delegatePriceType,l=e.delegatePrice,c=e.delegatePoint,u={};if(n){var p={};if(o=Number(o),-1!=[1,3].indexOf(o)?(p.Price=0,p.Distance=!1):(p.Price=Number(1==s?l:c),p.Distance=2==s),p.Strategy=-1!=[3,4].indexOf(o)?f.a.FUT.Strategy.Trail:f.a.FUT.Strategy.Line,p.Variable=f.a.FUT.Variable.LastPrice,p.Constant=-1!=[3,4].indexOf(o)?Number(r):Number(a),p.Relative=!1,1==o){if(p.Constant<=0)return void E.a.error(i.a.lang("trade.openError.Constant"))}else if(2==o){if(p.Constant<=0)return void E.a.error(i.a.lang("trade.openError.Constant"));if(1==s&&p.Price<=0)return void E.a.error(i.a.lang("trade.openError.Price"));if(2==s&&(!p.Price||isNaN(p.Price)))return void E.a.error(i.a.lang("trade.openError.PriceDistance"))}else if(3==o){if(!p.Constant||isNaN(p.Constant))return void E.a.error(i.a.lang("trade.openError.Constant"))}else if(4==o){if(!p.Constant||isNaN(p.Constant))return void E.a.error(i.a.lang("trade.openError.Constant"));if(!p.Price||isNaN(p.Price))return void E.a.error(i.a.lang("trade.openError.Price"))}var h=this.refs.delegrateQtyExpireTimePart;if(h){var m=h.val();if(m&&Object.assign(p,m),null===p.TimelyParam)return void E.a.error(i.a.lang("trade.openError.TimelyParam"));if(null===p.Visible)return void E.a.error(i.a.lang("trade.openError.Visible"))}if(t.SL){var g=t.SLorder;u.CID=g.CID,u.ID=g.ID;var v={};for(var y in p)v[y]=p[y];u.Options=v,u.ApiName="futures/setup"}else u.CID=t.CID,u.ID=t.ID,u.Visible=-1,delete p.Relative,Object.assign(u,p),u.ApiName="futures/setsl"}else{var p=this.refs.FutLossProfitPart.val(),b=Object.assign({},t,p),w=d.a.checkFormDataSL(b),C=w.ok,P=w.error;if(C)if(t.SL){var g=t.SLorder;u.CID=g.CID,u.ID=g.ID,u.Options={Constant:p.SL.Param,Relative:p.SL.Distance},u.ApiName="futures/setup"}else Object.assign(u,t),u.SL=p.SL,u.ApiName="futures/replace";else P.forEach(function(e,t){E.a.error(e)})}return u}},{key:"onChangeLossPrice",value:function(e){this.state.triggerPrice!=e&&this.setState({triggerPrice:e})}},{key:"onChangeLossPoint",value:function(e){this.state.triggerPoint!=e&&this.setState({triggerPoint:e})}},{key:"onChangeLoss",value:function(e){if(e!=this.state.loss){var t={loss:e};this._changeLoss(e),2==e?t.delegatePriceType=this.delegatePriceOptions[0]:4==e&&(t.delegatePriceType=this.delegatePriceOptions[0]),Object.assign(t,this.getDefaultValue(this.state.realRow,e)),this.setState(t)}}},{key:"_changeLoss",value:function(e){this.delegatePriceOptions=2==e?[1,2]:4==e?[2]:[]}},{key:"getDefaultValue",value:function(e,t){var n={},a=e.Side==f.a.FUT.Side.BUY?f.a.FUT.Side.SELL:f.a.FUT.Side.BUY,r=e.Product.price.LAST||e.Product.price.MID||e.Price,o=v.a.accMul(d.a.rangeTriggerPricePoint,d.a.getPriceOnePointValue(e.Product.UnitPrice));if(a==f.a.FUT.Side.SELL&&(o*=-1),n.triggerPoint=String(o),n.triggerPrice=String(v.a.accAdd(r,o)),2==t){var i=v.a.accMul(d.a.rangeDelegatePricePoint,d.a.getPriceOnePointValue(e.Product.UnitPrice));a==f.a.FUT.Side.BUY&&(i*=-1),n.delegatePrice=String(v.a.accAdd(n.triggerPrice,i)),n.delegatePoint=String(i)}else{var i=v.a.accMul(d.a.rangeDelegatePricePoint,d.a.getPriceOnePointValue(e.Product.UnitPrice));a==f.a.FUT.Side.BUY&&(i*=-1),n.delegatePrice=String(v.a.accAdd(r,i)),n.delegatePoint=String(i)}return n}},{key:"getTriggerInputValueRange",value:function(e,t){return d.a.getPLInputValueRange("SL",t,e,this.props.row.Product.price.LAST)}},{key:"onChangeDelegatePriceType",value:function(e){this.setState({delegatePriceType:e})}},{key:"onChangeDelegatePrice",value:function(e){this.setState({delegatePrice:e})}},{key:"onChangeDelegatePoint",value:function(e){this.setState({delegatePoint:e})}},{key:"render",value:function(){var e=this,t=this.state,n=t.product,a=t.hasPosition,r=t.realRow,o=t.triggerPrice,s=t.triggerPoint,c=t.loss,u=t.delegatePriceType,m=t.delegatePrice,g=t.delegatePoint,v=r.Volume,b=d.a.getPriceOnePointValue(n.UnitPrice),E=-1!=[2,4].indexOf(Number(c)),w=r.Side==f.a.FUT.Side.BUY?f.a.FUT.Side.SELL:f.a.FUT.Side.BUY,C=2==c&&!isNaN(o)&&!isNaN(m)&&d.a.isShowDQETPart(w,1,o,u,1==u?m:g)||4==c&&!isNaN(s)&&!isNaN(g)&&d.a.isShowDQETPart(w,2,s,u,g),P=-1!=[3,4].indexOf(Number(c)),S=this.props.row,k=this.getTriggerInputValueRange(S.Side,P?1:2);return a?l.a.createElement("div",null,l.a.createElement("div",{className:"mt-10 flex-box flex-end"},l.a.createElement("div",{className:"w-80 mr-10"},i.a.lang("futures.hist_title10")+":"),l.a.createElement(y.b,{className:"w-80 fl",value:c,onChange:this.onChangeLoss.bind(this)},this.lossOptions.map(function(t,n){return l.a.createElement(y.a,{value:t,key:n},i.a.lang(e.lossOptionsMap[t]))})),!P&&l.a.createElement(h.a,{className:"slider-number-box ml-10",value:o,step:Number(n.UnitPrice),min:k[0],max:k[1],onChange:this.onChangeLossPrice.bind(this)}),P&&l.a.createElement(h.a,{className:"slider-number-box ml-10",value:s,step:Number(n.UnitPrice),min:k[0],max:k[1],onChange:this.onChangeLossPoint.bind(this)})),E&&l.a.createElement("div",{className:"mt-10 flex-box flex-end"},l.a.createElement("div",{className:"w-80 mr-10"},i.a.lang("trade.open.delegatePrice")+":"),l.a.createElement(y.b,{className:"w-80 fl",value:u,onChange:this.onChangeDelegatePriceType.bind(this)},this.delegatePriceOptions.map(function(e,t){return l.a.createElement(y.a,{value:e,key:t},i.a.lang("trade.open.delegateOption"+e))})),1==u&&l.a.createElement(h.a,{className:"slider-number-box",value:m,step:Number(n.UnitPrice),min:b,onChange:this.onChangeDelegatePrice.bind(this)}),2==u&&l.a.createElement(h.a,{className:"slider-number-box",value:g,step:Number(n.UnitPrice),min:-1e3*b,onChange:this.onChangeDelegatePoint.bind(this)})),C&&l.a.createElement(p.a,{quickDisable:!0,volume:v,ref:"delegrateQtyExpireTimePart"})):l.a.createElement(p.e,{ref:"FutLossProfitPart",product:n,isMarketPrice:r.Kind==f.a.FUT.Kind.MKT,quickDisable:!0,direction:r.Side,order:r,editMode:"SL"})}}]),t}(c.a),S=function(e){function t(e){a(this,t);var n,o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),i=o.props.row,s=!i.hasOwnProperty("PID")||!!d.a.getPosition(i.PID);i.hasOwnProperty("PID")&&(n=s?d.a.getPosition(i.PID):d.a.getOpenOrder(i.PID));var l=n||o.props.row,c={hasPosition:s,product:d.a.getProductByID(i.CID),realRow:l};if(s){var u=l;if(u.TP){u.TPorder}}return o.state=c,o}return o(t,e),w(t,[{key:"val",value:function(){var e,t={},n=this.state,a=n.hasPosition,r=n.realRow,o=this.refs.FutLossProfitPart,i={};if(o){e=o.val();var s=Object.assign({},r,e),l=d.a.checkFormDataTP(s),c=l.ok,u=l.error;if(!c)return void u.forEach(function(e,t){E.a.error(e)});i.Constant=e.TP.Param,i.Relative=e.TP.Distance}if(a)if(r.TP){var p=r.TPorder;t.CID=p.CID,t.ID=p.ID;var h={};for(var m in i)h[m]=i[m];t.Options=h,t.ApiName="futures/setup"}else t.CID=r.CID,t.ID=r.ID,t.Visible=-1,t.Strategy=f.a.FUT.Strategy.Line,t.Variable=f.a.FUT.Variable.LastPrice,Object.assign(t,i),t.ApiName="futures/settp";else if(r.TP){var p=r.TPorder;t.CID=p.CID,t.ID=p.ID;var h={};for(var m in i)h[m]=i[m];t.Options=h,t.ApiName="futures/setup"}else Object.assign(t,r),t.TP=e.TP,t.ApiName="futures/replace";return t}},{key:"render",value:function(){var e=this.state,t=e.product,n=e.hasPosition,a=e.realRow;a.Volume;return n?l.a.createElement("div",null,l.a.createElement(p.e,{ref:"FutLossProfitPart",product:t,isMarketPrice:a.Kind==f.a.FUT.Kind.MKT,quickDisable:!0,direction:a.Side,order:a,editMode:"TP"})):l.a.createElement(p.e,{ref:"FutLossProfitPart",product:t,isMarketPrice:a.Kind==f.a.FUT.Kind.MKT,quickDisable:!0,direction:a.Side,order:a,editMode:"TP"})}}]),t}(c.a)},566:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),s=n.n(i),l=n(125),c=n.n(l),u=n(187),d=n(567),p=n(329),h=n(568),f=n(570),m=n(571),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),v=(h.a,function(e){function t(e){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.getResolvedState=n.getResolvedState.bind(n),n.getDataModel=n.getDataModel.bind(n),n.getSortedData=n.getSortedData.bind(n),n.fireFetchData=n.fireFetchData.bind(n),n.checkDataEqual=n.checkDataEqual.bind(n),n.getPropOrState=n.getPropOrState.bind(n),n.getStateOrProp=n.getStateOrProp.bind(n),n.filterData=n.filterData.bind(n),n.sortData=n.sortData.bind(n),n.getMinRows=n.getMinRows.bind(n),n.onPageChange=n.onPageChange.bind(n),n.onPageSizeChange=n.onPageSizeChange.bind(n),n.sortColumn=n.sortColumn.bind(n),n.filterColumn=n.filterColumn.bind(n),n.resizeColumnStart=n.resizeColumnStart.bind(n),n.resizeColumnEnd=n.resizeColumnEnd.bind(n),n.resizeColumnMoving=n.resizeColumnMoving.bind(n),n.state={page:0,pageSize:e.defaultPageSize,sorted:e.defaultSorted,expanded:e.defaultExpanded,filtered:e.defaultFiltered,resized:e.defaultResized,currentlyResizing:!1,skipNextSort:!1},n}return o(t,e),g(t,[{key:"tableRowsUpdate",value:function(){this.tblRowsRef&&this.tblRowsRef.forceUpdate()}},{key:"render",value:function(){var e=this,t=this.getResolvedState(),n=t.children,a=t.className,r=t.style,o=t.getProps,i=t.getTableProps,l=t.getTheadGroupProps,d=t.getTheadGroupTrProps,p=t.getTheadGroupThProps,f=t.getTheadProps,g=t.getTheadTrProps,v=t.getTheadThProps,y=t.getTheadFilterProps,b=t.getTheadFilterTrProps,E=t.getTheadFilterThProps,w=t.getTbodyProps,C=(t.getTrGroupProps,t.getTrProps,t.getTdProps,t.getTfootProps),P=t.getTfootTrProps,S=t.getTfootTdProps,k=(t.getPaginationProps,t.getLoadingProps),T=(t.getNoDataProps,t.getResizerProps),D=(t.showPagination,t.showPaginationTop,t.showPaginationBottom,t.manual,t.loadingText),A=(t.noDataText,t.sortable),x=t.multiSort,O=t.resizable,N=t.filterable,_=(t.pivotIDKey,t.pivotValKey,t.pivotBy),M=(t.subRowsKey,t.aggregatedKey,t.originalKey,t.indexKey,t.groupedByPivotKey,t.loading),R=(t.pageSize,t.page,t.sorted),I=t.filtered,L=t.resized,j=(t.expanded,t.pages,t.onExpandedChange,t.TableComponent),B=t.TheadComponent,U=t.TbodyComponent,F=(t.TrGroupComponent,t.TrComponent),z=t.ThComponent,V=t.TdComponent,W=t.TfootComponent,H=(t.PaginationComponent,t.LoadingComponent),K=(t.SubComponent,t.NoDataComponent,t.ResizerComponent),Y=(t.ExpanderComponent,t.PivotValueComponent,t.PivotComponent,t.AggregatedComponent,t.FilterComponent),q=(t.PadRowComponent,t.resolvedData,t.allVisibleColumns),X=t.headerGroups,G=t.hasHeaderGroups,Q=t.sortedData,J=t.currentlyResizing,Z=q.some(function(e){return e.Footer}),$=N||q.some(function(e){return e.filterable}),ee=u.a.sum(q.map(function(e){var t=L.find(function(t){return t.id===e.id})||{};return u.a.getFirstDefined(t.value,e.width,e.minWidth)})),te=Object.assign({},t,{hasColumnFooter:Z,rowMinWidth:ee}),ne=u.a.splitProps(o(te,void 0,void 0,this)),ae=u.a.splitProps(i(te,void 0,void 0,this)),re=u.a.splitProps(w(te,void 0,void 0,this)),oe=k(te,void 0,void 0,this),ie=function(t,n){var a=function(e){return(L.find(function(t){return t.id===e.id})||{}).value},r=u.a.sum(t.columns.map(function(e){return e.width||a(e)?0:e.minWidth})),o=u.a.sum(t.columns.map(function(e){return u.a.getFirstDefined(a(e),e.width,e.minWidth)})),i=u.a.sum(t.columns.map(function(e){return u.a.getFirstDefined(a(e),e.width,e.maxWidth)})),l=u.a.splitProps(p(te,void 0,t,e)),d=u.a.splitProps(t.getHeaderProps(te,void 0,t,e)),h=[t.headerClassName,l.className,d.className],f=Object.assign({},t.headerStyle,l.style,d.style),m=Object.assign({},l.rest,d.rest),g={flex:r+" 0 auto",width:u.a.asPx(o),maxWidth:u.a.asPx(i)};return s.a.createElement(z,Object.assign({key:n+"-"+t.id,className:c()(h),style:Object.assign({},f,g)},m),u.a.normalizeComponent(t.Header,{data:Q,column:t}))},se=function(){var t=u.a.splitProps(l(te,void 0,void 0,e)),n=u.a.splitProps(d(te,void 0,void 0,e));return s.a.createElement(B,Object.assign({className:c()("-headerGroups",t.className),style:Object.assign({},t.style,{minWidth:ee+"px"})},t.rest),s.a.createElement(F,Object.assign({className:n.className,style:n.style},n.rest),X.map(ie)))},le=function(t,n){var a=L.find(function(e){return e.id===t.id})||{},r=R.find(function(e){return e.id===t.id}),o="function"===typeof t.show?t.show():t.show,i=u.a.getFirstDefined(a.value,t.width,t.minWidth),l=u.a.getFirstDefined(a.value,t.width,t.maxWidth),d=u.a.splitProps(v(te,void 0,t,e)),p=u.a.splitProps(t.getHeaderProps(te,void 0,t,e)),h=[t.headerClassName,d.className,p.className],f=Object.assign({},t.headerStyle,d.style,p.style),m=Object.assign({},d.rest,p.rest),g=u.a.getFirstDefined(t.resizable,O,!1),y=g?s.a.createElement(K,Object.assign({onMouseDown:function(n){return e.resizeColumnStart(n,t,!1)},onTouchStart:function(n){return e.resizeColumnStart(n,t,!0)}},T("finalState",void 0,t,e))):null,b=u.a.getFirstDefined(t.sortable,A,!1);return s.a.createElement(z,Object.assign({key:n+"-"+t.id,className:c()(h,g&&"rt-resizable-header",r?r.desc?"-sort-desc":"-sort-asc":"",b&&"-cursor-pointer",!o&&"-hidden",_&&_.slice(0,-1).includes(t.id)&&"rt-header-pivot"),style:Object.assign({},f,{flex:i+" 0 auto",width:u.a.asPx(i),maxWidth:u.a.asPx(l)}),toggleSort:function(n){b&&e.sortColumn(t,!!x&&n.shiftKey)}},m),s.a.createElement("div",{className:c()(g&&"rt-resizable-header-content")},u.a.normalizeComponent(t.Header,{data:Q,column:t})),y)},ce=function(){var t=u.a.splitProps(f(te,void 0,void 0,e)),n=u.a.splitProps(g(te,void 0,void 0,e));return s.a.createElement(B,Object.assign({className:c()("-header",t.className),style:Object.assign({},t.style,{minWidth:ee+"px"})},t.rest),s.a.createElement(F,Object.assign({className:n.className,style:n.style},n.rest),q.map(le)))},ue=function(t,n){var a=L.find(function(e){return e.id===t.id})||{},r=u.a.getFirstDefined(a.value,t.width,t.minWidth),o=u.a.getFirstDefined(a.value,t.width,t.maxWidth),i=u.a.splitProps(E(te,void 0,t,e)),l=u.a.splitProps(t.getHeaderProps(te,void 0,t,e)),d=[t.headerClassName,i.className,l.className],p=Object.assign({},t.headerStyle,i.style,l.style),f=Object.assign({},i.rest,l.rest),m=I.find(function(e){return e.id===t.id}),g=t.Filter||Y,v=u.a.getFirstDefined(t.filterable,N,!1);return s.a.createElement(z,Object.assign({key:n+"-"+t.id,className:c()(d),style:Object.assign({},p,{flex:r+" 0 auto",width:u.a.asPx(r),maxWidth:u.a.asPx(o)})},f),v?u.a.normalizeComponent(g,{column:t,filter:m,onChange:function(n){return e.filterColumn(t,n)}},h.a.column.Filter):null)},de=function(){var t=u.a.splitProps(y(te,void 0,void 0,e)),n=u.a.splitProps(b(te,void 0,void 0,e));return s.a.createElement(B,Object.assign({className:c()("-filters",t.className),style:Object.assign({},t.style,{minWidth:ee+"px"})},t.rest),s.a.createElement(F,Object.assign({className:n.className,style:n.style},n.rest),q.map(ue)))},pe=function(t,n){var a=L.find(function(e){return e.id===t.id})||{},r="function"===typeof t.show?t.show():t.show,o=u.a.getFirstDefined(a.value,t.width,t.minWidth),i=u.a.getFirstDefined(a.value,t.width,t.maxWidth),l=u.a.splitProps(S(te,void 0,void 0,e)),d=u.a.splitProps(t.getProps(te,void 0,t,e)),p=u.a.splitProps(t.getFooterProps(te,void 0,t,e)),h=[l.className,t.className,d.className,p.className],f=Object.assign({},l.style,t.style,d.style,p.style);return s.a.createElement(V,Object.assign({key:n+"-"+t.id,className:c()(h,!r&&"hidden"),style:Object.assign({},f,{flex:o+" 0 auto",width:u.a.asPx(o),maxWidth:u.a.asPx(i)})},d.rest,l.rest,p.rest),u.a.normalizeComponent(t.Footer,{data:Q,column:t}))},he=function(){var t=C(te,void 0,void 0,e),n=u.a.splitProps(P(te,void 0,void 0,e));return s.a.createElement(W,Object.assign({className:t.className,style:Object.assign({},t.style,{minWidth:ee+"px"})},t.rest),s.a.createElement(F,Object.assign({className:c()(n.className),style:n.style},n.rest),q.map(pe)))},fe=function(){return s.a.createElement("div",Object.assign({className:c()("ReactTable",a,ne.className),style:Object.assign({},r,ne.style)},ne.rest),s.a.createElement(j,Object.assign({className:c()(ae.className,J?"rt-resizing":""),style:ae.style},ae.rest),G?se():null,ce(),$?de():null,s.a.createElement(U,Object.assign({className:c()(re.className),style:Object.assign({},re.style,{minWidth:ee+"px"})},re.rest),s.a.createElement(m.a,Object.assign({},t,{ref:function(t){return e.tblRowsRef=t}}))),Z?he():null),s.a.createElement(H,Object.assign({loading:M,loadingText:D},oe)))};return n?n(te,fe,this):fe()}}]),t}(Object(p.a)(Object(d.a)(i.Component))));v.propTypes=f.a,v.defaultProps=h.a,t.a=v},567:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.a=function(e){return function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),i(t,[{key:"componentWillMount",value:function(){this.setStateWithData(this.getDataModel(this.getResolvedState()))}},{key:"componentDidMount",value:function(){this.fireFetchData()}},{key:"componentWillReceiveProps",value:function(e,t){var n=this.getResolvedState(),a=this.getResolvedState(e,t);["sorted","filtered","resized","expanded"].forEach(function(e){var t="default"+(e.charAt(0).toUpperCase()+e.slice(1));JSON.stringify(n[t])!==JSON.stringify(a[t])&&(a[e]=a[t])}),["sortable","filterable","resizable"].forEach(function(e){if(n[e]!==a[e]){var t=e.replace("able",""),r=t+"ed",o="default"+(r.charAt(0).toUpperCase()+r.slice(1));a[r]=a[o]}}),this.isPropsUpdate=!0,this.isChange(a,n)?this.setStateWithData(this.getDataModel(a)):this.isSameTabUpdate(a,n)&&this.tblRowsRef&&this.tblRowsRef.changeState(a)}},{key:"isChange",value:function(e,t){return t.data!==e.data||t.tabIndex!=e.tabIndex||t.columns!==e.columns||t.pivotBy!==e.pivotBy||t.sorted!==e.sorted||t.filtered!==e.filtered}},{key:"isSameTabUpdate",value:function(e,t){return"-1"!=e.tabIndex&&e.tabIndex==t.tabIndex&&!this.checkDataEqual(e,t)}},{key:"shouldComponentUpdate",value:function(e,t){return!(this.isPropsUpdate&&(this.isPropsUpdate=!1,!this.isChange(e,this.props)&&this.isSameTabUpdate(e,this.props)))}}]),t}(e)}},568:function(e,t,n){"use strict";function a(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}var r=n(0),o=n.n(r),i=n(125),s=n.n(i),l=n(187),c=n(569),u=function(){return{}};t.a={data:[],loading:!1,showPagination:!0,showPaginationTop:!1,showPaginationBottom:!0,showPageSizeOptions:!0,pageSizeOptions:[5,10,20,25,50,100],defaultPageSize:20,showPageJump:!0,collapseOnSortingChange:!0,collapseOnPageChange:!0,collapseOnDataChange:!0,freezeWhenExpanded:!1,sortable:!0,multiSort:!0,resizable:!0,filterable:!1,defaultSortDesc:!1,defaultSorted:[],defaultFiltered:[],defaultResized:[],defaultExpanded:{},defaultFilterMethod:function(e,t,n){var a=e.pivotId||e.id;return void 0===t[a]||String(t[a]).startsWith(e.value)},defaultSortMethod:function(e,t,n){return e=null===e||void 0===e?"":e,t=null===t||void 0===t?"":t,e="string"===typeof e?e.toLowerCase():e,t="string"===typeof t?t.toLowerCase():t,e>t?1:e<t?-1:0},onPageChange:void 0,onPageSizeChange:void 0,onSortedChange:void 0,onFilteredChange:void 0,onResizedChange:void 0,onExpandedChange:void 0,pivotBy:void 0,tabIndex:"-1",pivotValKey:"_pivotVal",pivotIDKey:"_pivotID",subRowsKey:"_subRows",aggregatedKey:"_aggregated",nestingLevelKey:"_nestingLevel",originalKey:"_original",indexKey:"_index",groupedByPivotKey:"_groupedByPivot",onFetchData:function(){return null},equalData:function(e,t){return null},className:"",style:{},getProps:u,getTableProps:u,getTheadGroupProps:u,getTheadGroupTrProps:u,getTheadGroupThProps:u,getTheadProps:u,getTheadTrProps:u,getTheadThProps:u,getTheadFilterProps:u,getTheadFilterTrProps:u,getTheadFilterThProps:u,getTbodyProps:u,getTrGroupProps:u,getTrProps:u,getTdProps:u,getTfootProps:u,getTfootTrProps:u,getTfootTdProps:u,getPaginationProps:u,getLoadingProps:u,getNoDataProps:u,getResizerProps:u,column:{Cell:void 0,Header:void 0,Footer:void 0,Aggregated:void 0,Pivot:void 0,PivotValue:void 0,Expander:void 0,Filter:void 0,sortable:void 0,resizable:void 0,filterable:void 0,show:!0,minWidth:100,className:"",style:{},getProps:u,aggregate:void 0,headerClassName:"",headerStyle:{},getHeaderProps:u,footerClassName:"",footerStyle:{},getFooterProps:u,filterMethod:void 0,filterAll:!1,sortMethod:void 0},expanderDefaults:{sortable:!1,resizable:!1,filterable:!1,width:35},pivotDefaults:{},previousText:"Previous",nextText:"Next",loadingText:"Loading...",noDataText:"No rows found",pageText:"Page",ofText:"of",rowsText:"rows",TableComponent:function(e){var t=e.children,n=e.className,r=a(e,["children","className"]);return o.a.createElement("div",Object.assign({className:s()("rt-table",n),role:"grid"},r),t)},TheadComponent:l.a.makeTemplateComponent("rt-thead","Thead"),TbodyComponent:l.a.makeTemplateComponent("rt-tbody","Tbody"),TrGroupComponent:function(e){var t=e.children,n=e.className,r=a(e,["children","className"]);return o.a.createElement("div",Object.assign({className:s()("rt-tr-group",n),role:"rowgroup"},r),t)},TrComponent:function(e){var t=e.children,n=e.className,r=a(e,["children","className"]);return o.a.createElement("div",Object.assign({className:s()("rt-tr",n),role:"row"},r),t)},ThComponent:function(e){var t=e.toggleSort,n=e.className,r=e.children,i=a(e,["toggleSort","className","children"]);return o.a.createElement("div",Object.assign({className:s()("rt-th",n),onClick:function(e){return t&&t(e)},role:"columnheader",tabIndex:"-1"},i),r)},TdComponent:function(e){var t=(e.toggleSort,e.className),n=e.children,r=a(e,["toggleSort","className","children"]);return o.a.createElement("div",Object.assign({className:s()("rt-td",t),role:"gridcell"},r),n)},TfootComponent:l.a.makeTemplateComponent("rt-tfoot","Tfoot"),FilterComponent:function(e){var t=e.filter,n=e.onChange;return o.a.createElement("input",{type:"text",style:{width:"100%"},value:t?t.value:"",onChange:function(e){return n(e.target.value)}})},ExpanderComponent:function(e){var t=e.isExpanded;return o.a.createElement("div",{className:s()("rt-expander",t&&"-open")},"\u2022")},PivotValueComponent:function(e){var t=e.subRows,n=e.value;return o.a.createElement("span",null,n," ",t&&"("+t.length+")")},AggregatedComponent:function(e){var t=e.subRows,n=e.column,a=t.filter(function(e){return"undefined"!==typeof e[n.id]}).map(function(e,a){return o.a.createElement("span",{key:a},e[n.id],a<t.length-1?", ":"")});return o.a.createElement("span",null,a)},PivotComponent:void 0,PaginationComponent:c.a,PreviousComponent:void 0,NextComponent:void 0,LoadingComponent:function(e){var t=e.className,n=e.loading,r=e.loadingText,i=a(e,["className","loading","loadingText"]);return o.a.createElement("div",Object.assign({className:s()("-loading",{"-active":n},t)},i),o.a.createElement("div",{className:"-loading-inner"},r))},NoDataComponent:l.a.makeTemplateComponent("rt-noData","NoData"),ResizerComponent:l.a.makeTemplateComponent("rt-resizer","Resizer"),PadRowComponent:function(){return o.a.createElement("span",null,"\xa0")}}},569:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),s=n.n(i),l=n(125),c=n.n(l),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),d=function(e){return s.a.createElement("button",Object.assign({type:"button"},e,{className:"-btn"}),e.children)},p=function(e){function t(e){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.getSafePage=n.getSafePage.bind(n),n.changePage=n.changePage.bind(n),n.applyPage=n.applyPage.bind(n),n.state={page:e.page},n}return o(t,e),u(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({page:e.page})}},{key:"getSafePage",value:function(e){return isNaN(e)&&(e=this.props.page),Math.min(Math.max(e,0),this.props.pages-1)}},{key:"changePage",value:function(e){e=this.getSafePage(e),this.setState({page:e}),this.props.page!==e&&this.props.onPageChange(e)}},{key:"applyPage",value:function(e){e&&e.preventDefault();var t=this.state.page;this.changePage(""===t?this.props.page:t)}},{key:"render",value:function(){var e=this,t=this.props,n=t.pages,a=t.page,r=t.showPageSizeOptions,o=t.pageSizeOptions,i=t.pageSize,l=t.showPageJump,u=t.canPrevious,p=t.canNext,h=t.onPageSizeChange,f=t.className,m=t.PreviousComponent,g=void 0===m?d:m,v=t.NextComponent,y=void 0===v?d:v;return s.a.createElement("div",{className:c()(f,"-pagination"),style:this.props.style},s.a.createElement("div",{className:"-previous"},s.a.createElement(g,{onClick:function(){u&&e.changePage(a-1)},disabled:!u},this.props.previousText)),s.a.createElement("div",{className:"-center"},s.a.createElement("span",{className:"-pageInfo"},this.props.pageText," ",l?s.a.createElement("div",{className:"-pageJump"},s.a.createElement("input",{type:""===this.state.page?"text":"number",onChange:function(t){var n=t.target.value,a=n-1;if(""===n)return e.setState({page:n});e.setState({page:e.getSafePage(a)})},value:""===this.state.page?"":this.state.page+1,onBlur:this.applyPage,onKeyPress:function(t){13!==t.which&&13!==t.keyCode||e.applyPage()}})):s.a.createElement("span",{className:"-currentPage"},a+1)," ",this.props.ofText," ",s.a.createElement("span",{className:"-totalPages"},n||1)),r&&s.a.createElement("span",{className:"select-wrap -pageSizeOptions"},s.a.createElement("select",{onChange:function(e){return h(Number(e.target.value))},value:i},o.map(function(t,n){return s.a.createElement("option",{key:n,value:t},t," ",e.props.rowsText)})))),s.a.createElement("div",{className:"-next"},s.a.createElement(y,{onClick:function(){p&&e.changePage(a+1)},disabled:!p},this.props.nextText)))}}]),t}(i.Component);t.a=p},570:function(e,t,n){"use strict";var a=n(14),r=n.n(a);t.a={data:r.a.array,loading:r.a.bool,showPagination:r.a.bool,showPaginationTop:r.a.bool,showPaginationBottom:r.a.bool,showPageSizeOptions:r.a.bool,pageSizeOptions:r.a.array,defaultPageSize:r.a.number,showPageJump:r.a.bool,collapseOnSortingChange:r.a.bool,collapseOnPageChange:r.a.bool,collapseOnDataChange:r.a.bool,freezeWhenExpanded:r.a.bool,sortable:r.a.bool,resizable:r.a.bool,filterable:r.a.bool,defaultSortDesc:r.a.bool,defaultSorted:r.a.array,defaultFiltered:r.a.array,defaultResized:r.a.array,defaultExpanded:r.a.object,defaultFilterMethod:r.a.func,defaultSortMethod:r.a.func,tabIndex:r.a.string,onPageChange:r.a.func,onPageSizeChange:r.a.func,onSortedChange:r.a.func,onFilteredChange:r.a.func,onResizedChange:r.a.func,onExpandedChange:r.a.func,pivotBy:r.a.array,pivotValKey:r.a.string,pivotIDKey:r.a.string,subRowsKey:r.a.string,aggregatedKey:r.a.string,nestingLevelKey:r.a.string,originalKey:r.a.string,indexKey:r.a.string,groupedByPivotKey:r.a.string,onFetchData:r.a.func,equalData:r.a.func,className:r.a.string,style:r.a.object,getProps:r.a.func,getTableProps:r.a.func,getTheadGroupProps:r.a.func,getTheadGroupTrProps:r.a.func,getTheadGroupThProps:r.a.func,getTheadProps:r.a.func,getTheadTrProps:r.a.func,getTheadThProps:r.a.func,getTheadFilterProps:r.a.func,getTheadFilterTrProps:r.a.func,getTheadFilterThProps:r.a.func,getTbodyProps:r.a.func,getTrGroupProps:r.a.func,getTrProps:r.a.func,getTdProps:r.a.func,getTfootProps:r.a.func,getTfootTrProps:r.a.func,getTfootTdProps:r.a.func,getPaginationProps:r.a.func,getLoadingProps:r.a.func,getNoDataProps:r.a.func,getResizerProps:r.a.func,columns:r.a.arrayOf(r.a.shape({Cell:r.a.oneOfType([r.a.element,r.a.string,r.a.func]),Header:r.a.oneOfType([r.a.element,r.a.string,r.a.func]),Footer:r.a.oneOfType([r.a.element,r.a.string,r.a.func]),Aggregated:r.a.oneOfType([r.a.element,r.a.string,r.a.func]),Pivot:r.a.oneOfType([r.a.element,r.a.string,r.a.func]),PivotValue:r.a.oneOfType([r.a.element,r.a.string,r.a.func]),Expander:r.a.oneOfType([r.a.element,r.a.string,r.a.func]),Filter:r.a.oneOfType([r.a.element,r.a.func]),sortable:r.a.bool,resizable:r.a.bool,filterable:r.a.bool,show:r.a.bool,minWidth:r.a.number,className:r.a.string,style:r.a.object,getProps:r.a.func,aggregate:r.a.func,headerClassName:r.a.string,headerStyle:r.a.object,getHeaderProps:r.a.func,footerClassName:r.a.string,footerStyle:r.a.object,getFooterProps:r.a.object,filterMethod:r.a.func,filterAll:r.a.bool,sortMethod:r.a.func})),expanderDefaults:r.a.shape({sortable:r.a.bool,resizable:r.a.bool,filterable:r.a.bool,width:r.a.number}),pivotDefaults:r.a.object,previousText:r.a.node,nextText:r.a.node,loadingText:r.a.node,noDataText:r.a.node,pageText:r.a.node,ofText:r.a.node,rowsText:r.a.node,TableComponent:r.a.oneOfType([r.a.func,r.a.element]),TheadComponent:r.a.oneOfType([r.a.func,r.a.element]),TbodyComponent:r.a.oneOfType([r.a.func,r.a.element]),TrGroupComponent:r.a.oneOfType([r.a.func,r.a.element]),TrComponent:r.a.oneOfType([r.a.func,r.a.element]),ThComponent:r.a.oneOfType([r.a.func,r.a.element]),TdComponent:r.a.oneOfType([r.a.func,r.a.element]),TfootComponent:r.a.oneOfType([r.a.func,r.a.element]),FilterComponent:r.a.oneOfType([r.a.func,r.a.element]),ExpanderComponent:r.a.oneOfType([r.a.func,r.a.element]),PivotValueComponent:r.a.oneOfType([r.a.func,r.a.element]),AggregatedComponent:r.a.oneOfType([r.a.func,r.a.element]),PivotComponent:r.a.oneOfType([r.a.func,r.a.element]),PaginationComponent:r.a.oneOfType([r.a.func,r.a.element]),PreviousComponent:r.a.oneOfType([r.a.func,r.a.element]),NextComponent:r.a.oneOfType([r.a.func,r.a.element]),LoadingComponent:r.a.oneOfType([r.a.func,r.a.element]),NoDataComponent:r.a.oneOfType([r.a.func,r.a.element]),ResizerComponent:r.a.oneOfType([r.a.func,r.a.element]),PadRowComponent:r.a.oneOfType([r.a.func,r.a.element])}},571:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),s=n.n(i),l=n(125),c=n.n(l),u=n(329),d=n(187),p=function(){function e(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(a=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{!a&&s.return&&s.return()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),f=function(e){function t(e){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state=Object.assign({},n.props),n}return o(t,e),h(t,[{key:"componentWillReceiveProps",value:function(e){this.setState(e)}},{key:"changeState",value:function(e){this.setStateWithData(this.getDataModel(e,!0))}},{key:"render",value:function(){var e=this,t=this.state,n=t.getTrGroupProps,a=t.getTrProps,r=t.getTdProps,o=t.getPaginationProps,i=t.getNoDataProps,l=t.showPagination,u=t.showPaginationTop,h=t.showPaginationBottom,f=t.manual,m=t.noDataText,g=t.pivotIDKey,v=t.pivotValKey,y=t.pivotBy,b=t.subRowsKey,E=t.aggregatedKey,w=t.originalKey,C=t.indexKey,P=t.groupedByPivotKey,S=t.pageSize,k=t.page,T=t.resized,D=t.expanded,A=t.pages,x=t.onExpandedChange,O=t.TrGroupComponent,N=t.TrComponent,_=t.TdComponent,M=t.PaginationComponent,R=t.SubComponent,I=t.NoDataComponent,L=t.ExpanderComponent,j=t.PivotValueComponent,B=t.PivotComponent,U=t.AggregatedComponent,F=t.PadRowComponent,z=t.resolvedData,V=t.allVisibleColumns,W=t.sortedData,H=S*k,K=H+S,Y=f?z:W.slice(H,K),q=this.getMinRows(),X=d.a.range(Math.max(q-Y.length,0)),G=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;return[t.map(function(t,r){a+=1;var o=Object.assign({},t,{_viewIndex:a}),i=n.concat([r]);if(o[b]&&d.a.get(D,i)){var s=e(o[b],i,a),l=p(s,2);o[b]=l[0],a=l[1]}return o}),a]}(Y),Q=p(G,1);Y=Q[0];var J=k>0,Z=k+1<A,$=d.a.sum(V.map(function(e){var t=T.find(function(t){return t.id===e.id})||{};return d.a.getFirstDefined(t.value,e.width,e.minWidth)})),ee=-1,te=Object.assign({},t,{startRow:H,endRow:K,pageRows:Y,minRows:q,padRows:X,canPrevious:J,canNext:Z,rowMinWidth:$}),ne=i(te,void 0,void 0,this),ae=function t(o,i){var l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],u={original:o[w],row:o,index:o[C],viewIndex:ee+=1,pageSize:S,page:k,level:l.length,nestingPath:l.concat([i]),aggregated:o[E],groupedByPivot:o[P],subRows:o[b]},p=d.a.get(D,u.nestingPath),h=n(te,u,void 0,e),f=d.a.splitProps(a(te,u,void 0,e));return s.a.createElement(O,Object.assign({key:u.nestingPath.join("_")},h),s.a.createElement(N,Object.assign({className:c()(f.className,o._viewIndex%2?"-even":"-odd"),style:f.style},f.rest),V.map(function(t,n){var a=T.find(function(e){return e.id===t.id})||{},i="function"===typeof t.show?t.show():t.show,l=d.a.getFirstDefined(a.value,t.width,t.minWidth),h=d.a.getFirstDefined(a.value,t.width,t.maxWidth),f=d.a.splitProps(r(te,u,t,e)),m=d.a.splitProps(t.getProps(te,u,t,e)),b=[f.className,t.className,m.className],E=Object.assign({},f.style,t.style,m.style),w=Object.assign({},u,{isExpanded:p,column:Object.assign({},t),value:u.row[t.id],pivoted:t.pivoted,expander:t.expander,resized:T,show:i,width:l,maxWidth:h,tdProps:f,columnProps:m,classes:b,styles:E}),C=w.value,P=void 0,S=void 0,k=void 0,A=function(t){var n=d.a.clone(D);return n=p?d.a.set(n,w.nestingPath,!1):d.a.set(n,w.nestingPath,{}),e.setStateWithData({expanded:n},function(){return x&&x(n,w.nestingPath,t)})},O=d.a.normalizeComponent(t.Cell,w,C),N=t.Aggregated||(t.aggregate?t.Cell:U),M=t.Expander||L,I=t.PivotValue||j,F=B||function(e){return s.a.createElement("div",null,s.a.createElement(M,e),s.a.createElement(I,e))},z=t.Pivot||F;(w.pivoted||w.expander)&&(w.expandable=!0,P=!0,!w.pivoted||w.subRows||R||(w.expandable=!1)),w.pivoted?(S=u.row[g]===t.id&&w.subRows,k=y.indexOf(t.id)>y.indexOf(u.row[g])&&w.subRows,O=S?d.a.normalizeComponent(z,Object.assign({},w,{value:o[v]}),o[v]):k?d.a.normalizeComponent(N,w,C):null):w.aggregated&&(O=d.a.normalizeComponent(N,w,C)),w.expander&&(O=d.a.normalizeComponent(M,w,o[v]),y&&(w.groupedByPivot&&(O=null),w.subRows||R||(O=null)));var V=P?A:function(){},W={onClick:V};return f.rest.onClick&&(W.onClick=function(e){f.rest.onClick(e,function(){return V(e)})}),m.rest.onClick&&(W.onClick=function(e){m.rest.onClick(e,function(){return V(e)})}),s.a.createElement(_,Object.assign({key:n+"-"+t.id,className:c()(b,!i&&"hidden",w.expandable&&"rt-expandable",(S||k)&&"rt-pivot"),style:Object.assign({},E,{flex:l+" 0 auto",width:d.a.asPx(l),maxWidth:d.a.asPx(h)})},f.rest,m.rest,W),O)})),u.subRows&&p&&u.subRows.map(function(e,n){return t(e,n,u.nestingPath)}),R&&!u.subRows&&p&&R(u))},re=function(t,n){var a=T.find(function(e){return e.id===t.id})||{},o="function"===typeof t.show?t.show():t.show,i=d.a.getFirstDefined(a.value,t.width,t.minWidth),l=i,u=d.a.getFirstDefined(a.value,t.width,t.maxWidth),p=d.a.splitProps(r(te,void 0,t,e)),h=d.a.splitProps(t.getProps(te,void 0,t,e)),f=[p.className,t.className,h.className],m=Object.assign({},p.style,t.style,h.style);return s.a.createElement(_,Object.assign({key:n+"-"+t.id,className:c()(f,!o&&"hidden"),style:Object.assign({},m,{flex:l+" 0 auto",width:d.a.asPx(i),maxWidth:d.a.asPx(u)})},p.rest),d.a.normalizeComponent(F))},oe=function(t,r){var o=n(te,void 0,void 0,e),i=d.a.splitProps(a(te,void 0,void 0,e));return s.a.createElement(O,Object.assign({key:r},o),s.a.createElement(N,{className:c()("-padRow",(Y.length+r)%2?"-even":"-odd",i.className),style:i.style||{}},V.map(re)))},ie=function(){var n=d.a.splitProps(o(te,void 0,void 0,e));return s.a.createElement(M,Object.assign({},t,{pages:A,canPrevious:J,canNext:Z,onPageChange:e.onPageChange,onPageSizeChange:e.onPageSizeChange,className:n.className,style:n.style},n.rest))}();return s.a.createElement("div",null,l&&u?s.a.createElement("div",{className:"pagination-top"},ie):null,Y.map(function(e,t){return ae(e,t)}),X.map(oe),!Y.length&&s.a.createElement(I,ne,d.a.normalizeComponent(m)),l&&h?s.a.createElement("div",{className:"pagination-bottom"},ie):null)}}]),t}(Object(u.a)(i.Component));t.a=f},572:function(e,t,n){var a=n(573);"string"===typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0};r.transform=void 0,r.insertInto=void 0;n(77)(a,r);a.locals&&(e.exports=a.locals)},573:function(e,t,n){t=e.exports=n(76)(!0),t.push([e.i,'.ReactTable{position:relative;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.ReactTable *{-webkit-box-sizing:border-box;box-sizing:border-box}.ReactTable .rt-table{-ms-flex:auto 1;flex:auto 1;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:stretch;align-items:stretch;width:100%;border-collapse:collapse;overflow:auto}.ReactTable .rt-thead{-ms-flex:1 0 auto;flex:1 0 auto;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.ReactTable .rt-thead.-headerGroups{background:rgba(0,0,0,.03)}.ReactTable .rt-thead.-filters input,.ReactTable .rt-thead.-filters select{background:#fff;padding:5px 7px;font-size:inherit;border-radius:3px;font-weight:400;outline:none}.ReactTable .rt-thead .rt-tr{text-align:center}.ReactTable .rt-thead .rt-td,.ReactTable .rt-thead .rt-th{line-height:normal;position:relative}.ReactTable .rt-thead .rt-td.-cursor-pointer,.ReactTable .rt-thead .rt-th.-cursor-pointer{cursor:pointer}.ReactTable .rt-thead .rt-td:last-child,.ReactTable .rt-thead .rt-th:last-child{border-right:0}.ReactTable .rt-thead .rt-resizable-header{overflow:visible}.ReactTable .rt-thead .rt-resizable-header:last-child{overflow:hidden}.ReactTable .rt-thead .rt-resizable-header-content{overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis}.ReactTable .rt-thead .rt-header-pivot{border-right-color:#f7f7f7}.ReactTable .rt-thead .rt-header-pivot:after,.ReactTable .rt-thead .rt-header-pivot:before{left:100%;top:50%;border:solid transparent;content:" ";height:0;width:0;position:absolute;pointer-events:none}.ReactTable .rt-thead .rt-header-pivot:after{border-color:hsla(0,0%,100%,0);border-left-color:#fff;border-width:8px;margin-top:-8px}.ReactTable .rt-thead .rt-header-pivot:before{border-color:hsla(0,0%,40%,0);border-left-color:#f7f7f7;border-width:10px;margin-top:-10px}\n/*!*border-bottom: solid 1px rgba(0, 0, 0, 0.05);*!*/\n/*!*border-bottom: 1px solid #555 !important;*!*/\n/*!*border-right: 1px solid rgba(0, 0, 0, 0.02);*!*/\n/*!*border-right: 0*!*/.ReactTable .rt-tr-group{-ms-flex:0 0 auto;flex:0 0 auto;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:stretch;align-items:stretch}.ReactTable .rt-tr{-ms-flex:1 0 auto;flex:1 0 auto;display:-ms-inline-flexbox;display:inline-flex}.ReactTable .rt-td,.ReactTable .rt-th{-ms-flex:1 0 0px;flex:1 0;white-space:nowrap;-o-text-overflow:ellipsis;text-overflow:ellipsis;overflow:hidden;-webkit-transition:.3s ease;-o-transition:.3s ease;transition:.3s ease;-webkit-transition-property:width,min-width,padding,opacity;-o-transition-property:width,min-width,padding,opacity;transition-property:width,min-width,padding,opacity}.ReactTable .rt-td.-hidden,.ReactTable .rt-th.-hidden{width:0!important;min-width:0!important;padding:0!important;border:0!important;opacity:0!important}.ReactTable .rt-expander{display:inline-block;position:relative;margin:0;color:transparent;margin:0 10px}.ReactTable .rt-expander:after{content:"";position:absolute;width:0;height:0;top:50%;left:50%;-webkit-transform:translate(-50%,-50%) rotate(-90deg);-ms-transform:translate(-50%,-50%) rotate(-90deg);transform:translate(-50%,-50%) rotate(-90deg);border-left:5.04px solid transparent;border-right:5.04px solid transparent;border-top:7px solid rgba(0,0,0,.8);-webkit-transition:all .3s cubic-bezier(.175,.885,.32,1.275);-o-transition:all .3s cubic-bezier(.175,.885,.32,1.275);transition:all .3s cubic-bezier(.175,.885,.32,1.275);cursor:pointer}.ReactTable .rt-expander.-open:after{-webkit-transform:translate(-50%,-50%) rotate(0);-ms-transform:translate(-50%,-50%) rotate(0);transform:translate(-50%,-50%) rotate(0)}.ReactTable .rt-resizer{display:inline-block;position:absolute;width:3px;top:0;bottom:0;right:0;cursor:col-resize;z-index:10}\n/*!*box-shadow: 0 0 15px 0 rgba(0, 0, 0, 0.15);*!*/.ReactTable .rt-tfoot .rt-td:last-child{border-right:0}\n/*!*box-shadow: 0 0 15px 0 rgba(0, 0, 0, 0.1);*!*/.ReactTable .rt-noData{display:block;width:100%;z-index:1;pointer-events:none}.ReactTable .-loading{display:block;position:absolute;left:0;right:0;top:0;bottom:0;background:hsla(0,0%,100%,.8);-webkit-transition:all .3s ease;-o-transition:all .3s ease;transition:all .3s ease;z-index:-1;opacity:0;pointer-events:none}.ReactTable .-loading>div{position:absolute;display:block;text-align:center;width:100%;top:50%;left:0;font-size:15px;color:rgba(0,0,0,.6);-webkit-transform:translateY(-52%);-ms-transform:translateY(-52%);transform:translateY(-52%);-webkit-transition:all .3s cubic-bezier(.25,.46,.45,.94);-o-transition:all .3s cubic-bezier(.25,.46,.45,.94);transition:all .3s cubic-bezier(.25,.46,.45,.94)}.ReactTable .-loading.-active{opacity:1;z-index:2;pointer-events:all}.ReactTable .-loading.-active>div{-webkit-transform:translateY(50%);-ms-transform:translateY(50%);transform:translateY(50%)}.ReactTable .rt-resizable-header,.ReactTable .rt-resizable-header-content,.ReactTable .rt-resizing .rt-td,.ReactTable .rt-resizing .rt-th{-webkit-transition:none!important;-o-transition:none!important;transition:none!important;cursor:col-resize}.ReactTable .rt-resizable-header-content{padding-right:5px;cursor:auto}',"",{version:3,sources:["D:/Project/webclient/web_okk/src/css/react-table.css"],names:[],mappings:"AAAA,YACE,kBAAmB,AACnB,oBAAqB,AACrB,aAAc,AACd,0BAA2B,AAC3B,qBAAuB,CAExB,AACD,cACE,8BAA+B,AACvB,qBAAuB,CAChC,AACD,sBACE,gBAAiB,AACjB,YAAa,AACb,oBAAqB,AACrB,aAAc,AACd,0BAA2B,AAC3B,sBAAuB,AACvB,uBAAwB,AACxB,oBAAqB,AACrB,WAAY,AACZ,yBAA0B,AAC1B,aAAe,CAChB,AACD,sBACE,kBAAmB,AACnB,cAAe,AACf,oBAAqB,AACrB,aAAc,AACd,0BAA2B,AAC3B,qBAAuB,CAKxB,AACD,oCACE,0BAAgC,CAEjC,AAID,2EAGE,gBAAiB,AACjB,gBAAiB,AACjB,kBAAmB,AACnB,kBAAmB,AACnB,gBAAoB,AACpB,YAAc,CACf,AAQD,6BACE,iBAAmB,CACpB,AACD,0DAGE,mBAAoB,AACpB,iBAAmB,CAIpB,AASD,0FAEE,cAAgB,CACjB,AACD,gFAEE,cAAgB,CACjB,AACD,2CACE,gBAAkB,CACnB,AACD,sDACE,eAAiB,CAClB,AACD,mDACE,gBAAiB,AACjB,0BAA2B,AACxB,sBAAwB,CAC5B,AACD,uCACE,0BAA4B,CAC7B,AACD,2FAEE,UAAW,AACX,QAAS,AACT,yBAA0B,AAC1B,YAAa,AACb,SAAU,AACV,QAAS,AACT,kBAAmB,AACnB,mBAAqB,CACtB,AACD,6CACE,+BAAqC,AACrC,uBAAwB,AACxB,iBAAkB,AAClB,eAAiB,CAClB,AACD,8CACE,8BAAqC,AACrC,0BAA2B,AAC3B,kBAAmB,AACnB,gBAAkB,CACnB;AAeD,qDAAqD;AACrD,iDAAiD;AAMjD,oDAAoD;AAGpD,uBAAuB,AAKvB,yBACE,kBAAmB,AACnB,cAAe,AACf,oBAAqB,AACrB,aAAc,AACd,0BAA2B,AAC3B,sBAAuB,AACvB,uBAAwB,AACxB,mBAAqB,CACtB,AACD,mBACE,kBAAmB,AACnB,cAAe,AACf,2BAA4B,AAC5B,mBAAqB,CACtB,AACD,sCAEE,iBAAkB,AAClB,SAAU,AACV,mBAAoB,AACpB,0BAA2B,AACxB,uBAAwB,AAE3B,gBAAiB,AACjB,4BAA8B,AAC9B,uBAAyB,AACzB,oBAAsB,AACtB,4DAAgE,AAChE,uDAA2D,AAC3D,mDAAwD,CACzD,AAMD,sDAEE,kBAAoB,AACpB,sBAAwB,AACxB,oBAAsB,AACtB,mBAAqB,AACrB,mBAAsB,CACvB,AACD,yBACE,qBAAsB,AACtB,kBAAmB,AACnB,SAAU,AACV,kBAAmB,AACnB,aAAe,CAChB,AACD,+BACE,WAAY,AACZ,kBAAmB,AACnB,QAAS,AACT,SAAU,AACV,QAAS,AACT,SAAU,AACV,sDAAwD,AACxD,kDAAoD,AAChD,8CAAgD,AACpD,qCAAsC,AACtC,sCAAuC,AACvC,oCAAyC,AACzC,6DAAqE,AACrE,wDAAgE,AAChE,qDAA6D,AAC7D,cAAgB,CACjB,AACD,qCACE,iDAAmD,AACnD,6CAA+C,AAC3C,wCAA2C,CAChD,AACD,wBACE,qBAAsB,AACtB,kBAAmB,AACnB,UAAW,AACX,MAAO,AACP,SAAU,AACV,QAAS,AACT,kBAAmB,AACnB,UAAY,CACb;AAYD,mDAAmD,AAKnD,wCACE,cAAgB,CACjB;AAqBD,kDAAkD,AA+ElD,uBACE,cAAe,AACf,WAAY,AAQZ,UAAW,AACX,mBAAqB,CAGtB,AACD,sBACE,cAAe,AACf,kBAAmB,AACnB,OAAQ,AACR,QAAS,AACT,MAAO,AACP,SAAU,AACV,8BAAqC,AACrC,gCAAkC,AAClC,2BAA6B,AAC7B,wBAA0B,AAC1B,WAAY,AACZ,UAAW,AACX,mBAAqB,CACtB,AACD,0BACE,kBAAmB,AACnB,cAAe,AACf,kBAAmB,AACnB,WAAY,AACZ,QAAS,AACT,OAAQ,AACR,eAAgB,AAChB,qBAA0B,AAC1B,mCAAoC,AACpC,+BAAgC,AAC5B,2BAA4B,AAChC,yDAAkE,AAClE,oDAA6D,AAC7D,gDAA0D,CAC3D,AACD,8BACE,UAAW,AACX,UAAW,AACX,kBAAoB,CACrB,AACD,kCACE,kCAAmC,AACnC,8BAA+B,AAC3B,yBAA2B,CAChC,AACD,0IAIE,kCAAoC,AACpC,6BAA+B,AAC/B,0BAA4B,AAC5B,iBAAmB,CAKpB,AACD,yCACE,kBAAmB,AACnB,WAAa,CACd",file:"react-table.css",sourcesContent:[".ReactTable {\n  position: relative;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  /*border: 1px solid rgba(0, 0, 0, 0.1);*/\n}\n.ReactTable * {\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n}\n.ReactTable .rt-table {\n  -ms-flex: auto 1;\n  flex: auto 1;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  -ms-flex-align: stretch;\n  align-items: stretch;\n  width: 100%;\n  border-collapse: collapse;\n  overflow: auto;\n}\n.ReactTable .rt-thead {\n  -ms-flex: 1 0 auto;\n  flex: 1 0 auto;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  /*-webkit-user-select: none;*/\n  /*-moz-user-select: none;*/\n  /*-ms-user-select: none;*/\n  /*user-select: none;*/\n}\n.ReactTable .rt-thead.-headerGroups {\n  background: rgba(0, 0, 0, 0.03);\n  /*border-bottom: 1px solid rgba(0, 0, 0, 0.05)*/\n}\n.ReactTable .rt-thead.-filters {\n  /*border-bottom: 1px solid rgba(0, 0, 0, 0.05);*/\n}\n.ReactTable .rt-thead.-filters input,\n.ReactTable .rt-thead.-filters select {\n  /*border: 1px solid rgba(0, 0, 0, 0.1);*/\n  background: #fff;\n  padding: 5px 7px;\n  font-size: inherit;\n  border-radius: 3px;\n  font-weight: normal;\n  outline: none;\n}\n.ReactTable .rt-thead.-filters .rt-th {\n  /*border-right: 1px solid rgba(0, 0, 0, 0.02)*/\n}\n.ReactTable .rt-thead.-header {\n  /*box-shadow: 0 2px 15px 0 rgba(0, 0, 0, 0.15)*/\n  /*border-bottom: 1px solid #555 !important;*/\n}\n.ReactTable .rt-thead .rt-tr {\n  text-align: center;\n}\n.ReactTable .rt-thead .rt-th,\n.ReactTable .rt-thead .rt-td {\n  /*padding: 1px 1px;*/\n  line-height: normal;\n  position: relative;\n  /*border-right: 1px solid rgba(0, 0, 0, 0.05);*/\n  /*transition: box-shadow .3s cubic-bezier(.175, .885, .32, 1.275);*/\n  /*box-shadow: inset 0 0 0 0 transparent;*/\n}\n.ReactTable .rt-thead .rt-th.-sort-asc,\n.ReactTable .rt-thead .rt-td.-sort-asc {\n  /*box-shadow: inset 0 3px 0 0 rgba(0, 0, 0, 0.6)*/\n}\n.ReactTable .rt-thead .rt-th.-sort-desc,\n.ReactTable .rt-thead .rt-td.-sort-desc {\n  /*box-shadow: inset 0 -3px 0 0 rgba(0, 0, 0, 0.6)*/\n}\n.ReactTable .rt-thead .rt-th.-cursor-pointer,\n.ReactTable .rt-thead .rt-td.-cursor-pointer {\n  cursor: pointer;\n}\n.ReactTable .rt-thead .rt-th:last-child,\n.ReactTable .rt-thead .rt-td:last-child {\n  border-right: 0;\n}\n.ReactTable .rt-thead .rt-resizable-header {\n  overflow: visible;\n}\n.ReactTable .rt-thead .rt-resizable-header:last-child {\n  overflow: hidden;\n}\n.ReactTable .rt-thead .rt-resizable-header-content {\n  overflow: hidden;\n  -o-text-overflow: ellipsis;\n     text-overflow: ellipsis;\n}\n.ReactTable .rt-thead .rt-header-pivot {\n  border-right-color: #f7f7f7;\n}\n.ReactTable .rt-thead .rt-header-pivot:after,\n.ReactTable .rt-thead .rt-header-pivot:before {\n  left: 100%;\n  top: 50%;\n  border: solid transparent;\n  content: \" \";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none;\n}\n.ReactTable .rt-thead .rt-header-pivot:after {\n  border-color: rgba(255, 255, 255, 0);\n  border-left-color: #fff;\n  border-width: 8px;\n  margin-top: -8px;\n}\n.ReactTable .rt-thead .rt-header-pivot:before {\n  border-color: rgba(102, 102, 102, 0);\n  border-left-color: #f7f7f7;\n  border-width: 10px;\n  margin-top: -10px;\n}\n/*.ReactTable .rt-tbody {*/\n/*-webkit-box-flex: 99999;*/\n/*-ms-flex: 99999 1 auto;*/\n/*flex: 99999 1 auto;*/\n/*display: -webkit-box;*/\n/*display: -ms-flexbox;*/\n/*display: flex;*/\n/*-webkit-box-orient: vertical;*/\n/*-webkit-box-direction: normal;*/\n/*-ms-flex-direction: column;*/\n/*flex-direction: column;*/\n/*overflow: auto;*/\n/*}*/\n/*.ReactTable .rt-tbody .rt-tr-group {*/\n/*!*border-bottom: solid 1px rgba(0, 0, 0, 0.05);*!*/\n/*!*border-bottom: 1px solid #555 !important;*!*/\n/*}*/\n/*.ReactTable .rt-tbody .rt-tr-group:last-child {*/\n/*border-bottom: 0*/\n/*}*/\n/*.ReactTable .rt-tbody .rt-td {*/\n/*!*border-right: 1px solid rgba(0, 0, 0, 0.02);*!*/\n/*}*/\n/*.ReactTable .rt-tbody .rt-td:last-child {*/\n/*!*border-right: 0*!*/\n/*}*/\n/*.ReactTable .rt-tbody .rt-expandable {*/\n/*cursor: pointer*/\n/*}*/\n.ReactTable .rt-tr-group {\n  -ms-flex: 0 0 auto;\n  flex: 0 0 auto;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  -ms-flex-align: stretch;\n  align-items: stretch;\n}\n.ReactTable .rt-tr {\n  -ms-flex: 1 0 auto;\n  flex: 1 0 auto;\n  display: -ms-inline-flexbox;\n  display: inline-flex;\n}\n.ReactTable .rt-th,\n.ReactTable .rt-td {\n  -ms-flex: 1 0 0px;\n  flex: 1 0;\n  white-space: nowrap;\n  -o-text-overflow: ellipsis;\n     text-overflow: ellipsis;\n  /*padding: 0px 0px;*/\n  overflow: hidden;\n  -webkit-transition: 0.3s ease;\n  -o-transition: 0.3s ease;\n  transition: 0.3s ease;\n  -webkit-transition-property: width, min-width, padding, opacity;\n  -o-transition-property: width, min-width, padding, opacity;\n  transition-property: width, min-width, padding, opacity;\n}\n/*.ReactTable .rt-td{*/\n/*text-align: right;*/\n/*border-right: 1px #555 solid;*/\n/*padding-right: 2px;*/\n/*}*/\n.ReactTable .rt-th.-hidden,\n.ReactTable .rt-td.-hidden {\n  width: 0 !important;\n  min-width: 0 !important;\n  padding: 0 !important;\n  border: 0 !important;\n  opacity: 0 !important;\n}\n.ReactTable .rt-expander {\n  display: inline-block;\n  position: relative;\n  margin: 0;\n  color: transparent;\n  margin: 0 10px;\n}\n.ReactTable .rt-expander:after {\n  content: '';\n  position: absolute;\n  width: 0;\n  height: 0;\n  top: 50%;\n  left: 50%;\n  -webkit-transform: translate(-50%, -50%) rotate(-90deg);\n  -ms-transform: translate(-50%, -50%) rotate(-90deg);\n      transform: translate(-50%, -50%) rotate(-90deg);\n  border-left: 5.04px solid transparent;\n  border-right: 5.04px solid transparent;\n  border-top: 7px solid rgba(0, 0, 0, 0.8);\n  -webkit-transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);\n  -o-transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);\n  transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);\n  cursor: pointer;\n}\n.ReactTable .rt-expander.-open:after {\n  -webkit-transform: translate(-50%, -50%) rotate(0);\n  -ms-transform: translate(-50%, -50%) rotate(0);\n      transform: translate(-50%, -50%) rotate(0);\n}\n.ReactTable .rt-resizer {\n  display: inline-block;\n  position: absolute;\n  width: 3px;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  cursor: col-resize;\n  z-index: 10;\n}\n/*.ReactTable .rt-tfoot {*/\n/*-webkit-box-flex: 1;*/\n/*-ms-flex: 1 0 auto;*/\n/*flex: 1 0 auto;*/\n/*display: -webkit-box;*/\n/*display: -ms-flexbox;*/\n/*display: flex;*/\n/*-webkit-box-orient: vertical;*/\n/*-webkit-box-direction: normal;*/\n/*-ms-flex-direction: column;*/\n/*flex-direction: column;*/\n/*!*box-shadow: 0 0 15px 0 rgba(0, 0, 0, 0.15);*!*/\n/*}*/\n.ReactTable .rt-tfoot .rt-td {\n  /*border-right: 1px solid rgba(0, 0, 0, 0.05);*/\n}\n.ReactTable .rt-tfoot .rt-td:last-child {\n  border-right: 0;\n}\n/*.ReactTable.-striped .rt-tr.-odd {*/\n/*background: rgba(0, 0, 0, 0.03)*/\n/*}*/\n/*.ReactTable.-highlight .rt-tbody .rt-tr:not(.-padRow):hover {*/\n/*background: rgba(0, 0, 0, 0.05)*/\n/*}*/\n/*.ReactTable .-pagination {*/\n/*z-index: 1;*/\n/*display: -webkit-box;*/\n/*display: -ms-flexbox;*/\n/*display: flex;*/\n/*-webkit-box-pack: justify;*/\n/*-ms-flex-pack: justify;*/\n/*justify-content: space-between;*/\n/*-webkit-box-align: stretch;*/\n/*-ms-flex-align: stretch;*/\n/*align-items: stretch;*/\n/*-ms-flex-wrap: wrap;*/\n/*flex-wrap: wrap;*/\n/*padding: 3px;*/\n/*!*box-shadow: 0 0 15px 0 rgba(0, 0, 0, 0.1);*!*/\n/*border-top: 2px solid rgba(0, 0, 0, 0.1);*/\n/*}*/\n/*.ReactTable .-pagination input, .ReactTable .-pagination select {*/\n/*border: 1px solid rgba(0, 0, 0, 0.1);*/\n/*background: #fff;*/\n/*padding: 5px 7px;*/\n/*font-size: inherit;*/\n/*border-radius: 3px;*/\n/*font-weight: normal;*/\n/*outline: none*/\n/*}*/\n/*.ReactTable .-pagination .-btn {*/\n/*-webkit-appearance: none;*/\n/*-moz-appearance: none;*/\n/*appearance: none;*/\n/*display: block;*/\n/*width: 100%;*/\n/*height: 100%;*/\n/*border: 0;*/\n/*border-radius: 3px;*/\n/*padding: 6px;*/\n/*font-size: 1em;*/\n/*color: rgba(0, 0, 0, 0.6);*/\n/*background: rgba(0, 0, 0, 0.1);*/\n/*transition: all .1s ease;*/\n/*cursor: pointer;*/\n/*outline: none;*/\n/*}*/\n/*.ReactTable .-pagination .-btn[disabled] {*/\n/*opacity: .5;*/\n/*cursor: default*/\n/*}*/\n/*.ReactTable .-pagination .-btn:not([disabled]):hover {*/\n/*background: rgba(0, 0, 0, 0.3);*/\n/*color: #fff*/\n/*}*/\n/*.ReactTable .-pagination .-previous, .ReactTable .-pagination .-next {*/\n/*-webkit-box-flex: 1;*/\n/*-ms-flex: 1;*/\n/*flex: 1;*/\n/*text-align: center*/\n/*}*/\n/*.ReactTable .-pagination .-center {*/\n/*-webkit-box-flex: 1.5;*/\n/*-ms-flex: 1.5;*/\n/*flex: 1.5;*/\n/*text-align: center;*/\n/*margin-bottom: 0;*/\n/*display: -webkit-box;*/\n/*display: -ms-flexbox;*/\n/*display: flex;*/\n/*-webkit-box-orient: horizontal;*/\n/*-webkit-box-direction: normal;*/\n/*-ms-flex-direction: row;*/\n/*flex-direction: row;*/\n/*-ms-flex-wrap: wrap;*/\n/*flex-wrap: wrap;*/\n/*-webkit-box-align: center;*/\n/*-ms-flex-align: center;*/\n/*align-items: center;*/\n/*-ms-flex-pack: distribute;*/\n/*justify-content: space-around*/\n/*}*/\n/*.ReactTable .-pagination .-pageInfo {*/\n/*display: inline-block;*/\n/*margin: 3px 10px;*/\n/*white-space: nowrap*/\n/*}*/\n/*.ReactTable .-pagination .-pageJump {*/\n/*display: inline-block;*/\n/*}*/\n/*.ReactTable .-pagination .-pageJump input {*/\n/*width: 70px;*/\n/*text-align: center*/\n/*}*/\n/*.ReactTable .-pagination .-pageSizeOptions {*/\n/*margin: 3px 10px*/\n/*}*/\n.ReactTable .rt-noData {\n  display: block;\n  width: 100%;\n  /*position: absolute;*/\n  /*left: 50%;*/\n  /*top: 50%;*/\n  /*-webkit-transform: translate(-50%, -50%);*/\n  /*transform: translate(-50%, -50%);*/\n  /*background: rgba(255, 255, 255, 0.8);*/\n  /*transition: all .3s ease;*/\n  z-index: 1;\n  pointer-events: none;\n  /*padding: 20px;*/\n  /*color: rgba(0, 0, 0, 0.5)*/\n}\n.ReactTable .-loading {\n  display: block;\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  background: rgba(255, 255, 255, 0.8);\n  -webkit-transition: all 0.3s ease;\n  -o-transition: all 0.3s ease;\n  transition: all 0.3s ease;\n  z-index: -1;\n  opacity: 0;\n  pointer-events: none;\n}\n.ReactTable .-loading > div {\n  position: absolute;\n  display: block;\n  text-align: center;\n  width: 100%;\n  top: 50%;\n  left: 0;\n  font-size: 15px;\n  color: rgba(0, 0, 0, 0.6);\n  -webkit-transform: translateY(-52%);\n  -ms-transform: translateY(-52%);\n      transform: translateY(-52%);\n  -webkit-transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n  -o-transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n  transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n}\n.ReactTable .-loading.-active {\n  opacity: 1;\n  z-index: 2;\n  pointer-events: all;\n}\n.ReactTable .-loading.-active > div {\n  -webkit-transform: translateY(50%);\n  -ms-transform: translateY(50%);\n      transform: translateY(50%);\n}\n.ReactTable .rt-resizable-header,\n.ReactTable .rt-resizable-header-content,\n.ReactTable .rt-resizing .rt-th,\n.ReactTable .rt-resizing .rt-td {\n  -webkit-transition: none !important;\n  -o-transition: none !important;\n  transition: none !important;\n  cursor: col-resize;\n  /*-webkit-user-select: none;*/\n  /*-moz-user-select: none;*/\n  /*-ms-user-select: none;*/\n  /*user-select: none*/\n}\n.ReactTable .rt-resizable-header-content {\n  padding-right: 5px;\n  cursor: auto;\n}\n"],sourceRoot:""}])},574:function(e,t,n){"use strict";(function(e){function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=(n(2),n(0)),s=n.n(i),l=n(24),c=n(325),u=n(330),d=n(331),p=n(332),h=n(333),f=n(226),m=n(140),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),v=function(e){function t(e){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return o(t,e),g(t,[{key:"changeSetting",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.user,n=e.uInfo,a=e.code;return s.a.createElement("div",{className:"full-font unselect spot-trading-skin"},s.a.createElement(m.a,{showError:!0},s.a.createElement(c.a,{user:t,uInfo:n,onChange:this.changeSetting.bind(this),code:a})),s.a.createElement("div",null,s.a.createElement(f.a,{style:{position:"absolute",right:"465px",width:"calc(100% - 460px)",height:"calc(100% - 355px)",backgroundColor:"#262d33",zIndex:5},code:a,theme:"dark"}),s.a.createElement("div",{style:{position:"absolute",top:"51px",right:0,height:"calc(100% - 356px)",width:"460px",backgroundColor:"#272d33",zIndex:5}},s.a.createElement("div",{style:{height:"100%",borderLeft:"1px #2d2d2d solid",borderBottom:"1px #2d2d2d solid"}},s.a.createElement("div",{className:"trade-full-price-box"},s.a.createElement(m.a,{showError:!0},s.a.createElement(d.a,{isExpert:!0,code:a})),s.a.createElement(m.a,{showError:!0},s.a.createElement(p.a,{isExpert:!0,code:a,className:"trade-order-detail r0"}))))),s.a.createElement("div",{style:{position:"absolute",top:"51px",right:0,bottom:0,width:"100%",backgroundColor:"#000"}},s.a.createElement(m.a,{showError:!0},s.a.createElement(u.a,{isExpert:!0,code:a,user:t,uInfo:n})),s.a.createElement(m.a,{showError:!0},s.a.createElement(h.a,{code:a})))))}}]),t}(l.a);t.a=v}).call(t,n(13))},575:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),s=n.n(i),l=n(14),c=n.n(l),u=n(24),d=(n(15),function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}()),p=function(e){function t(e){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.dataArr=n.props.dataArr,n.className=n.props.className,n.changeHandler=n.props.onChange,n.state={value:n.props.value},n}return o(t,e),d(t,[{key:"componentWillReceiveProps",value:function(e){e.value!=this.state.value&&this.setState({value:e.value})}},{key:"onChangePercent",value:function(e){e==this.state.value?(this.setState({value:""}),this.changeHandler&&this.changeHandler("")):(this.setState({value:e}),this.changeHandler&&this.changeHandler(Number(e)))}},{key:"render",value:function(){var e=this.state.value,t=this;return s.a.createElement("div",{className:this.className,ref:"spanBtn"},this.dataArr&&this.dataArr.map(function(n,a){return s.a.createElement("span",{key:a,className:e==n?"on":"",onClick:t.onChangePercent.bind(t,n)},n,"%")}))}}]),t}(u.a);p.propTypes={dataArr:c.a.array,className:c.a.string,onChange:c.a.func,value:c.a.number},t.a=p},576:function(e,t,n){"use strict";(function(e){function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(2),s=n(0),l=n.n(s),c=n(24),u=n(25),d=n(226),p=n(328),h=n(164),f=n(175),m=n(140),g=n(330),v=n(331),y=n(332),b=n(333),E=n(12),w=n(29),C=n(227),P=n(19),S=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),k=e,T=function(e){function t(e){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.SkinMore=w.a.skinMore,n.klineTheme=e.isFut?w.a.getSkin():"dark",n.Resolution=E.a.loadPreference("klType","5MIN"),n.productList=P.a.getProductList()||[],n.isFut=n.props.isFut,n.openHS=!1,n.winEvt="onorientationchange"in window?"orientationchange":"resize",n.state={isFut:n.isFut,code:n.props.code,product:n.getProduct(n.props.code),Resolution:n.Resolution,klineTheme:n.klineTheme,showKline:!1,showMenu:!1,showResolution:!1,showNewOrder:!1,showLog:!1,showProduct:!1,showSpotDeep:!1,showSpotOrder:!1,showSpotLog:!1,maxLog:!1,logStyle:null},n}return o(t,e),S(t,[{key:"componentWillUnmount",value:function(){window.targetDom=null,window.removeEventListener(this.winEvt,this.changeScreen,!1)}},{key:"componentWillReceiveProps",value:function(e){if(e.isFut!==this.props.isFut){console.log("trade type is change!"),this.isFut=e.isFut,this.klineTheme=e.isFut?w.a.getSkin():"dark";var t={isFut:this.isFut,code:e.code,product:this.getProduct(e.code),Resolution:this.Resolution,klineTheme:this.klineTheme,showKline:!1,showMenu:!1,showResolution:!1,showNewOrder:!1,showLog:!1,showProduct:!1,showSpotDeep:!1,showSpotOrder:!1,showSpotLog:!1,maxLog:!1,logStyle:null};this.setState(t)}}},{key:"componentWillMount",value:function(){this.changeProduct(this.props.code),this.initScreenSize(this),window.targetDom=this,window.addEventListener(this.winEvt,this.changeScreen,!1)}},{key:"changeScreen",value:function(e){var t=e.props?e:window.targetDom;setTimeout(function(){t.initScreenSize(t)},300)}},{key:"initScreenSize",value:function(e){var t=k(window).width(),n=k(window).height(),a={},r={},o=e.props?e:window.targetDom;r.top=0,r.left=0,a.VerticalScreen=!1,0==window.orientation||180==window.orientation?this.openHS?(r.width=n,r.height=t,r.top=(n-t)/2,r.left=0-(n-t)/2,r.transform="rotate(90deg)",a.ForceHSreen=!0):(a.VerticalScreen=!0,r.overflowY="auto"):o.isFut||(r.overflowY="auto"),document.body.style.height=window.innerHeight+"px",a.winStyle=r,o.setState(a)}},{key:"maxHistory",value:function(){var e,t=this.state,n=t.maxLog,a=t.winStyle,r=k(window).width(),o=k(window).height(),i=k("#mb-futures-center").scrollTop(),s={};n?e=Object.assign({},a,{overflowY:"auto"}):(s.width=o,s.height=r,s.top=(o-r)/2+i,s.left=0-(o-r)/2,e=Object.assign({},a,{overflowY:"hidden"})),this.setState({maxLog:!n,logStyle:s,winStyle:e})}},{key:"changeProduct",value:function(e){var t=this.props.code;if(e!=t&&this.productList){var n=this.getProduct(t);this.setState({product:n,code:e})}}},{key:"getProduct",value:function(e){var t=this.isFut?this.productList[0]:this.productList[1];if(t&&t.length)for(var n in t)if(t[n].Code==e)return t[n]}},{key:"setResolution",value:function(e){var t=e.value||this.Resolution;this.Resolution=t,C.a.setResolution(t),E.a.savePreference("klType",e.key),this.setState({Resolution:e.key})}},{key:"getBackgroundConfig",value:function(){return{gray:{kLine:{width:"100%",height:"100%",overflow:"hidden"},history:{width:"100%",height:"100%",overflow:"hidden"},hist_log:{width:"100%",height:"100%"},book:{width:"100%",height:"100%"},form:{width:"100%",height:"100%"},order:{width:"100%",height:"100%"}},primary:{kLine:{width:"100%",height:"100%",overflow:"hidden"},history:{width:"100%",height:"100%",overflow:"hidden"},hist_log:{width:"100%",height:"100%"},book:{width:"100%",height:"100%"},form:{width:"100%",height:"100%"},order:{width:"100%",height:"100%"}},white:{kLine:{width:"100%",height:"100%",overflow:"hidden"},history:{width:"100%",height:"100%",overflow:"hidden"},hist_log:{width:"100%",height:"100%"},book:{width:"100%",height:"100%"},form:{width:"100%",height:"100%"},order:{width:"100%",height:"100%"}},dark:{kLine:{width:"100%",height:"100%",overflow:"hidden"},history:{width:"100%",height:"100%",overflow:"hidden"},hist_log:{width:"100%",height:"100%"},book:{width:"100%",height:"100%"},form:{width:"100%",height:"100%"},order:{width:"100%",height:"100%"}}}[this.klineTheme]}},{key:"changeSetting",value:function(e,t){t&&(this.klineTheme=e,this.setState({klineTheme:e}),E.a.savePreference("klineTheme",e))}},{key:"getSolutionMap",value:function(){return[{value:"1",text:"1M",key:"1MIN",save:!0},{value:"5",text:"5M",key:"5MIN",save:!0},{value:"15",text:"15M",key:"15MIN",save:!0},{value:"30",text:"30M",key:"30MIN",save:!1},{value:"60",text:"1H",key:"1HOUR",save:!0},{value:"360",text:"6H",key:"6HOUR",save:!0},{value:"1D",text:"1D",key:"1DAY",save:!0}]}},{key:"toggleBlock",value:function(e,t){var n={};t&&(n.showMenu=!1),"kline"==e?n.showKline=!this.state.showKline:"resolution"==e?n.showResolution=!this.state.showResolution:"log"==e?n.showLog=!this.state.showLog:"order"==e?n.showNewOrder=!this.state.showNewOrder:"product"==e?n.showProduct=!this.state.showProduct:"main"==e?n.showMenu=!1:"spotDeep"==e?n.showSpotDeep=!this.state.showSpotDeep:"spotOrder"==e?n.showSpotOrder=!this.state.showSpotOrder:"spotLog"==e&&(n.showSpotLog=!this.state.showSpotLog),this.setState(n)}},{key:"toggleMenu",value:function(e){e&&(e.preventDefault(),e.stopPropagation()),this.setState({showMenu:!this.state.showMenu})}},{key:"getShowBockConfig",value:function(){var e=this.state,t=e.VerticalScreen,n=e.showKline,a=e.showMenu,r=e.showResolution,o=e.showNewOrder,i=e.showLog,s=e.showProduct,l=e.showSpotDeep,c=e.showSpotOrder,u=e.showSpotLog,d={};return this.isFut?(t?(d.HS=!1,d.showChart=!0,d.showResolution=!0,d.showNewOrder=!0,d.showLog=i,d.showProduct=!0,n&&(d.showKline=!0),d.menuBtn=!1,d.showMenu=!1,d.showLogIcon=!1,d.hideStat=!0,d.BlockMap=["header","product","trade","deep","newOrder","chart","resolution","kline","logBar","log","contract"]):(d.HS=!0,d.showChart=!1,d.showKline=!0,d.menuBtn=!0,d.showLogIcon=!0,d.hideStat=!1,d.showResolution=r,d.showNewOrder=o,d.showLog=i,d.showProduct=s,d.showMenu=a,d.BlockMap=["kline","resolution","product","trade","log","menu","mainBtn"]),d):(d.HS=!1,d.showChart=!0,d.showResolution=!0,d.showSpotDeep=l,d.showSpotOrder=c,d.showSpotLog=u,n&&(d.showKline=!0),t||(d.HS=!0),d.BlockMap=["header","product","spotTrade","spotDeep","chart","resolution","kline","spotOrder","spotLog"],d)}},{key:"render",value:function(){var e=this,t=this.state,n=t.code,a=t.product,r=t.Resolution,o=t.ForceHSreen,s=t.showMenu,c=t.maxLog,u=t.logStyle,E=t.winStyle,w=this.props,C=w.user,P=w.uInfo,S=w.isFut,k=this.getBackgroundConfig(),T=this.getSolutionMap(),N=this.getShowBockConfig(),_=N.BlockMap;return l.a.createElement("div",{id:"mb-futures-center",className:(c?"mb-overflow-y":"")+" futures-pos f-oh unselect futures-bg-"+this.klineTheme,style:E},_&&_.map(function(t,E){return"header"==t?l.a.createElement(A,{key:E,className:"mb-header-box",user:C,uInfo:P}):"chart"==t?l.a.createElement("div",{key:E,className:"mb-kline-head f-clear mt-5"},l.a.createElement("span",null,i.a.lang("mobile.futures.chart")),l.a.createElement("i",{className:"iconfont fr pd010 "+(N.showKline?"icon-hide":"icon-show"),onClick:function(){return e.toggleBlock("kline")}})):"kline"==t&&N.showKline?l.a.createElement("div",{key:"KlineDiv",className:"KlineDiv",style:N.HS?{height:"100%"}:{height:"50%"}},l.a.createElement(d.a,{style:k.kLine,code:n,className:"futures-c ft-bd-78 widget",theme:e.klineTheme})):"trade"==t?l.a.createElement(D,{key:E,className:"ft-trade-panel mb-new-order "+(N.showNewOrder?"mb-new-order":"hide"),direct:N.HS,code:n,onChange:function(){return e.toggleBlock("order")}}):"deep"==t?l.a.createElement(h.c,{key:E,className:"mb-deep-box",product:a,open:!1,notip:!0}):"newOrder"==t?l.a.createElement(h.b,{key:E,className:"mb-deep-box",product:a,open:!1,notip:!0}):"contract"==t?l.a.createElement(h.d,{key:E,className:"mb-contract-box",product:a,notip:!0}):"product"==t?l.a.createElement("div",{key:E,className:(S?"":"spot-trading-skin")+" mb-product-menu "+(N.showProduct?"mb-product-show":"")},l.a.createElement(f.a,{className:"drop-menu-children drop-menu-children-box drop-item-style1",productList:e.productList,code:n,headHide:!1,onChange:function(){return e.changeProduct(n)}}),N.HS&&l.a.createElement("div",{className:"mb-product-close",onClick:function(){return e.toggleBlock("product")}},l.a.createElement("i",{className:"iconfont icon-close"}))):"resolution"==t&&N.showKline?l.a.createElement("div",{key:E,className:"mb-kLine-resolution "+(N.showResolution?"h-auto":"")},l.a.createElement("div",{className:"mb-resolution-bg"}),l.a.createElement("div",{className:"mb-resolution-btnBox"},T.map(function(t,n){return l.a.createElement("span",{key:n,className:t.key==r?"current":"",onClick:function(){return e.setResolution(t)}},t.text)}),N.HS&&l.a.createElement("div",{className:"mb-resolution-close",onClick:function(){return e.toggleBlock("resolution")}},l.a.createElement("i",{className:"iconfont icon-close fem125"})))):"logBar"==t?l.a.createElement("div",{key:E,className:"mb-kline-head f-clear mt-5"},l.a.createElement("span",null,i.a.lang("mobile.futures.menu.2")),l.a.createElement("i",{className:"iconfont pd010 fs14 fr "+(N.showLog?"icon-hide":"icon-show"),onClick:function(){return e.toggleBlock("log")}}),l.a.createElement("i",{className:"iconfont fem pd010 fr "+(c?"icon-suoxiao":"icon-fangda"),onClick:function(){return e.maxHistory()}})):"log"==t?l.a.createElement("div",{key:E,className:(c?"mb-hscreen":"")+" mb-trade-history "+(N.showLog?"mb-show":""),style:u},N.hideStat&&c&&l.a.createElement("i",{className:"iconfont fem125 mb-minIcon icon-suoxiao",onClick:function(){return e.maxHistory()}}),N.hideStat&&l.a.createElement("div",{className:"mb-asset-box"},l.a.createElement(p.b,{code:n,hideAssetIcon:!N.HS,showIcon:!1})),l.a.createElement(m.a,{showError:!0},l.a.createElement(p.a,{className:"futures-fullTrade-history widget",style:k,code:n,isExpert:!0,height:200,hideStatBar:N.hideStat,hideAssetIcon:N.hideStat,showIcon:N.showLogIcon,onChange:function(){return e.toggleBlock("log")}}))):"menu"==t?l.a.createElement("div",{key:E,className:"mb-trade-menuBox "+(N.showMenu?"":"mb-hide"),onClick:function(t){return e.toggleMenu(t)}},l.a.createElement("div",{className:"mb-trade-menu fs12",onClick:function(e){return e.stopPropagation()}},l.a.createElement(x,{uInfo:P,onChange:function(t,n){return e.toggleBlock(t,n)}}))):"mainBtn"==t?l.a.createElement(O,{key:E,showMenu:s,transType:o,onChange:function(t){return e.toggleMenu(t)}}):"spotTrade"==t?l.a.createElement("div",{key:E,className:"mb-spot-trade"},l.a.createElement(m.a,{showError:!0},l.a.createElement(b.a,{code:n,isMobile:!0}))):"spotDeep"==t?l.a.createElement("div",{key:E,className:"mb-spot-order"},l.a.createElement("div",{className:"mb-kline-head f-clear mt-5"},l.a.createElement("span",null,i.a.lang("CommOrderBook.101")),l.a.createElement("i",{className:"iconfont fr pd010 "+(N.showSpotDeep?"icon-hide":"icon-show"),onClick:function(){return e.toggleBlock("spotDeep")}})),N.showSpotDeep&&l.a.createElement("div",{className:"mb-spot-order"},l.a.createElement("div",{className:"trade-order-detail lh-22 c-8 fs12 hide"},l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement("span",null,i.a.lang("TradeHistory.105")),l.a.createElement("span",null,i.a.lang("tradeHistory.1_9")),l.a.createElement("span",null,i.a.lang("TradeExpert.100"))))),l.a.createElement(m.a,{showError:!0},l.a.createElement(v.a,{code:n,isMobile:!0})))):"spotOrder"==t?l.a.createElement(m.a,{key:E,showError:!0},l.a.createElement("div",{className:"mb-kline-head f-clear mt-5"},l.a.createElement("span",null,i.a.lang("Trade.100")),l.a.createElement("i",{className:"iconfont fr pd010 "+(N.showSpotOrder?"icon-hide":"icon-show"),onClick:function(){return e.toggleBlock("spotOrder")}})),N.showSpotOrder&&l.a.createElement("div",{className:"mb-spot-order"},l.a.createElement("div",{className:"trade-order-detail lh-22 c-8 fs12"},l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement("span",null,i.a.lang("TradeHistory.105")),l.a.createElement("span",null,i.a.lang("tradeHistory.1_9")),l.a.createElement("span",null,i.a.lang("accountSafe.1_102"))))),l.a.createElement(y.a,{code:n,className:"trade-order-detail "}))):"spotLog"==t?l.a.createElement("div",{key:E,className:(c?"mb-hscreen":"")+" mb-spot-log",style:u},l.a.createElement("div",{className:"mb-kline-head f-clear mt-5"},l.a.createElement("span",null,i.a.lang("mobile.futures.menu.2")),l.a.createElement("i",{className:"iconfont fr pd010 "+(N.showSpotLog?"icon-hide":"icon-show"),onClick:function(){return e.toggleBlock("spotLog")}}),!N.HS&&l.a.createElement("i",{className:"iconfont fem125 fr pd010 "+(c?"icon-fangda":"icon-suoxiao"),onClick:function(){return e.maxHistory()}})),(N.showSpotLog||c)&&l.a.createElement(m.a,{showError:!0},l.a.createElement(g.a,{isExpert:!0,code:n,isMobile:!0}))):void 0}),l.a.createElement("div",{className:"mb-footer c-8"},l.a.createElement("span",{className:"fem75 ml-10"},i.a.lang("Footer.109"))))}}]),t}(c.a);t.a=T;var D=function(e){function t(e){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={panelShow:!0},n}return o(t,e),S(t,[{key:"toggleBlock",value:function(e,t){this.props.onChange(e,t)}},{key:"showTrade",value:function(){this.setState({panelShow:!this.state.panelShow})}},{key:"render",value:function(){var e=this,t=this.props,n=t.code,a=t.className,r=t.direct,o=this.state.panelShow,s=w.a.getProduct(n),c=s&&s.length?s[0]:{},u=r;return l.a.createElement("section",{className:a,id:"order_new"},u?l.a.createElement("header",{className:"dialog-head tc lh-25"},l.a.createElement("h3",{className:"ft-dialog-head fem875 tb"},l.a.createElement("span",null),l.a.createElement("span",null)),l.a.createElement("i",{className:"iconfont icon-close transit fem875",onClick:function(){return e.toggleBlock("order",!0)}})):l.a.createElement("header",{className:"dialog-head tc lh-25 pos-r"},l.a.createElement("h3",{className:"ft-dialog-head fem875 tb"},l.a.createElement("span",null,i.a.lang("trade.new_order"))),l.a.createElement("div",{className:"mb-order-setting"},l.a.createElement(h.i,{name:"newOrder"}),l.a.createElement("i",{className:"iconfont fs14 "+(o?" icon-hide":" icon-show"),onClick:function(){return e.showTrade()}}))),l.a.createElement("div",{className:"ft-order-box pd010 fem75 pdb-10 border-none "+(o?"":"hide")},l.a.createElement(h.f,{className:"ft-order-market pdt-1",product:c,isExpert:!0,expandKey:"",tradingType:!0})))}}]),t}(c.a),A=function(e){function t(e){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.langue=i.a.getLang(),n.state={},n}return o(t,e),S(t,[{key:"sayHello",value:function(){var e=(new Date).getHours();return e<6?i.a.lang("LoginBox.101"):e<9?i.a.lang("LoginBox.102"):e<12?i.a.lang("LoginBox.103"):e<14?i.a.lang("LoginBox.104"):e<17?i.a.lang("LoginBox.105"):e<19?i.a.lang("LoginBox.106"):e<24?i.a.lang("LoginBox.107"):void 0}},{key:"changeLangue",value:function(){var e="en-us"==this.langue?"zh-cn":"en-us";e&&e!=i.a.getLang()&&(i.a.setLang(e),this.langue=e)}},{key:"logout",value:function(e){E.a.logout()}},{key:"render",value:function(){var e=this.props,t=e.uInfo,n=e.className,a=this.sayHello()+t.Email,r="en-us"==this.langue?"zh":"en";return l.a.createElement("div",{className:n},t.Email?l.a.createElement("span",{className:"fs12"},l.a.createElement(u.Link,{to:"/personal",className:"pd010 warn"},a),l.a.createElement("a",{href:"javascript:;",className:"w-60 tc fr",onClick:this.logout},i.a.lang("header.1_2"))):l.a.createElement(u.Link,{className:"pd-10 white2 fs16",to:"/login"},i.a.lang("LoginBox.100")),l.a.createElement("span",{className:"fr pd-10 lh-16"},l.a.createElement("img",{src:"https://res1.tdex.com/images/icons/"+r+".jpg",onClick:this.changeLangue.bind(this)})," "))}}]),t}(c.a),x=function(e){function t(e){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return o(t,e),S(t,[{key:"toggleBlock",value:function(e,t){this.props.onChange(e,t)}},{key:"render",value:function(){var e=this,t=this.props.uInfo;return l.a.createElement("dl",{className:"tc fs12"},l.a.createElement("dd",{className:"mt-10"},l.a.createElement("div",{onClick:function(){return e.toggleBlock("resolution",!0)}},l.a.createElement("i",{className:"iconfont icon-resolution fem-225"}),l.a.createElement("p",null,i.a.lang("mobile.futures.menu.1")))),l.a.createElement("dd",{className:"pos-dd1"},l.a.createElement("div",{onClick:function(){return e.toggleBlock("log",!0)}},l.a.createElement("i",{className:"iconfont icon-edit-order fem-275"}),l.a.createElement("p",null,i.a.lang("mobile.futures.menu.2")))),l.a.createElement("dd",{className:"pos-dd2"},l.a.createElement("div",{onClick:function(){return e.toggleBlock("product",!0)}},l.a.createElement("i",{className:"iconfont icon-Kline fem-275"}),l.a.createElement("p",null,i.a.lang("mobile.futures.menu.4")))),l.a.createElement("dd",{className:"pos-dd3"},l.a.createElement("div",{onClick:function(){return e.toggleBlock("order",!0)}},l.a.createElement("i",{className:"iconfont icon-trade-order fem-275"}),l.a.createElement("p",null,i.a.lang("mobile.futures.menu.3")))),l.a.createElement("dd",{className:"pos-dd4"},t.Email?l.a.createElement(u.Link,{to:"/personal"},l.a.createElement("i",{className:"iconfont icon-user fem-275"}),l.a.createElement("p",null,i.a.lang("NavBar.104"))):l.a.createElement(u.Link,{to:"/login"},l.a.createElement("i",{className:"iconfont icon-user fem-275"}),l.a.createElement("p",null,i.a.lang("LoginBox.100")))),l.a.createElement("dt",{className:"pos-dd5"},l.a.createElement("div",{className:"m-tradeMenu-icon-main mg-md",onClick:function(){return e.toggleBlock("main")}},l.a.createElement("i",null)),l.a.createElement("p",null,i.a.lang("mobile.futures.menu.0"))))}}]),t}(c.a),O=function(e){function t(e){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.dragStart=function(e){k("#klineMask")&&k("#klineMask").removeClass("hide"),e.stopPropagation(),document.addEventListener("touchmove",n.dragMove),document.addEventListener("touchend",n.dragEnd);var t=e.touches[0].clientX,a=e.touches[0].clientY;console.log(t,a),n.setState({originX:t,originY:a,lastX:n.state.X,lastY:n.state.Y})},n.dragMove=function(e){e.stopPropagation(),n.isDrag=!0;var t=n.state,a=t.originX,r=t.originY,o=t.lastX,i=t.lastY,s=0,l=0;if(n.directH||!n.transType){s=e.touches[0].clientX-a+o,l=e.touches[0].clientY-r+i;var c=-(n.winW-105),u=-(n.winH-105);s=s>45?45:s,l=l>45?45:l,s=s<c?c:s,l=l<u?u:l,n.setState({X:s,Y:l,isClick:!0})}else{s=-(e.touches[0].clientX-a-i),l=e.touches[0].clientY-r+o;var d=105-n.winW,p=105-n.winH;s=s>45?45:s,l=l>45?45:l,s=s<d?d:s,l=l<p?p:l,n.setState({X:l,Y:s,isClick:!0})}},n.dragEnd=function(e){k("#klineMask")&&k("#klineMask").addClass("hide"),e.stopPropagation(),document.removeEventListener("touchmove",n.dragMove),document.removeEventListener("touchend",n.dragEnd),n.isDrag?(n.isDrag=!1,n.setClickEffect(2e3,"hide")):n.openMenu()},n.transType=!1,n.directH=!1,n.effTime=null,n.isDrag=!1,n.winW=300,n.winH=300,n.state={isClick:!1,X:0,Y:0,originX:0,originY:0,lastX:0,lastY:0},n}return o(t,e),S(t,[{key:"componentWillMount",value:function(){this.winW=k(window).width(),this.winH=k(window).height(),this.winW>this.winH&&(this.directH=!0),this.transType=this.props.transType}},{key:"componentWillUnmount",value:function(){clearTimeout(this.effTime)}},{key:"openMenu",value:function(){this.setState({isClick:!0}),this.setClickEffect(300)}},{key:"setClickEffect",value:function(e,t){var n=this;this.effTime&&(clearTimeout(this.effTime),this.effTime=null),this.effTime=setTimeout(function(){t?n.setState({isClick:!1}):n.props.onChange()},e)}},{key:"componentWillReceiveProps",value:function(e){var t=e.showMenu,n=this.props.showMenu;!t&&n&&this.setClickEffect(2e3,"hide")}},{key:"render",value:function(){var e=this,t=this.props.showMenu,n=this.state,a=n.X,r=n.Y,o=n.isClick;return l.a.createElement("div",{className:(o?"active":"")+" mb-trade-menu-btn "+(t?"hide":""),onTouchStart:function(t){return e.dragStart(t)},style:{transform:"translate("+a+"px,"+r+"px)"}},l.a.createElement("p",null,l.a.createElement("span",null,l.a.createElement("i",null))))}}]),t}(c.a)}).call(t,n(13))},89:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=n.n(i),l=n(24),c=n(19),u=n(542),d=n(574),p=n(576),h=n(6),f=n(3),m=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),g=function(e){function t(e){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.isMobile=Object(h.h)(),n.state={code:n.props.params.name||c.a.getCurrCode()},n}return o(t,e),m(t,[{key:"componentWillMount",value:function(){f.a.addListener(f.a.EventName.PRODUCT_UPDATE,this.onProductUpdate.bind(this),this),this.state.code!=c.a.getCurrCode()&&this.state.code&&this.onChangeCode(this.state.code)}},{key:"onProductUpdate",value:function(){!this.state.code&&c.a.getCurrCode()&&this.onChangeCode(c.a.getCurrCode())}},{key:"componentWillReceiveProps",value:function(e){var t=e.params.name;this.state.code!=t&&t&&this.onChangeCode(t)}},{key:"onChangeCode",value:function(e){e&&(c.a.getCurrCode()!=e&&c.a.selectCode(e),this.state.code!=e&&this.setState({code:e}))}},{key:"render",value:function(){var e=this.props,t=e.user,n=e.uInfo,a=this.state.code,r=c.a.getCodeList(),o=!a||!r.length||c.a.isFut(a);return this.isMobile?s.a.createElement(p.a,{code:a,user:t,uInfo:n,isFut:o}):o?s.a.createElement(u.a,{code:a,user:t,uInfo:n}):s.a.createElement(d.a,{code:a,user:t,uInfo:n})}}]),t}(l.a);t.default=g}});