// langvar Event = require('../../core/event.js');jQuery.divselect = function(divselectid,inputselectid) {	var inputselect = $(inputselectid);	$(divselectid+" cite").click(function(event){		var ul = $(divselectid+" ul");		if(ul.css("display")=="none"){			ul.slideDown("fast");		}else{			ul.slideUp("fast");		}		event.stopPropagation();    //  阻止事件冒泡	});	$.documentClick(divselectid);};jQuery.documentClick = function(name){    $(document).click(function(){        var ul = $(name+" ul");        if (ul.css("display")!="none") {            $(name + " ul").slideUp("fast");        }        var tradeNode = $('.shp_box');        if (tradeNode && tradeNode.css('display')!='none'){            tradeNode.slideUp();        }		var menu = $('#menu');		if (menu){			menu.hide();		}    });};// tradeFull.js(function($) {	$.fn.extend({fullBg: function(){		var tdView = $(this);             	    // k 线图		var recordBox = $('#tv_chart_bottom');  // bottom 交易记录		var leftBox = tdView.parent();		var rightBox = $('#tv_chart_right');     // right box		var chatList = $(rightBox).find('.plist-area4');		// Chat list		var tradeList = $(rightBox).find('.plist-area2');		// trade list		var newsPanel = $(rightBox).find('#tv_right_bt');		// news Panel		var newsList = $(rightBox).find('.scroll-full');		// 新闻列表		var buyPanel = $(rightBox).find('#tv_right_ct');		// right 详细        var navH = 65, padH = 8;  			        // (固定height) 导行栏、间隔		var r_th = 408, r_tc = 226, r_tb = 227;		// 右 每块的默认高度		var tTitle = 31, nTitle = 45, chatfix=32;   // 产品列表2个title(31+31), 新闻（40+5(title+list paddingTop 高), 聊天滚动高-产品滚动高[(滚动高差异) Scroll = 47]        var rW = 292;      	// rightBox width		tdView.addClass('fullBg');		//if ($(window).height()<780){		//	newsPanel.addClass('hide');		//}        function getTradeHeight(winH){      // 获取不同屏幕分辨率下 trade Panel高度 (注：需要结合goule.css 滚动条同步定义)            var pize = {};            if (winH>1070){         // pize: 1080                pize = {                    panH: 580-36,                    sroH: 482                };            }else if (winH>890){    // pize: 900                pize = {                    panH: 500-36,                    sroH: 402                };            }else{                pize = {                    panH: 408-36,                    sroH: 310                };            }            return pize;        }        var winW, winH, rboxH, leftW, tvH, wPercent, trLH, lessNewboxH, botH, isChange=false;		window.resizeWindow = function() {            winW = $(window).width();            winH = $(window).height();			rboxH = winH - navH;					    // Box Height            botH = recordBox.height();                  // recordBox Height            wPercent = (winW-(rW + 15))/winW*100;       // kLine width percent            leftW = wPercent.toFixed(1,10) ;            tvH = rboxH - (botH + padH);				// kLine Height			//console.log(winW, winH); console.log(leftW, rW);            tdView.css({                height: tvH+'px'            });			leftBox.css({width: leftW+'%'});			r_tc = $(buyPanel).height();			if(!r_tc){				r_tc = $('#tv_right_ct').height();			}			lessNewboxH = r_th + r_tc + nTitle;			//if (rboxH<lessNewboxH){					// （小屏幕或缩小屏幕，不显示新闻）hide news			//	newsPanel.addClass('hide');				trLH = rboxH - (r_tc + tTitle+2);				trLH = trLH < 0 ? 0 : trLH;				tradeList.css({height: trLH + 'px'});				chatList.css({height: trLH+chatfix + 'px'});				return;			//}            var Pize = getTradeHeight(winH);            if (r_th==Pize.panH){                isChange = false;            }else{                isChange = true;                r_th = Pize.panH;            }			if (newsPanel.hasClass('hide')) {		// （小屏幕，不显示新闻）				trLH = rboxH - (tTitle + r_tc);				trLH = trLH < 0 ? 0 : trLH;				if (trLH>400){						//（放大屏幕，重新显示新闻） trLH > (plist-area2 + news panel minH)					trLH = Pize.sroH;						// 滚动条默认高度 (.plist-area2)					newsPanel.removeClass('hide');					var th = rboxH - (tTitle + r_tc + nTitle + trLH);					newsList.css({height:(th) + 'px'});				}				tradeList.css({height: trLH + 'px'});				chatList.css({height: trLH+chatfix + 'px'});			}else{				var th = rboxH - (r_th + r_tc + nTitle+2);				if (th<30) {									// 小于30不足下放一条新闻，则关闭新闻list					newsPanel.addClass('hide');					trLH = rboxH - (tTitle + r_tc);					tradeList.css({height:trLH + 'px'});					chatList.css({height: trLH+chatfix + 'px'});				}else{					newsPanel.removeClass('hide');					newsList.css({height:(th) + 'px'});					if(isChange){                        tradeList.css({height:Pize.sroH + 'px'});                        chatList.css({height: Pize.sroH+chatfix + 'px'});					}				}			}		//console.log(trLH);		};	/* 调整全屏窗口大小 */		resizeWindow();		$(window).resize(function() {			resizeWindow();		});	/* 拖动订单列表 调整K线图与订单窗口 高度*/		var posy = 0 ,canMove = false;			// 公共标记		var dragItem = $('#drag_history_panel'), orderList, newsList, fixH, minOrdlistH = 65;		dragItem.off();		dragItem.on("mousedown", function(e){            var posix = {                'x': e.pageX,                'y': e.pageY            };            posy = posix.y;			canMove = true;            resizeBox();			orderList = $('.order-area2');       // 下单list			newsList = $(leftBox).find('#tv_right_bt')[0];		// news Panel		});        function resizeBox () {			var divNode = isIE ? $('<div class="full-mask"></div>'):null, divDom=null, recoreListH;            $(document).on("mouseup", function (e) {                canMove = false;                posy = 0;                $(document).off();				tdView.css({pointerEvents:'auto'});                if(divDom)divDom.addClass('hide');				orderList = null;				Event.dispatch(Event.EventName.ORDERAREA_RESIZE,{height:recoreListH});            }).on("mousemove", function (e) {                e.preventDefault();                e.stopPropagation();                if (canMove) {                    var posix = {                        'x': e.pageX,                        'y': e.pageY                    };                    fixH = posix.y - posy;		// 偏移量（也可表示方向，fixH<0 向上,反之向下）                    posy = posix.y;                                        console.log('move:' + fixH);                    var tvH = tdView.height(), botH = recordBox.height();                    var klineH = tvH + fixH, recordH = botH - fixH;                    if (recordH<=minOrdlistH){			// 历史订单 列表高度 <= 最小默认高度                        return false;                    } else if(klineH<320 && fixH<0){     // Kline高度<320，不能向上拉                        canMove = false;                        posy = 0;                        $(document).off();                        tdView.css({pointerEvents:'auto'});                        if(divDom)divDom.addClass('hide');                        return false;                    }                    if (isIE){				// ie 添加遮罩层                        if(!isAdd ){                            tdView.append(divNode);                            isAdd = true;                        }						divDom = divDom ? divDom : ($('.full-mask')||divNode);                        divDom.removeClass('hide');                        tdView.css({height: klineH + 'px'});                    }else{                        tdView.css({height: klineH + 'px',pointerEvents:'none'});                    }                    recordBox.css({height: recordH + 'px'});                    //if (recordH>96){					recoreListH = recordH-minOrdlistH;					if(newsList){						orderList.css({height: recoreListH+22 + 'px'});					}else					orderList.css({height: recoreListH + 'px'});                    //}                }                return false;            })        }	/* 拖动资讯块 调整产品列表与资讯窗口 高度*/		var newsBar = $('#drag_news_panel');		newsBar.off();		newsBar.on("mousedown", function(e){			var posix = {				'x': e.pageX,				'y': e.pageY			};			posy = posix.y;			canMove = true;			resizeNewsBox();		});		function resizeNewsBox(){			//var maxMoveH = rboxH - (r_tc+140);			// 最大拖动范围，（110 px= 产品列表头部+2个产品）			$(document).on("mouseup", function (e) {				canMove = false;				posy = 0;				$(document).off();			}).on("mousemove", function (e) {				e.preventDefault();				e.stopPropagation();				if (canMove) {					var posix = {						'x': e.pageX,						'y': e.pageY					};					fixH = posix.y - posy;		// 偏移量（也可表示方向，fixH<0 向上,反之向下）					posy = posix.y;					var tradeH = tradeList.height(), newsH = newsList.height();					var tdH = tradeH + fixH, newH = newsH - fixH;					if ((newsH<23 && fixH>0) || (tradeH<62 && fixH<0)){		// 保留1条资讯 、2个产品高度						return false;					}					tradeList.css({height: tdH + 'px'});					newsList.css({height: newH + 'px'});					chatList.css({height: tdH+chatfix + 'px'});				}				return false;			});		}        // 检查内核        var isIE, isAdd=false;        function checkIE(){            var UA = navigator.userAgent.toLowerCase().toString();            var ie = /(msie\s|trident.*rv:)([\w.]+)/.test(UA);            var edge = /(edge)\/((\d+)?[\w\.]+)/i.test(UA);            if (ie || edge){                return isIE = true;            }else{                return isIE = false;            }        }        checkIE();    }});})(jQuery);function startSlide(slideWrap, pic, btn, info,fn){  console.log(slideWrap);	var style = info.style || "move";	var actClass = info.actClass || "act";	var speed = info.speed || "normal";	var slideWrap = slideWrap;	var pic = pic;	var picLists = pic.children();		var btns = btn.children();	var len = picLists.length;	var timer  = null;	var now    = 0;	var zIndex = 0;		/*根据不同类型，改变布局*/	if(style == "opacity"){		picLists.css({"position":"absolute", "left":0, "top":0}).each(function(){			$(this).css({"zIndex":-$(this).index()});		});		}else if(style == "move"){		pic.css("width",picLists.eq(0).width() * len);	}	starMove();	//焦点图开始	function starMove(){		$(btns).mouseenter(function(){			if ($(this).attr("class") == actClass) return;			clearInterval(timer);			now = $(this).index();			tab();			if(fn){				fn();			}			return false;		});			slideWrap.on("mouseenter",function(){			clearInterval(timer);			return false;		});		slideWrap.on("mouseleave",function(){			clearInterval(timer);			timer = setInterval(next, speed);			return false;		});		function next(){			now ++;			if (now > len - 1) now = 0;			tab();			if(fn){				fn();			}		}		function tab(num){			btns.removeClass(actClass).eq(now).addClass(actClass);			zIndex ++;			if(style == "opacity"){				picLists.eq(now).hide();				picLists.eq(now).fadeIn();				picLists.eq(now).css("zIndex", zIndex);			}else if(style == "move"){				pic.stop().animate({"left" : -(now * picLists.eq(0).width())});			}		}		timer = setInterval(next,speed);	}}window.startSlide = startSlide;